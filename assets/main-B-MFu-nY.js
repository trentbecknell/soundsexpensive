import{r as E,j as u,c as ya,g as de,R as $,a as Oy,M as Ay,b as Py}from"./index-Dak7PyJW.js";const tt=[{key:"craft",title:"Craft (writing & performance)",help:"How consistent and developed are your songwriting, vocal or instrumental skills? 1 = emerging, 5 = world-class"},{key:"catalog",title:"Catalog (song inventory)",help:"How many finished, releasable songs do you have and how strong are they? 1 = a few rough ideas, 5 = large, release-ready catalog"},{key:"brand",title:"Brand & Visuals",help:"Do you have a clear sound, visual identity, and assets (photos, artwork, colors)?"},{key:"team",title:"Team & Partners",help:"Do you have consistent collaborators, management, booking, or label partners?"},{key:"audience",title:"Audience & Engagement",help:"Do you have a measurable and engaged audience across platforms?"},{key:"ops",title:"Ops (finance & legal)",help:"Are your business operations, rights ownership, and finances organised?"}],sn=[{key:"craft",systemMessage:"Let's talk about your musical abilities. Tell me about your songwriting process, performance experience, or technical skills. For example, do you write your own songs? Play instruments? Produce?",suggestions:["I write and produce my own music","I collaborate with other songwriters","I'm mainly focused on performing","I'm learning production right now"]},{key:"catalog",systemMessage:"Let's discuss your song catalog. How many finished songs do you have? Are they released or unreleased? Think about both quantity and quality.",suggestions:["I have several demos","I release music regularly","Working on my first EP","Building a collection of singles"]},{key:"brand",systemMessage:"Tell me about your artist brand and visual identity. Do you have a consistent look, logo, or aesthetic? What story does your visual presence tell?",suggestions:["I have professional photos","Working on my visual style","My aesthetic is DIY/authentic","Need help with branding"]},{key:"team",systemMessage:"Who's on your team? This could include managers, producers, bookers, or regular collaborators. Don't worry if you're doing everything yourself right now.",suggestions:["I'm indie/self-managed","I work with a producer","Have some key collaborators","Looking for management"]},{key:"audience",systemMessage:"Let's talk about your audience and engagement. This includes social media followers, streaming numbers, live show attendance, or any other ways you connect with fans.",suggestions:["Building social following","Regular live shows","Growing streaming numbers","Focused on content creation"]},{key:"ops",systemMessage:"How organized are your music business operations? Think about things like copyright registration, streaming accounts, financial tracking, or legal agreements.",suggestions:["Registered for PROs","Have distribution setup","Track my expenses","Need legal help"]}];function qp({messages:e,onSendMessage:t,suggestions:r=[],className:n=""}){const[a,i]=E.useState(""),[o,s]=E.useState(!1);E.useEffect(()=>{const l=e[e.length-1];if((l==null?void 0:l.type)==="user"){s(!0);const f=setTimeout(()=>{s(!1)},800);return()=>clearTimeout(f)}else s(!1)},[e]);const c=l=>{l.preventDefault(),a.trim()&&(t(a),i(""))};return u.jsxs("div",{className:`flex flex-col h-full ${n} bg-surface-800/50 rounded-xl border border-surface-700`,children:[u.jsx("div",{className:"border-b border-surface-700/50 px-6 py-4 bg-surface-800/80",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-surface-50",children:"Strategic Planning Assistant"}),u.jsx("p",{className:"text-sm text-surface-400 mt-0.5",children:e.filter(l=>l.type==="user").length===0?"Let's create a data-driven roadmap for your next release":`${e.filter(l=>l.type==="user").length} response${e.filter(l=>l.type==="user").length===1?"":"s"} • Building your strategic plan`})]}),o&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-surface-400",children:[u.jsx("div",{className:"w-1.5 h-1.5 bg-primary-500 rounded-full animate-pulse"}),u.jsx("span",{children:"Analyzing..."})]})]})}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[e.map(l=>u.jsx("div",{className:`max-w-[85%] rounded-lg p-4 ${l.type==="user"?"bg-primary-600/20 ml-auto text-surface-50 border border-primary-500/30":l.type==="suggestion"?"bg-surface-700/30 text-surface-200 border border-surface-600/30":"bg-surface-700/50 text-surface-100 border border-surface-600/40"}`,children:u.jsx("p",{className:"text-sm leading-relaxed",children:l.content})},l.id)),o&&u.jsx("div",{className:"max-w-[85%]",children:u.jsx("div",{className:"bg-surface-700/50 border border-surface-600/40 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsxs("div",{className:"flex space-x-1.5",children:[u.jsx("div",{className:"w-2 h-2 bg-primary-400 rounded-full animate-bounce"}),u.jsx("div",{className:"w-2 h-2 bg-primary-400 rounded-full animate-bounce",style:{animationDelay:"0.15s"}}),u.jsx("div",{className:"w-2 h-2 bg-primary-400 rounded-full animate-bounce",style:{animationDelay:"0.3s"}})]}),u.jsx("span",{className:"text-xs text-surface-400",children:"Analyzing your response..."})]})})})]}),u.jsxs("form",{onSubmit:c,className:"px-6 py-4 border-t border-surface-700/50 bg-surface-800/40",children:[u.jsxs("div",{className:"flex gap-3",children:[u.jsx("input",{type:"text",value:a,onChange:l=>i(l.target.value),placeholder:"Type your response or question...",className:"flex-1 bg-surface-700/50 rounded-lg px-4 py-3 text-sm text-surface-100 placeholder-surface-400 border border-surface-600 focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 transition-all outline-none",disabled:o}),u.jsx("button",{type:"submit",disabled:!a.trim()||o,className:"px-6 py-3 bg-primary-600 hover:bg-primary-700 disabled:bg-surface-600 disabled:cursor-not-allowed text-white rounded-lg text-sm font-medium transition-all",children:o?u.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]}),u.jsx("div",{className:"mt-2 text-xs text-surface-500",children:"Press Enter to send • Be specific about your goals and constraints"})]})]})}const jo=()=>Math.random().toString(36).slice(2,9);function Ny({initialAnswers:e,onFinish:t,onCancel:r}){const[n,a]=E.useState(0),[i,o]=E.useState(()=>({...e})),[s,c]=E.useState(!1),[l,f]=E.useState(()=>{const h=sn[0];return[{id:jo(),type:"system",content:h.systemMessage}]}),d=E.useRef(null);E.useEffect(()=>{if(n<sn.length){const h=sn[n];f(g=>[...g,{id:jo(),type:"system",content:h.systemMessage}])}},[n]);const p=h=>{f(g=>[...g,{id:jo(),type:"user",content:h}])};E.useEffect(()=>{const h=g=>{d.current&&(g.key==="ArrowLeft"&&a(_=>Math.max(0,_-1)),g.key==="ArrowRight"&&a(_=>Math.min(tt.length,_+1)),g.key==="Enter"&&n===tt.length&&t(i),g.key==="Escape"&&r())};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[n,i,t,r]);const m=tt[n],v=n===tt.length;return u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",role:"dialog","aria-modal":"true","aria-labelledby":"wizard-title",ref:d,children:[u.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:r,"aria-hidden":"true"}),u.jsxs("div",{className:"relative w-full max-w-5xl rounded-2xl bg-surface-800 p-6",role:"document",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2 text-primary-100",children:"Guided assessment"}),u.jsx("p",{className:"text-sm text-surface-300 mb-4",children:"Answer a few short prompts to help compute your maturity baseline. You can edit values later."}),u.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[u.jsx("div",{className:"flex-1",children:v?u.jsxs("div",{className:"mb-4",children:[u.jsx("div",{className:"text-sm font-medium",children:"Review your answers"}),u.jsx("div",{className:"mt-3 grid gap-2",children:tt.map(h=>u.jsxs("div",{className:"flex items-center justify-between rounded p-2 bg-surface-700/40",children:[u.jsx("div",{className:"text-sm",children:h.title}),u.jsxs("div",{className:"text-sm font-medium",children:[i[h.key]," / 5"]})]},h.key))}),u.jsx("div",{className:"mt-3 text-xs text-surface-400",children:"Note: These values will be used as the baseline for the automated maturity calculation. You can tweak them later from the profile screen."})]}):u.jsxs("div",{className:"mb-4",children:[u.jsx("div",{className:"text-sm font-medium",id:"wizard-title",children:m.title}),u.jsx("div",{className:"text-xs text-surface-400 mb-2",children:m.help}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("input",{"aria-label":`${m.title} score`,type:"range",min:1,max:5,step:1,value:i[m.key],onChange:h=>o(g=>({...g,[m.key]:parseInt(h.target.value)})),className:"w-full"}),u.jsx("div",{className:"w-12 text-center text-surface-100","aria-live":"polite",children:i[m.key]})]})]})}),u.jsxs("div",{className:"w-full md:w-96",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h4",{className:"text-sm font-medium",children:"Need help?"}),u.jsx("button",{onClick:()=>c(!s),className:"text-xs px-2 py-1 rounded border border-surface-600 hover:bg-surface-700",children:s?"Hide chat":"Show chat"})]}),s&&!v&&u.jsx("div",{className:"h-[400px] border border-surface-700 rounded-lg",children:u.jsx(qp,{messages:l,onSendMessage:p,suggestions:sn[Math.min(n,sn.length-1)].suggestions})})]})]}),u.jsxs("div",{className:"flex justify-between mt-6",children:[u.jsxs("div",{children:[u.jsx("button",{className:"rounded px-3 py-2 border border-surface-700 text-xs",onClick:()=>a(h=>Math.max(0,h-1)),disabled:n===0,children:"Prev"}),u.jsx("button",{className:"ml-2 rounded px-3 py-2 border border-primary-600 text-xs text-primary-100",onClick:()=>o(h=>({...h,[tt[Math.max(0,Math.min(tt.length-1,n))].key]:Math.min(5,(h[tt[Math.max(0,Math.min(tt.length-1,n))].key]||1)+1)})),children:"+1"})]}),u.jsx("div",{children:v?u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{className:"rounded px-3 py-2 border border-surface-700 text-xs",onClick:()=>a(tt.length-1),children:"Back"}),u.jsx("button",{className:"rounded px-3 py-2 bg-accent-600 text-xs text-accent-50",onClick:()=>t(i),children:"Save & Finish"})]}):u.jsx("button",{className:"rounded px-3 py-2 bg-primary-600 text-xs text-primary-50",onClick:()=>a(h=>Math.min(tt.length,h+1)),children:"Next"})})]})]})]})}function $y({message:e}){return u.jsx("div",{className:"fixed right-6 bottom-6 z-60 rounded-lg bg-surface-700/90 border border-surface-600 px-4 py-2 text-sm text-surface-50 shadow-lg",children:e})}class Rl{static analyzeArtistProfile(t,r,n){const a=[];for(const i of n){const o=this.calculateCompatibilityScore(i,t,r),s=this.identifyMatchingFactors(i,t,r),c=this.generateRecommendations(i,t,r),l=this.identifyPotentialIssues(i,t,r);a.push({grant:i,compatibility_score:o,matching_factors:s,recommendations:c,potential_issues:l})}return a.sort((i,o)=>o.compatibility_score-i.compatibility_score)}static filterByEligibility(t,r,n){return t.filter(a=>{var i,o,s;if(a.eligibility.career_stage&&a.eligibility.career_stage.length>0){const c=(i=r.stage)==null?void 0:i.toLowerCase();if(!a.eligibility.career_stage.includes(c)&&!a.eligibility.career_stage.includes("any"))return!1}if(a.eligibility.genres&&a.eligibility.genres.length>0&&!(((o=n.identity)==null?void 0:o.primary_genres)||[]).some(f=>a.eligibility.genres.some(d=>f.toLowerCase().includes(d.toLowerCase())||d.toLowerCase().includes(f.toLowerCase()))))return!1;if(a.eligibility.geographic_restrictions&&a.eligibility.geographic_restrictions.length>0){const c=((s=r.city)==null?void 0:s.toLowerCase())||"";if(!a.eligibility.geographic_restrictions.some(f=>c.includes(f.toLowerCase())||f.toLowerCase()==="united states"||f.toLowerCase()==="usa"||f.toLowerCase()==="north america"))return!1}return!0})}static calculateCompatibilityScore(t,r,n){var f;let a=0,i=0;if(i+=20,t.eligibility.genres&&((f=n.identity)!=null&&f.primary_genres)){const d=this.calculateGenreOverlap(t.eligibility.genres,n.identity.primary_genres);a+=d*20}if(i+=15,t.eligibility.career_stage){const d=this.calculateStageMatch(t.eligibility.career_stage,r.stage);a+=d*15}if(i+=15,t.eligibility.project_type){const d=this.calculateProjectTypeMatch(t,r);a+=d*15}i+=10;const o=this.calculateAmountAppropriateScore(t,r,n);a+=o*10,i+=15;const s=this.calculateApplicationFeasibility(t,r,n);a+=s*15,i+=10;const c=this.calculateTimelineCompatibility(t);a+=c*10,i+=15;const l=this.calculateSuccessProbability(t,r,n);return a+=l*15,Math.round(a/i*100)}static identifyMatchingFactors(t,r,n){var c,l,f,d;const a=[];if(t.eligibility.genres&&((c=n.identity)!=null&&c.primary_genres)){const p=n.identity.primary_genres.filter(m=>t.eligibility.genres.some(v=>m.toLowerCase().includes(v.toLowerCase())));p.length>0&&a.push(`Accepts ${p.join(", ")} artists`)}(f=t.eligibility.career_stage)!=null&&f.includes((l=r.stage)==null?void 0:l.toLowerCase())&&a.push(`Targets ${r.stage} artists`),t.award_amount.min<=1e4&&r.stage==="Emerging"?a.push("Appropriate funding level for emerging artists"):t.award_amount.max>=25e3&&["Established","Breakout"].includes(r.stage)&&a.push("Substantial funding available for established artists"),t.category==="recording"&&((d=r.project)!=null&&d.projectType)&&a.push("Supports recording projects");const i=new Date(t.timeline.application_deadline),o=new Date;return Math.ceil((i.getTime()-o.getTime())/(1e3*60*60*24))>30&&a.push("Ample time to prepare application"),t.success_rate&&t.success_rate>.2&&a.push(`Good success rate (${Math.round(t.success_rate*100)}%)`),a}static generateRecommendations(t,r,n){const a=[];r.stage==="Emerging"?(a.push("Focus on your artistic development and potential in your application"),a.push("Highlight any mentorship or educational components of your project")):["Established","Breakout"].includes(r.stage)&&(a.push("Emphasize your track record and community impact"),a.push("Include detailed project outcomes and measurable goals")),t.requirements.work_samples&&a.push(`Prepare ${t.requirements.work_samples.quantity} high-quality work samples`),t.requirements.budget_required&&a.push("Create a detailed, realistic budget with line-item costs"),t.requirements.references_required&&a.push(`Secure ${t.requirements.references_required} strong professional references`),t.category==="recording"?a.push("Detail your recording plan, studio choices, and production team"):t.category==="touring"&&a.push("Include confirmed venues, routing plans, and audience development strategy");const i=new Date(t.timeline.application_deadline),o=new Date,s=Math.ceil((i.getTime()-o.getTime())/(1e3*60*60*24));return s<30?a.push("Priority application - deadline approaching soon"):s>90&&a.push("Start gathering materials early for this competitive opportunity"),a}static identifyPotentialIssues(t,r,n){const a=[];t.eligibility.nonprofit_status_required&&!r.hasNonprofitStatus&&a.push("Requires nonprofit status or fiscal sponsorship"),t.eligibility.matching_funds_required&&r.stage==="Emerging"&&a.push("Requires matching funds which may be challenging for emerging artists"),t.success_rate&&t.success_rate<.1&&a.push("Highly competitive - low success rate");const i=new Date(t.timeline.application_deadline),o=new Date;return Math.ceil((i.getTime()-o.getTime())/(1e3*60*60*24))<14&&a.push("Very tight deadline - may not allow for quality application"),t.requirements.application_materials.length>8&&a.push("Complex application with many required materials"),t.award_amount.min>5e4&&r.stage==="Emerging"&&a.push("Large award amount may require significant experience/track record"),a}static calculateGenreOverlap(t,r){return r.filter(a=>t.some(i=>a.toLowerCase().includes(i.toLowerCase())||i.toLowerCase().includes(a.toLowerCase()))).length/Math.max(r.length,1)}static calculateStageMatch(t,r){return t.includes("any")||t.includes(r==null?void 0:r.toLowerCase())?1:0}static calculateProjectTypeMatch(t,r){return!t.eligibility.project_type||!r.project?.5:({EP:["recording","album","music"],Album:["recording","album","music"],Singles:["recording","single","music"]}[r.project.projectType]||[]).some(o=>t.eligibility.project_type.includes(o))?1:.3}static calculateAmountAppropriateScore(t,r,n){const a=r.stage,i=t.award_amount.min,o=t.award_amount.max,s={Emerging:{min:500,max:15e3},Developing:{min:2e3,max:35e3},Established:{min:5e3,max:75e3},Breakout:{min:1e4,max:15e4}},c=s[a]||s.Developing;return o>=c.min&&i<=c.max?1:i>c.max?.3:.6}static calculateApplicationFeasibility(t,r,n){let a=1;const i=t.requirements.application_materials.length;return i>10&&(a-=.3),i>15&&(a-=.3),r.stage==="Emerging"&&i>8&&(a-=.2),t.requirements.references_required&&t.requirements.references_required>3&&(a-=.1),Math.max(0,a)}static calculateTimelineCompatibility(t){const r=new Date(t.timeline.application_deadline),n=new Date,a=Math.ceil((r.getTime()-n.getTime())/(1e3*60*60*24));return a<0?0:a<7?.2:a<14?.5:a<30?.8:1}static calculateSuccessProbability(t,r,n){var o,s;let a=t.success_rate||.15;const i=r.stage;return(o=t.eligibility.career_stage)!=null&&o.includes("emerging")&&i==="Emerging"&&(a+=.1),t.award_amount.min>25e3&&["Established","Breakout"].includes(i)&&(a+=.05),((s=t.eligibility.geographic_restrictions)==null?void 0:s.length)===1&&(a+=.05),Math.min(1,a)}}function Ty(e,t){return e.filter(r=>{if(t.grant_types&&!t.grant_types.includes(r.grant_type)||t.categories&&!t.categories.includes(r.category)||t.funding_sources&&!t.funding_sources.includes(r.funding_source))return!1;if(t.award_amount_range){const{min:n,max:a}=t.award_amount_range;if(r.award_amount.max<n||r.award_amount.min>a)return!1}if(t.deadline_range){const n=new Date(r.timeline.application_deadline),a=new Date(t.deadline_range.start),i=new Date(t.deadline_range.end);if(n<a||n>i)return!1}if(t.genres&&r.eligibility.genres&&!t.genres.some(a=>r.eligibility.genres.some(i=>a.toLowerCase().includes(i.toLowerCase())||i.toLowerCase().includes(a.toLowerCase()))))return!1;if(t.keywords){const n=`${r.title} ${r.description} ${r.funder_name}`.toLowerCase();if(!t.keywords.toLowerCase().split(" ").some(o=>n.includes(o)))return!1}return!0})}function Ey(e,t,r="desc"){return[...e].sort((n,a)=>{let i=0;switch(t){case"deadline":i=new Date(n.timeline.application_deadline).getTime()-new Date(a.timeline.application_deadline).getTime();break;case"amount":i=n.award_amount.max-a.award_amount.max;break;case"success_rate":i=(n.success_rate||0)-(a.success_rate||0);break;default:i=0}return r==="asc"?i:-i})}const xn=[{id:"nea-gap-001",title:"NEA Grants for Arts Projects",description:"The National Endowment for the Arts' principal grants category supporting arts projects of all sizes in a wide variety of artistic disciplines including music, with focus on artistic excellence and public engagement.",summary:"Federal funding for high-quality arts projects that engage the public",funder_name:"National Endowment for the Arts",funder_website:"https://www.arts.gov",funding_source:"federal",grant_type:"project",category:"general_operating",award_amount:{min:1e4,max:1e5,currency:"USD",typical_amount:25e3},total_funding_available:275e5,number_of_awards:900,eligibility:{geographic_restrictions:["United States"],career_stage:["emerging","developing","established"],organization_type:["nonprofit","tribal_government","state_government","local_government"],genres:["all music genres"],project_type:["concerts","festivals","recordings","educational","community_outreach"],citizenship_requirements:["US organizations only"],nonprofit_status_required:!0,matching_funds_required:!0},requirements:{application_materials:["Project narrative","Detailed budget","Timeline","Staff qualifications","Organizational information","Work samples","Support materials"],supporting_documents:["IRS determination letter","Audited financial statements","Board of directors list","Letters of commitment"],references_required:0,work_samples:{type:"audio or video",quantity:2,format:["mp3","mp4","wav"]},project_proposal:!0,budget_required:!0,timeline_required:!0,evaluation_criteria:["Artistic excellence","Artistic merit","Public engagement","Organizational capacity","Project feasibility"]},timeline:{application_deadline:"2026-02-11",notification_date:"2026-06-15",funding_start_date:"2026-10-01",project_completion_date:"2027-09-30",reporting_deadlines:["2027-04-30","2027-10-30"],application_period_start:"2025-12-01"},renewable:!0,multi_year:!1,overhead_allowed:!0,indirect_costs_allowed:!1,created_at:"2025-10-22T00:00:00Z",updated_at:"2025-10-22T00:00:00Z",tags:["federal","arts","music","public_engagement","professional"],external_id:"NEA-GAP-2026",source_platform:"grants.gov",success_rate:.12,average_award_amount:23500,previous_recipients:["Symphony orchestras","Music festivals","Community music programs"]},{id:"ascap-emerging-001",title:"ASCAP Foundation Emerging Artist Grant",description:"Support for emerging songwriters and composers to develop their craft and advance their careers through mentorship, education, and project funding.",summary:"Career development grants for emerging music creators",funder_name:"ASCAP Foundation",funder_website:"https://www.ascapfoundation.org",funding_source:"private_foundation",grant_type:"individual",category:"artist_development",award_amount:{min:1e3,max:15e3,currency:"USD",typical_amount:5e3},total_funding_available:5e5,number_of_awards:75,eligibility:{geographic_restrictions:["United States","Canada"],age_restrictions:{min_age:18,max_age:35},career_stage:["emerging","developing"],genres:["all music genres","contemporary","classical","jazz","pop","hip-hop"],project_type:["songwriting","composition","recording","education"],citizenship_requirements:["US or Canadian citizens/residents"],previous_grant_restrictions:!1},requirements:{application_materials:["Personal statement","Project description","Budget breakdown","Work samples","Biography","Career goals statement"],supporting_documents:["Tax information","Proof of residency"],references_required:2,work_samples:{type:"audio recordings",quantity:3,format:["mp3","wav"]},project_proposal:!0,budget_required:!0,timeline_required:!1,evaluation_criteria:["Artistic merit","Career potential","Project viability","Financial need","Professional development goals"]},timeline:{application_deadline:"2026-01-15",notification_date:"2026-04-01",funding_start_date:"2026-05-01",project_completion_date:"2027-04-30",reporting_deadlines:["2027-05-15"],application_period_start:"2025-11-01"},renewable:!1,multi_year:!1,overhead_allowed:!1,indirect_costs_allowed:!1,created_at:"2025-10-22T00:00:00Z",updated_at:"2025-10-22T00:00:00Z",tags:["emerging","songwriting","individual","career_development"],external_id:"ASCAP-EAG-2026",source_platform:"ascap_foundation",success_rate:.18,average_award_amount:4800,previous_recipients:["Singer-songwriters","Hip-hop producers","Jazz composers"]},{id:"fa-emergency-001",title:"Fractured Atlas Emergency Relief Fund",description:"Emergency financial assistance for artists facing unexpected hardships that threaten their ability to continue their artistic practice.",summary:"Emergency funding for artists in crisis situations",funder_name:"Fractured Atlas",funder_website:"https://www.fracturedatlas.org",funding_source:"nonprofit",grant_type:"individual",category:"emergency",award_amount:{min:500,max:5e3,currency:"USD",typical_amount:2e3},total_funding_available:2e5,number_of_awards:100,eligibility:{geographic_restrictions:["United States"],career_stage:["emerging","developing","established"],genres:["all music genres"],project_type:["emergency_relief","basic_needs","medical","housing"],citizenship_requirements:["US residents"],income_limitations:{max_annual_income:75e3,currency:"USD"},previous_grant_restrictions:!1},requirements:{application_materials:["Emergency situation description","Financial documentation","Artist statement","Proof of income","Emergency documentation"],supporting_documents:["Bills or invoices","Medical documentation (if applicable)","Bank statements"],references_required:1,work_samples:{type:"portfolio or documentation",quantity:1,format:["pdf","jpg","mp3"]},project_proposal:!1,budget_required:!0,timeline_required:!1,evaluation_criteria:["Severity of emergency","Financial need","Artistic practice impact","Likelihood of recovery"]},timeline:{application_deadline:"2026-12-31",notification_date:"2026-01-15",funding_start_date:"2026-01-20",project_completion_date:"2026-06-30",reporting_deadlines:["2026-07-15"]},renewable:!1,multi_year:!1,overhead_allowed:!1,indirect_costs_allowed:!1,created_at:"2025-10-22T00:00:00Z",updated_at:"2025-10-22T00:00:00Z",tags:["emergency","relief","individual","crisis"],external_id:"FA-ERF-2026",source_platform:"fractured_atlas",success_rate:.45,average_award_amount:1800,previous_recipients:["Independent musicians","Sound artists","Music educators"]},{id:"grammy-edu-001",title:"Grammy Music Education Grant",description:"Funding for music education programs, instrument purchases, and educational technology to enhance music learning in schools and communities.",summary:"Support for music education initiatives and programs",funder_name:"Grammy Foundation",funder_website:"https://www.grammy.org/musiccares",funding_source:"private_foundation",grant_type:"organization",category:"education",award_amount:{min:1e3,max:25e3,currency:"USD",typical_amount:8e3},total_funding_available:1e6,number_of_awards:125,eligibility:{geographic_restrictions:["United States"],organization_type:["schools","nonprofits","community_organizations"],genres:["all music genres"],project_type:["education","instruments","technology","programming"],nonprofit_status_required:!1,matching_funds_required:!1},requirements:{application_materials:["Program description","Budget and justification","Curriculum outline","Student impact metrics","Organizational overview","Educator qualifications"],supporting_documents:["School district approval","Program evaluation plan","Community need assessment"],references_required:3,project_proposal:!0,budget_required:!0,timeline_required:!0,evaluation_criteria:["Educational impact","Program sustainability","Community need","Budget effectiveness","Measurable outcomes"]},timeline:{application_deadline:"2026-03-15",notification_date:"2026-05-30",funding_start_date:"2026-07-01",project_completion_date:"2027-06-30",reporting_deadlines:["2027-01-15","2027-07-15"]},renewable:!0,multi_year:!0,overhead_allowed:!0,indirect_costs_allowed:!1,created_at:"2025-10-22T00:00:00Z",updated_at:"2025-10-22T00:00:00Z",tags:["education","schools","community","instruments"],external_id:"GRAMMY-EDU-2026",source_platform:"grammy_foundation",success_rate:.22,average_award_amount:7500,previous_recipients:["Public schools","Community centers","Youth orchestras"]},{id:"state-arts-001",title:"State Arts Agency Individual Artist Grant",description:"Support for individual artists to create new work, develop their artistic practice, and engage with their communities through high-quality arts programming.",summary:"State-level funding for individual artists and small projects",funder_name:"State Arts Agency",funder_website:"https://www.arts.gov/state-and-regional-arts-organizations",funding_source:"state",grant_type:"individual",category:"artist_development",award_amount:{min:500,max:1e4,currency:"USD",typical_amount:3500},total_funding_available:4e5,number_of_awards:80,eligibility:{geographic_restrictions:["State residents only"],age_restrictions:{min_age:18},career_stage:["emerging","developing","established"],genres:["all music genres"],project_type:["creation","performance","education","community_engagement"],citizenship_requirements:["State residents for minimum 1 year"],previous_grant_restrictions:!0},requirements:{application_materials:["Artist statement","Project description","Budget","Timeline","Work samples","Resume/CV","References"],supporting_documents:["Proof of residency","Tax forms","Venue confirmations (if applicable)"],references_required:2,work_samples:{type:"audio or video",quantity:3,format:["mp3","mp4","wav"]},project_proposal:!0,budget_required:!0,timeline_required:!0,evaluation_criteria:["Artistic quality","Project clarity","Community impact","Artist development","Budget appropriateness"]},timeline:{application_deadline:"2026-02-28",notification_date:"2026-05-15",funding_start_date:"2026-07-01",project_completion_date:"2027-06-30",reporting_deadlines:["2027-07-31"]},renewable:!1,multi_year:!1,overhead_allowed:!1,indirect_costs_allowed:!1,created_at:"2025-10-22T00:00:00Z",updated_at:"2025-10-22T00:00:00Z",tags:["state","individual","artist_development","local"],external_id:"SAA-IAG-2026",source_platform:"state_arts_agency",success_rate:.25,average_award_amount:3200,previous_recipients:["Folk musicians","Electronic producers","Singer-songwriters"]},{id:"fca-emergency-001",title:"Foundation for Contemporary Arts Emergency Grant",description:"Emergency funding for artists facing urgent financial needs that threaten their ability to continue their artistic work and maintain basic living conditions.",summary:"Emergency financial assistance for contemporary artists",funder_name:"Foundation for Contemporary Arts",funder_website:"https://www.foundationforcontemporaryarts.org",funding_source:"private_foundation",grant_type:"individual",category:"emergency",award_amount:{min:1e3,max:1e4,currency:"USD",typical_amount:4e3},total_funding_available:3e5,number_of_awards:60,eligibility:{geographic_restrictions:["United States"],career_stage:["developing","established"],genres:["contemporary","experimental","electronic","avant-garde"],project_type:["emergency_relief","medical","housing","studio_loss"],citizenship_requirements:["US residents"],previous_grant_restrictions:!1},requirements:{application_materials:["Emergency description","Artist statement","Financial documentation","Work samples","Professional references","Income verification"],supporting_documents:["Emergency documentation","Medical bills (if applicable)","Eviction notices (if applicable)","Bank statements"],references_required:2,work_samples:{type:"audio, video, or documentation",quantity:5,format:["mp3","mp4","pdf","jpg"]},project_proposal:!1,budget_required:!0,timeline_required:!1,evaluation_criteria:["Artistic quality","Emergency severity","Professional standing","Financial need","Recovery potential"]},timeline:{application_deadline:"2026-12-31",notification_date:"2026-01-30",funding_start_date:"2026-02-07",project_completion_date:"2026-08-31",reporting_deadlines:["2026-09-15"]},renewable:!1,multi_year:!1,overhead_allowed:!1,indirect_costs_allowed:!1,created_at:"2025-10-22T00:00:00Z",updated_at:"2025-10-22T00:00:00Z",tags:["emergency","contemporary","experimental","individual"],external_id:"FCA-EMG-2026",source_platform:"fca",success_rate:.35,average_award_amount:3800,previous_recipients:["Sound artists","Electronic musicians","Experimental composers"]},{id:"community-arts-001",title:"Community Foundation Arts and Culture Grant",description:"Support for local arts projects that engage community members, celebrate cultural diversity, and strengthen social connections through music and performance.",summary:"Local funding for community-based arts projects",funder_name:"Community Foundation",funder_website:"https://www.cof.org",funding_source:"local",grant_type:"project",category:"community_outreach",award_amount:{min:500,max:7500,currency:"USD",typical_amount:2500},total_funding_available:15e4,number_of_awards:40,eligibility:{geographic_restrictions:["Local region only"],organization_type:["nonprofits","community_groups","schools","individuals"],career_stage:["any"],genres:["all music genres","multicultural","traditional","folk"],project_type:["community_events","education","cultural_celebration","outreach"],nonprofit_status_required:!1,matching_funds_required:!1},requirements:{application_materials:["Project narrative","Community impact plan","Budget","Timeline","Partner confirmations","Evaluation plan"],supporting_documents:["Letters of support","Venue agreements","Marketing plan"],references_required:1,work_samples:{type:"optional portfolio",quantity:2,format:["any"]},project_proposal:!0,budget_required:!0,timeline_required:!0,evaluation_criteria:["Community benefit","Cultural value","Project feasibility","Organizational capacity","Sustainability"]},timeline:{application_deadline:"2026-04-01",notification_date:"2026-06-01",funding_start_date:"2026-07-01",project_completion_date:"2027-06-30",reporting_deadlines:["2027-08-01"]},renewable:!0,multi_year:!1,overhead_allowed:!0,indirect_costs_allowed:!1,created_at:"2025-10-22T00:00:00Z",updated_at:"2025-10-22T00:00:00Z",tags:["community","local","cultural","outreach"],external_id:"CF-ACG-2026",source_platform:"community_foundation",success_rate:.42,average_award_amount:2300,previous_recipients:["Community choirs","Cultural festivals","Youth music programs"]},{id:"recording-dev-001",title:"Recording Industry Development Grant",description:"Funding specifically for recording projects, including studio time, production costs, mixing, mastering, and digital distribution for emerging and developing artists.",summary:"Specialized funding for music recording and production",funder_name:"Music Industry Foundation",funder_website:"https://www.musicindustryfoundation.org",funding_source:"corporate",grant_type:"project",category:"recording",award_amount:{min:2500,max:2e4,currency:"USD",typical_amount:8500},total_funding_available:5e5,number_of_awards:45,eligibility:{geographic_restrictions:["United States","Canada"],career_stage:["emerging","developing"],genres:["pop","rock","hip-hop","r&b","electronic","folk","jazz"],project_type:["recording","EP","album","single"],previous_grant_restrictions:!1},requirements:{application_materials:["Recording project plan","Detailed budget breakdown","Studio selection and timeline","Production team credentials","Distribution strategy","Demo recordings","Artist biography"],supporting_documents:["Studio quotes","Producer agreements","Distribution contracts"],references_required:2,work_samples:{type:"demo recordings",quantity:4,format:["mp3","wav"]},project_proposal:!0,budget_required:!0,timeline_required:!0,evaluation_criteria:["Recording quality potential","Commercial viability","Artist development","Production team strength","Distribution plan"]},timeline:{application_deadline:"2026-01-31",notification_date:"2026-04-15",funding_start_date:"2026-05-01",project_completion_date:"2027-04-30",reporting_deadlines:["2027-05-31"]},renewable:!1,multi_year:!1,overhead_allowed:!0,indirect_costs_allowed:!1,created_at:"2025-10-22T00:00:00Z",updated_at:"2025-10-22T00:00:00Z",tags:["recording","production","industry","development"],external_id:"MIF-RDG-2026",source_platform:"music_industry_foundation",success_rate:.28,average_award_amount:7800,previous_recipients:["Indie bands","Solo artists","Singer-songwriters"]}];function ky(e=90){const t=new Date,r=new Date(t.getTime()+e*24*60*60*1e3);return xn.filter(n=>{const a=new Date(n.timeline.application_deadline);return a>=t&&a<=r}).sort((n,a)=>new Date(n.timeline.application_deadline).getTime()-new Date(a.timeline.application_deadline).getTime())}const Cy=({profile:e,assessment:t,onSaveGrant:r,onStartApplication:n,savedGrants:a=[],applications:i=[]})=>{const[o,s]=E.useState({}),[c,l]=E.useState("compatibility"),[f,d]=E.useState("recommended"),[p,m]=E.useState(null),v=E.useMemo(()=>t?Rl.filterByEligibility(xn,e,t):xn,[e,t]),h=E.useMemo(()=>t?Rl.analyzeArtistProfile(e,t,v):[],[e,t,v]),g=E.useMemo(()=>{let y=[];switch(f){case"recommended":y=h.slice(0,20).map(j=>j.grant);break;case"all":y=Ty(v,o);break;case"saved":y=xn.filter(j=>a.includes(j.id));break;case"deadlines":y=ky(60);break;default:y=v}return Ey(y,c)},[f,h,v,o,a,c]),_=y=>h.find(j=>j.grant.id===y),x=y=>{const j=i.find(O=>O.grant_id===y);return j==null?void 0:j.status},w=y=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(y),S=y=>{const j=new Date(y),O=new Date,P=Math.ceil((j.getTime()-O.getTime())/(1e3*60*60*24));return P<0?"Past deadline":P===0?"Due today":P===1?"Due tomorrow":P<=7?`Due in ${P} days`:P<=30?`Due in ${Math.ceil(P/7)} weeks`:j.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},b=y=>{const j=new Date(y),O=new Date,P=Math.ceil((j.getTime()-O.getTime())/(1e3*60*60*24));return P<0||P<=7?"text-red-400":P<=14?"text-yellow-400":P<=30?"text-orange-400":"text-surface-300"};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-surface-50",children:"Grant Opportunities"}),u.jsx("p",{className:"text-sm text-surface-400",children:f==="recommended"&&t?`${h.length} grants matched to your profile`:`${g.length} grants available`})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:["recommended","all","deadlines","saved"].map(y=>u.jsxs("button",{onClick:()=>d(y),className:`px-3 py-2 rounded-lg text-sm transition-colors ${f===y?"bg-primary-600 text-primary-50":"bg-surface-700 text-surface-300 hover:bg-surface-600"}`,children:[y==="recommended"&&"🎯 Recommended",y==="all"&&"📋 All Grants",y==="deadlines"&&"⏰ Upcoming Deadlines",y==="saved"&&`💾 Saved (${a.length})`]},y))})]}),f==="all"&&u.jsx("div",{className:"bg-surface-800/50 rounded-xl p-4 border border-surface-700",children:u.jsxs("div",{className:"grid gap-4 md:grid-cols-3 lg:grid-cols-5",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium text-surface-300",children:"Award Amount"}),u.jsxs("select",{className:"w-full bg-surface-700 rounded-lg px-3 py-2 text-surface-100",onChange:y=>{const j=y.target.value;if(j==="all")s(O=>({...O,award_amount_range:void 0}));else{const[O,P]=j.split("-").map(Number);s(k=>({...k,award_amount_range:{min:O,max:P}}))}},children:[u.jsx("option",{value:"all",children:"All amounts"}),u.jsx("option",{value:"0-5000",children:"Under $5K"}),u.jsx("option",{value:"5000-15000",children:"$5K - $15K"}),u.jsx("option",{value:"15000-50000",children:"$15K - $50K"}),u.jsx("option",{value:"50000-999999",children:"$50K+"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium text-surface-300",children:"Category"}),u.jsxs("select",{className:"w-full bg-surface-700 rounded-lg px-3 py-2 text-surface-100",onChange:y=>{const j=y.target.value;s(O=>({...O,categories:j==="all"?void 0:[j]}))},children:[u.jsx("option",{value:"all",children:"All categories"}),u.jsx("option",{value:"recording",children:"Recording"}),u.jsx("option",{value:"artist_development",children:"Artist Development"}),u.jsx("option",{value:"education",children:"Education"}),u.jsx("option",{value:"community_outreach",children:"Community"}),u.jsx("option",{value:"emergency",children:"Emergency"}),u.jsx("option",{value:"touring",children:"Touring"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium text-surface-300",children:"Funding Source"}),u.jsxs("select",{className:"w-full bg-surface-700 rounded-lg px-3 py-2 text-surface-100",onChange:y=>{const j=y.target.value;s(O=>({...O,funding_sources:j==="all"?void 0:[j]}))},children:[u.jsx("option",{value:"all",children:"All sources"}),u.jsx("option",{value:"federal",children:"Federal"}),u.jsx("option",{value:"state",children:"State"}),u.jsx("option",{value:"private_foundation",children:"Private Foundation"}),u.jsx("option",{value:"nonprofit",children:"Nonprofit"}),u.jsx("option",{value:"corporate",children:"Corporate"}),u.jsx("option",{value:"local",children:"Local"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium text-surface-300",children:"Sort By"}),u.jsxs("select",{className:"w-full bg-surface-700 rounded-lg px-3 py-2 text-surface-100",value:c,onChange:y=>l(y.target.value),children:[u.jsx("option",{value:"compatibility",children:"Best Match"}),u.jsx("option",{value:"deadline",children:"Deadline"}),u.jsx("option",{value:"amount",children:"Award Amount"}),u.jsx("option",{value:"success_rate",children:"Success Rate"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium text-surface-300",children:" "}),u.jsx("button",{onClick:()=>s({}),className:"w-full bg-surface-600 hover:bg-surface-500 rounded-lg px-3 py-2 text-surface-100 transition-colors",children:"Clear Filters"})]})]})}),u.jsx("div",{className:"space-y-4",children:g.length===0?u.jsxs("div",{className:"text-center py-12 bg-surface-800/30 rounded-xl border border-surface-700",children:[u.jsx("div",{className:"text-surface-400 mb-2",children:"No grants found"}),u.jsx("div",{className:"text-sm text-surface-500",children:"Try adjusting your filters or view mode"})]}):g.map(y=>{const j=_(y.id),O=x(y.id),P=p===y.id,k=a.includes(y.id);return u.jsxs("div",{className:"bg-surface-800/50 rounded-xl border border-surface-700 overflow-hidden",children:[u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-start justify-between gap-4",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-start gap-3 mb-2",children:[u.jsx("h3",{className:"text-lg font-semibold text-surface-50 truncate",children:y.title}),j&&u.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${j.compatibility_score>=80?"bg-green-500/20 text-green-400":j.compatibility_score>=60?"bg-yellow-500/20 text-yellow-400":"bg-blue-500/20 text-blue-400"}`,children:[j.compatibility_score,"% match"]}),O&&u.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${O==="submitted"?"bg-blue-500/20 text-blue-400":O==="in_progress"?"bg-yellow-500/20 text-yellow-400":O==="approved"?"bg-green-500/20 text-green-400":O==="denied"?"bg-red-500/20 text-red-400":"bg-surface-600/50 text-surface-400"}`,children:O.replace("_"," ")})]}),u.jsx("p",{className:"text-surface-400 text-sm mb-3 line-clamp-2",children:y.summary}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-surface-500",children:"Award Amount"}),u.jsxs("div",{className:"text-surface-200 font-medium",children:[w(y.award_amount.min)," - ",w(y.award_amount.max)]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-surface-500",children:"Deadline"}),u.jsx("div",{className:`font-medium ${b(y.timeline.application_deadline)}`,children:S(y.timeline.application_deadline)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-surface-500",children:"Funder"}),u.jsx("div",{className:"text-surface-200 truncate",children:y.funder_name})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-surface-500",children:"Success Rate"}),u.jsx("div",{className:"text-surface-200",children:y.success_rate?`${Math.round(y.success_rate*100)}%`:"N/A"})]})]})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("button",{onClick:()=>m(P?null:y.id),className:"px-3 py-2 bg-primary-600 hover:bg-primary-700 text-primary-50 rounded-lg text-sm transition-colors",children:P?"Less Info":"View Details"}),r&&u.jsx("button",{onClick:()=>r(y),className:`px-3 py-2 rounded-lg text-sm transition-colors ${k?"bg-green-600/20 text-green-400 border border-green-600/30":"bg-surface-700 hover:bg-surface-600 text-surface-300"}`,children:k?"✓ Saved":"Save"}),n&&!O&&u.jsx("button",{onClick:()=>n(y),className:"px-3 py-2 bg-accent-600 hover:bg-accent-700 text-accent-50 rounded-lg text-sm transition-colors",children:"Apply"})]})]}),j&&j.matching_factors.length>0&&u.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:j.matching_factors.slice(0,3).map((T,A)=>u.jsxs("span",{className:"px-2 py-1 bg-primary-500/20 text-primary-300 rounded text-xs",children:["✓ ",T]},A))})]}),P&&u.jsx("div",{className:"border-t border-surface-700 p-6 bg-surface-900/30",children:u.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-semibold text-surface-200 mb-2",children:"Description"}),u.jsx("p",{className:"text-surface-400 text-sm leading-relaxed",children:y.description}),u.jsx("h4",{className:"text-sm font-semibold text-surface-200 mb-2 mt-4",children:"Eligibility"}),u.jsxs("div",{className:"space-y-1 text-sm text-surface-400",children:[y.eligibility.career_stage&&u.jsxs("div",{children:["Career Stage: ",y.eligibility.career_stage.join(", ")]}),y.eligibility.genres&&u.jsxs("div",{children:["Genres: ",y.eligibility.genres.join(", ")]}),y.eligibility.geographic_restrictions&&u.jsxs("div",{children:["Location: ",y.eligibility.geographic_restrictions.join(", ")]})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-semibold text-surface-200 mb-2",children:"Required Materials"}),u.jsxs("ul",{className:"text-sm text-surface-400 space-y-1 mb-4",children:[y.requirements.application_materials.slice(0,5).map((T,A)=>u.jsxs("li",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-1 h-1 bg-surface-500 rounded-full"}),T]},A)),y.requirements.application_materials.length>5&&u.jsxs("li",{className:"text-surface-500 text-xs",children:["+",y.requirements.application_materials.length-5," more materials"]})]}),j&&j.recommendations.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("h4",{className:"text-sm font-semibold text-surface-200 mb-2",children:"Recommendations"}),u.jsx("ul",{className:"text-sm text-green-400 space-y-1",children:j.recommendations.slice(0,3).map((T,A)=>u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("div",{className:"w-1 h-1 bg-green-400 rounded-full mt-2"}),T]},A))})]}),j&&j.potential_issues.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("h4",{className:"text-sm font-semibold text-surface-200 mb-2 mt-4",children:"Consider"}),u.jsx("ul",{className:"text-sm text-yellow-400 space-y-1",children:j.potential_issues.map((T,A)=>u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("div",{className:"w-1 h-1 bg-yellow-400 rounded-full mt-2"}),T]},A))})]}),y.funder_website&&u.jsx("div",{className:"mt-4",children:u.jsxs("a",{href:y.funder_website,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-primary-400 hover:text-primary-300 text-sm transition-colors",children:["Visit Funder Website",u.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})]})})]},y.id)})}),f==="recommended"&&h.length>0&&u.jsxs("div",{className:"bg-primary-900/20 border border-primary-700/30 rounded-xl p-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-primary-200 mb-3",children:"Grant Opportunities Summary"}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-primary-400",children:"High Match (80%+)"}),u.jsxs("div",{className:"text-primary-100 font-medium",children:[h.filter(y=>y.compatibility_score>=80).length," grants"]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-primary-400",children:"Total Funding"}),u.jsx("div",{className:"text-primary-100 font-medium",children:w(h.slice(0,10).reduce((y,j)=>y+j.grant.award_amount.max,0))})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-primary-400",children:"Upcoming Deadlines"}),u.jsxs("div",{className:"text-primary-100 font-medium",children:[h.filter(y=>{const j=Math.ceil((new Date(y.grant.timeline.application_deadline).getTime()-new Date().getTime())/864e5);return j<=30&&j>0}).length," in 30 days"]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-primary-400",children:"Emergency Grants"}),u.jsxs("div",{className:"text-primary-100 font-medium",children:[h.filter(y=>y.grant.category==="emergency").length," available"]})]})]})]})]})},My=({applications:e,grants:t,onUpdateApplication:r,onDeleteApplication:n,onAddReminder:a})=>{const[i,o]=E.useState("all"),[s,c]=E.useState(null),[l,f]=E.useState(null),d=x=>t.find(w=>w.id===x),p=e.filter(x=>i==="all"||x.status===i),m=x=>{switch(x){case"not_started":return"bg-surface-600 text-surface-300";case"in_progress":return"bg-yellow-500/20 text-yellow-400";case"submitted":return"bg-blue-500/20 text-blue-400";case"under_review":return"bg-purple-500/20 text-purple-400";case"approved":return"bg-green-500/20 text-green-400";case"denied":return"bg-red-500/20 text-red-400";case"funded":return"bg-green-600/20 text-green-300";default:return"bg-surface-600 text-surface-300"}},v=(x,w)=>{if(!w)return 0;const S=w.requirements.application_materials.length,b=x.completed_materials.length;return Math.round(b/S*100)},h=()=>{const x=new Date;return p.map(w=>{const S=d(w.grant_id);if(!S)return null;const b=new Date(S.timeline.application_deadline),y=Math.ceil((b.getTime()-x.getTime())/(1e3*60*60*24));return{app:w,grant:S,daysUntil:y}}).filter(w=>w!==null&&w.daysUntil<=30&&w.daysUntil>0).sort((w,S)=>w.daysUntil-S.daysUntil)},g=x=>x<=0?{text:"Past due",color:"text-red-400"}:x===1?{text:"Due tomorrow",color:"text-red-400"}:x<=3?{text:`${x} days left`,color:"text-red-400"}:x<=7?{text:`${x} days left`,color:"text-yellow-400"}:x<=14?{text:`${x} days left`,color:"text-orange-400"}:{text:`${x} days left`,color:"text-surface-300"},_=h();return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-surface-50",children:"Grant Applications"}),u.jsx("p",{className:"text-sm text-surface-400",children:"Track your grant applications and deadlines"})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:["all","in_progress","submitted","under_review","approved","denied"].map(x=>u.jsxs("button",{onClick:()=>o(x),className:`px-3 py-2 rounded-lg text-sm transition-colors ${i===x?"bg-primary-600 text-primary-50":"bg-surface-700 text-surface-300 hover:bg-surface-600"}`,children:[x==="all"?"All":x.replace("_"," "),u.jsxs("span",{className:"ml-1 text-xs opacity-75",children:["(",x==="all"?e.length:e.filter(w=>w.status===x).length,")"]})]},x))})]}),_.length>0&&u.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-xl p-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-yellow-300 mb-3 flex items-center gap-2",children:"⚠️ Upcoming Deadlines"}),u.jsxs("div",{className:"space-y-2",children:[_.slice(0,3).map(({app:x,grant:w,daysUntil:S})=>{const b=g(S);return u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-surface-200 text-sm font-medium",children:w.title}),u.jsx("div",{className:"text-surface-400 text-xs",children:x.project_title})]}),u.jsx("div",{className:`text-sm font-medium ${b.color}`,children:b.text})]},x.id)}),_.length>3&&u.jsxs("div",{className:"text-xs text-yellow-400 mt-2",children:["+",_.length-3," more applications with upcoming deadlines"]})]})]}),u.jsx("div",{className:"space-y-4",children:p.length===0?u.jsxs("div",{className:"text-center py-12 bg-surface-800/30 rounded-xl border border-surface-700",children:[u.jsx("div",{className:"text-surface-400 mb-2",children:"No applications found"}),u.jsx("div",{className:"text-sm text-surface-500",children:i==="all"?"Start applying to grants to track your progress here":`No applications with status: ${i.replace("_"," ")}`})]}):p.map(x=>{const w=d(x.grant_id);if(!w)return null;const S=v(x,w),b=new Date(w.timeline.application_deadline),y=Math.ceil((b.getTime()-new Date().getTime())/(1e3*60*60*24)),j=g(y);return u.jsxs("div",{className:"bg-surface-800/50 rounded-xl border border-surface-700 p-6",children:[u.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("h3",{className:"text-lg font-semibold text-surface-50 truncate",children:x.project_title}),u.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${m(x.status)}`,children:x.status.replace("_"," ")})]}),u.jsxs("div",{className:"text-surface-400 text-sm mb-2",children:[w.title," • ",w.funder_name]}),u.jsxs("div",{className:"text-surface-300 text-sm",children:["Requesting: $",x.requested_amount.toLocaleString()]})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-surface-400 text-sm",children:"Deadline"}),u.jsx("div",{className:`font-medium ${j.color}`,children:b.toLocaleDateString()}),u.jsx("div",{className:`text-xs ${j.color}`,children:j.text})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-sm text-surface-400",children:"Application Progress"}),u.jsxs("span",{className:"text-sm text-surface-300",children:[S,"%"]})]}),u.jsx("div",{className:"w-full bg-surface-700 rounded-full h-2",children:u.jsx("div",{className:"bg-primary-500 h-2 rounded-full transition-all duration-300",style:{width:`${S}%`}})})]}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-semibold text-surface-200 mb-2",children:"Required Materials"}),u.jsx("div",{className:"space-y-2",children:w.requirements.application_materials.map((O,P)=>{const k=x.completed_materials.includes(O);return u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:()=>{const T=k?x.completed_materials.filter(A=>A!==O):[...x.completed_materials,O];r(x.id,{completed_materials:T,last_updated:new Date().toISOString()})},className:`w-4 h-4 rounded border-2 flex items-center justify-center transition-colors ${k?"bg-green-500 border-green-500 text-white":"border-surface-500 hover:border-surface-400"}`,children:k&&u.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),u.jsx("span",{className:`text-sm ${k?"text-surface-300 line-through":"text-surface-200"}`,children:O})]},P)})})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-semibold text-surface-200 mb-2",children:"Update Status"}),u.jsxs("select",{value:x.status,onChange:O=>{r(x.id,{status:O.target.value,last_updated:new Date().toISOString()})},className:"w-full bg-surface-700 rounded-lg px-3 py-2 text-surface-100 mb-3",children:[u.jsx("option",{value:"not_started",children:"Not Started"}),u.jsx("option",{value:"in_progress",children:"In Progress"}),u.jsx("option",{value:"submitted",children:"Submitted"}),u.jsx("option",{value:"under_review",children:"Under Review"}),u.jsx("option",{value:"approved",children:"Approved"}),u.jsx("option",{value:"denied",children:"Denied"}),u.jsx("option",{value:"funded",children:"Funded"})]}),u.jsx("h4",{className:"text-sm font-semibold text-surface-200 mb-2",children:"Notes"}),u.jsx("textarea",{value:x.notes,onChange:O=>{r(x.id,{notes:O.target.value,last_updated:new Date().toISOString()})},placeholder:"Add notes about this application...",className:"w-full bg-surface-700 rounded-lg px-3 py-2 text-surface-100 text-sm h-20 resize-none"})]})]}),x.reminders.length>0&&u.jsxs("div",{className:"mt-4",children:[u.jsx("h4",{className:"text-sm font-semibold text-surface-200 mb-2",children:"Reminders"}),u.jsx("div",{className:"space-y-2",children:x.reminders.map((O,P)=>u.jsx("div",{className:`flex items-center justify-between p-2 rounded-lg ${O.completed?"bg-green-500/10 border border-green-500/20":"bg-surface-700"}`,children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:()=>{const k=[...x.reminders];k[P]={...O,completed:!O.completed},r(x.id,{reminders:k})},className:`w-4 h-4 rounded border-2 flex items-center justify-center transition-colors ${O.completed?"bg-green-500 border-green-500 text-white":"border-surface-500 hover:border-surface-400"}`,children:O.completed&&u.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),u.jsxs("div",{children:[u.jsx("div",{className:`text-sm ${O.completed?"text-surface-400 line-through":"text-surface-200"}`,children:O.message}),u.jsx("div",{className:"text-xs text-surface-500",children:new Date(O.date).toLocaleDateString()})]})]})},P))})]}),u.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-surface-700",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>f({applicationId:x.id,date:"",message:""}),className:"px-3 py-2 bg-primary-600 hover:bg-primary-700 text-primary-50 rounded-lg text-sm transition-colors",children:"Add Reminder"}),w.funder_website&&u.jsx("a",{href:w.funder_website,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-surface-600 hover:bg-surface-500 text-surface-200 rounded-lg text-sm transition-colors",children:"Funder Website"})]}),u.jsx("button",{onClick:()=>n(x.id),className:"px-3 py-2 bg-red-600/20 hover:bg-red-600/30 text-red-400 rounded-lg text-sm transition-colors",children:"Delete"})]})]},x.id)})}),l&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-surface-800 rounded-xl p-6 w-full max-w-md mx-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-surface-50 mb-4",children:"Add Reminder"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Reminder Date"}),u.jsx("input",{type:"date",value:l.date,onChange:x=>f(w=>w?{...w,date:x.target.value}:null),className:"w-full bg-surface-700 rounded-lg px-3 py-2 text-surface-100"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-surface-300 mb-2",children:"Message"}),u.jsx("textarea",{value:l.message,onChange:x=>f(w=>w?{...w,message:x.target.value}:null),placeholder:"What do you need to remember?",className:"w-full bg-surface-700 rounded-lg px-3 py-2 text-surface-100 h-20 resize-none"})]})]}),u.jsxs("div",{className:"flex gap-3 mt-6",children:[u.jsx("button",{onClick:()=>{l.date&&l.message&&a(l.applicationId,{date:l.date,message:l.message}),f(null)},disabled:!l.date||!l.message,className:"flex-1 px-4 py-2 bg-primary-600 hover:bg-primary-700 disabled:bg-surface-600 disabled:text-surface-400 text-primary-50 rounded-lg transition-colors",children:"Add Reminder"}),u.jsx("button",{onClick:()=>f(null),className:"px-4 py-2 bg-surface-600 hover:bg-surface-500 text-surface-200 rounded-lg transition-colors",children:"Cancel"})]})]})})]})};function Wp(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Wp(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ae(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Wp(e))&&(n&&(n+=" "),n+=t);return n}var Iy=Array.isArray,Be=Iy,Dy=typeof ya=="object"&&ya&&ya.Object===Object&&ya,Up=Dy,Ry=Up,Ly=typeof self=="object"&&self&&self.Object===Object&&self,By=Ry||Ly||Function("return this")(),pt=By,Fy=pt,zy=Fy.Symbol,sa=zy,Ll=sa,Gp=Object.prototype,qy=Gp.hasOwnProperty,Wy=Gp.toString,cn=Ll?Ll.toStringTag:void 0;function Uy(e){var t=qy.call(e,cn),r=e[cn];try{e[cn]=void 0;var n=!0}catch{}var a=Wy.call(e);return n&&(t?e[cn]=r:delete e[cn]),a}var Gy=Uy,Hy=Object.prototype,Ky=Hy.toString;function Vy(e){return Ky.call(e)}var Yy=Vy,Bl=sa,Xy=Gy,Zy=Yy,Jy="[object Null]",Qy="[object Undefined]",Fl=Bl?Bl.toStringTag:void 0;function ev(e){return e==null?e===void 0?Qy:Jy:Fl&&Fl in Object(e)?Xy(e):Zy(e)}var At=ev;function tv(e){return e!=null&&typeof e=="object"}var Pt=tv,rv=At,nv=Pt,av="[object Symbol]";function iv(e){return typeof e=="symbol"||nv(e)&&rv(e)==av}var Kr=iv,ov=Be,sv=Kr,cv=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lv=/^\w*$/;function uv(e,t){if(ov(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||sv(e)?!0:lv.test(e)||!cv.test(e)||t!=null&&e in Object(t)}var Ac=uv;function fv(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Dt=fv;const Vr=de(Dt);var dv=At,pv=Dt,hv="[object AsyncFunction]",mv="[object Function]",gv="[object GeneratorFunction]",yv="[object Proxy]";function vv(e){if(!pv(e))return!1;var t=dv(e);return t==mv||t==gv||t==hv||t==yv}var Pc=vv;const te=de(Pc);var bv=pt,xv=bv["__core-js_shared__"],wv=xv,So=wv,zl=function(){var e=/[^.]+$/.exec(So&&So.keys&&So.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function _v(e){return!!zl&&zl in e}var jv=_v,Sv=Function.prototype,Ov=Sv.toString;function Av(e){if(e!=null){try{return Ov.call(e)}catch{}try{return e+""}catch{}}return""}var Hp=Av,Pv=Pc,Nv=jv,$v=Dt,Tv=Hp,Ev=/[\\^$.*+?()[\]{}|]/g,kv=/^\[object .+?Constructor\]$/,Cv=Function.prototype,Mv=Object.prototype,Iv=Cv.toString,Dv=Mv.hasOwnProperty,Rv=RegExp("^"+Iv.call(Dv).replace(Ev,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Lv(e){if(!$v(e)||Nv(e))return!1;var t=Pv(e)?Rv:kv;return t.test(Tv(e))}var Bv=Lv;function Fv(e,t){return e==null?void 0:e[t]}var zv=Fv,qv=Bv,Wv=zv;function Uv(e,t){var r=Wv(e,t);return qv(r)?r:void 0}var cr=Uv,Gv=cr,Hv=Gv(Object,"create"),Mi=Hv,ql=Mi;function Kv(){this.__data__=ql?ql(null):{},this.size=0}var Vv=Kv;function Yv(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Xv=Yv,Zv=Mi,Jv="__lodash_hash_undefined__",Qv=Object.prototype,e0=Qv.hasOwnProperty;function t0(e){var t=this.__data__;if(Zv){var r=t[e];return r===Jv?void 0:r}return e0.call(t,e)?t[e]:void 0}var r0=t0,n0=Mi,a0=Object.prototype,i0=a0.hasOwnProperty;function o0(e){var t=this.__data__;return n0?t[e]!==void 0:i0.call(t,e)}var s0=o0,c0=Mi,l0="__lodash_hash_undefined__";function u0(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=c0&&t===void 0?l0:t,this}var f0=u0,d0=Vv,p0=Xv,h0=r0,m0=s0,g0=f0;function Yr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Yr.prototype.clear=d0;Yr.prototype.delete=p0;Yr.prototype.get=h0;Yr.prototype.has=m0;Yr.prototype.set=g0;var y0=Yr;function v0(){this.__data__=[],this.size=0}var b0=v0;function x0(e,t){return e===t||e!==e&&t!==t}var Nc=x0,w0=Nc;function _0(e,t){for(var r=e.length;r--;)if(w0(e[r][0],t))return r;return-1}var Ii=_0,j0=Ii,S0=Array.prototype,O0=S0.splice;function A0(e){var t=this.__data__,r=j0(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():O0.call(t,r,1),--this.size,!0}var P0=A0,N0=Ii;function $0(e){var t=this.__data__,r=N0(t,e);return r<0?void 0:t[r][1]}var T0=$0,E0=Ii;function k0(e){return E0(this.__data__,e)>-1}var C0=k0,M0=Ii;function I0(e,t){var r=this.__data__,n=M0(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var D0=I0,R0=b0,L0=P0,B0=T0,F0=C0,z0=D0;function Xr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Xr.prototype.clear=R0;Xr.prototype.delete=L0;Xr.prototype.get=B0;Xr.prototype.has=F0;Xr.prototype.set=z0;var Di=Xr,q0=cr,W0=pt,U0=q0(W0,"Map"),$c=U0,Wl=y0,G0=Di,H0=$c;function K0(){this.size=0,this.__data__={hash:new Wl,map:new(H0||G0),string:new Wl}}var V0=K0;function Y0(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var X0=Y0,Z0=X0;function J0(e,t){var r=e.__data__;return Z0(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Ri=J0,Q0=Ri;function eb(e){var t=Q0(this,e).delete(e);return this.size-=t?1:0,t}var tb=eb,rb=Ri;function nb(e){return rb(this,e).get(e)}var ab=nb,ib=Ri;function ob(e){return ib(this,e).has(e)}var sb=ob,cb=Ri;function lb(e,t){var r=cb(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var ub=lb,fb=V0,db=tb,pb=ab,hb=sb,mb=ub;function Zr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Zr.prototype.clear=fb;Zr.prototype.delete=db;Zr.prototype.get=pb;Zr.prototype.has=hb;Zr.prototype.set=mb;var Tc=Zr,Kp=Tc,gb="Expected a function";function Ec(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(gb);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(Ec.Cache||Kp),r}Ec.Cache=Kp;var Vp=Ec;const yb=de(Vp);var vb=Vp,bb=500;function xb(e){var t=vb(e,function(n){return r.size===bb&&r.clear(),n}),r=t.cache;return t}var wb=xb,_b=wb,jb=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Sb=/\\(\\)?/g,Ob=_b(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(jb,function(r,n,a,i){t.push(a?i.replace(Sb,"$1"):n||r)}),t}),Ab=Ob;function Pb(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var kc=Pb,Ul=sa,Nb=kc,$b=Be,Tb=Kr,Gl=Ul?Ul.prototype:void 0,Hl=Gl?Gl.toString:void 0;function Yp(e){if(typeof e=="string")return e;if($b(e))return Nb(e,Yp)+"";if(Tb(e))return Hl?Hl.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Eb=Yp,kb=Eb;function Cb(e){return e==null?"":kb(e)}var Xp=Cb,Mb=Be,Ib=Ac,Db=Ab,Rb=Xp;function Lb(e,t){return Mb(e)?e:Ib(e,t)?[e]:Db(Rb(e))}var Zp=Lb,Bb=Kr;function Fb(e){if(typeof e=="string"||Bb(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Li=Fb,zb=Zp,qb=Li;function Wb(e,t){t=zb(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[qb(t[r++])];return r&&r==n?e:void 0}var Cc=Wb,Ub=Cc;function Gb(e,t,r){var n=e==null?void 0:Ub(e,t);return n===void 0?r:n}var Jp=Gb;const Xe=de(Jp);function Hb(e){return e==null}var Kb=Hb;const re=de(Kb);var Vb=At,Yb=Be,Xb=Pt,Zb="[object String]";function Jb(e){return typeof e=="string"||!Yb(e)&&Xb(e)&&Vb(e)==Zb}var Qb=Jb;const tr=de(Qb);var Qp={exports:{}},ce={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mc=Symbol.for("react.element"),Ic=Symbol.for("react.portal"),Bi=Symbol.for("react.fragment"),Fi=Symbol.for("react.strict_mode"),zi=Symbol.for("react.profiler"),qi=Symbol.for("react.provider"),Wi=Symbol.for("react.context"),ex=Symbol.for("react.server_context"),Ui=Symbol.for("react.forward_ref"),Gi=Symbol.for("react.suspense"),Hi=Symbol.for("react.suspense_list"),Ki=Symbol.for("react.memo"),Vi=Symbol.for("react.lazy"),tx=Symbol.for("react.offscreen"),eh;eh=Symbol.for("react.module.reference");function Qe(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Mc:switch(e=e.type,e){case Bi:case zi:case Fi:case Gi:case Hi:return e;default:switch(e=e&&e.$$typeof,e){case ex:case Wi:case Ui:case Vi:case Ki:case qi:return e;default:return t}}case Ic:return t}}}ce.ContextConsumer=Wi;ce.ContextProvider=qi;ce.Element=Mc;ce.ForwardRef=Ui;ce.Fragment=Bi;ce.Lazy=Vi;ce.Memo=Ki;ce.Portal=Ic;ce.Profiler=zi;ce.StrictMode=Fi;ce.Suspense=Gi;ce.SuspenseList=Hi;ce.isAsyncMode=function(){return!1};ce.isConcurrentMode=function(){return!1};ce.isContextConsumer=function(e){return Qe(e)===Wi};ce.isContextProvider=function(e){return Qe(e)===qi};ce.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mc};ce.isForwardRef=function(e){return Qe(e)===Ui};ce.isFragment=function(e){return Qe(e)===Bi};ce.isLazy=function(e){return Qe(e)===Vi};ce.isMemo=function(e){return Qe(e)===Ki};ce.isPortal=function(e){return Qe(e)===Ic};ce.isProfiler=function(e){return Qe(e)===zi};ce.isStrictMode=function(e){return Qe(e)===Fi};ce.isSuspense=function(e){return Qe(e)===Gi};ce.isSuspenseList=function(e){return Qe(e)===Hi};ce.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Bi||e===zi||e===Fi||e===Gi||e===Hi||e===tx||typeof e=="object"&&e!==null&&(e.$$typeof===Vi||e.$$typeof===Ki||e.$$typeof===qi||e.$$typeof===Wi||e.$$typeof===Ui||e.$$typeof===eh||e.getModuleId!==void 0)};ce.typeOf=Qe;Qp.exports=ce;var rx=Qp.exports,nx=At,ax=Pt,ix="[object Number]";function ox(e){return typeof e=="number"||ax(e)&&nx(e)==ix}var th=ox;const sx=de(th);var cx=th;function lx(e){return cx(e)&&e!=+e}var ux=lx;const ca=de(ux);var st=function(t){return t===0?0:t>0?1:-1},Vt=function(t){return tr(t)&&t.indexOf("%")===t.length-1},G=function(t){return sx(t)&&!ca(t)},fx=function(t){return re(t)},Ae=function(t){return G(t)||tr(t)},dx=0,la=function(t){var r=++dx;return"".concat(t||"").concat(r)},rr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!G(t)&&!tr(t))return n;var i;if(Vt(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return ca(i)&&(i=n),a&&i>r&&(i=r),i},kt=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},px=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},it=function(t,r){return G(t)&&G(r)?function(n){return t+n*(r-t)}:function(){return r}};function Ma(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Xe(n,t))===r})}var hx=function(t,r){return G(t)&&G(r)?t-r:tr(t)&&tr(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function wr(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function es(e){"@babel/helpers - typeof";return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},es(e)}var mx=["viewBox","children"],gx=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Kl=["points","pathLength"],Oo={svg:mx,polygon:Kl,polyline:Kl},Dc=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ia=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(E.isValidElement(t)&&(n=t.props),!Vr(n))return null;var a={};return Object.keys(n).forEach(function(i){Dc.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},yx=function(t,r,n){return function(a){return t(r,n,a),null}},Da=function(t,r,n){if(!Vr(t)||es(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];Dc.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=yx(o,r,n))}),a},vx=["children"],bx=["children"];function Vl(e,t){if(e==null)return{};var r=xx(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xx(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ts(e){"@babel/helpers - typeof";return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ts(e)}var Yl={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},bt=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Xl=null,Ao=null,Rc=function e(t){if(t===Xl&&Array.isArray(Ao))return Ao;var r=[];return E.Children.forEach(t,function(n){re(n)||(rx.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Ao=r,Xl=t,r};function Ze(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return bt(a)}):n=[bt(t)],Rc(e).forEach(function(a){var i=Xe(a,"type.displayName")||Xe(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function qe(e,t){var r=Ze(e,t);return r&&r[0]}var Zl=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!G(n)||n<=0||!G(a)||a<=0)},wx=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],_x=function(t){return t&&t.type&&tr(t.type)&&wx.indexOf(t.type)>=0},jx=function(t){return t&&ts(t)==="object"&&"clipDot"in t},Sx=function(t,r,n,a){var i,o=(i=Oo==null?void 0:Oo[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!te(t)&&(a&&o.includes(r)||gx.includes(r))||n&&Dc.includes(r)},ne=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(E.isValidElement(t)&&(a=t.props),!Vr(a))return null;var i={};return Object.keys(a).forEach(function(o){var s;Sx((s=a)===null||s===void 0?void 0:s[o],o,r,n)&&(i[o]=a[o])}),i},rs=function e(t,r){if(t===r)return!0;var n=E.Children.count(t);if(n!==E.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Jl(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!Jl(i,o))return!1}return!0},Jl=function(t,r){if(re(t)&&re(r))return!0;if(!re(t)&&!re(r)){var n=t.props||{},a=n.children,i=Vl(n,vx),o=r.props||{},s=o.children,c=Vl(o,bx);return a&&s?wr(i,c)&&rs(a,s):!a&&!s?wr(i,c):!1}return!1},Ql=function(t,r){var n=[],a={};return Rc(t).forEach(function(i,o){if(_x(i))n.push(i);else if(i){var s=bt(i.type),c=r[s]||{},l=c.handler,f=c.once;if(l&&(!f||!a[s])){var d=l(i,s,o);n.push(d),a[s]=!0}}}),n},Ox=function(t){var r=t&&t.type;return r&&Yl[r]?Yl[r]:null},Ax=function(t,r){return Rc(r).indexOf(t)},Px=["children","width","height","viewBox","className","style","title","desc"];function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ns.apply(this,arguments)}function Nx(e,t){if(e==null)return{};var r=$x(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $x(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function as(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,s=e.title,c=e.desc,l=Nx(e,Px),f=a||{width:r,height:n,x:0,y:0},d=ae("recharts-surface",i);return $.createElement("svg",ns({},ne(l,!0,"svg"),{className:d,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),$.createElement("title",null,s),$.createElement("desc",null,c),t)}var Tx=["children","className"];function is(){return is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},is.apply(this,arguments)}function Ex(e,t){if(e==null)return{};var r=kx(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kx(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var we=$.forwardRef(function(e,t){var r=e.children,n=e.className,a=Ex(e,Tx),i=ae("recharts-layer",n);return $.createElement("g",is({className:i},ne(a,!0),{ref:t}),r)}),xt=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Cx(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var Mx=Cx,Ix=Mx;function Dx(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Ix(e,t,r)}var Rx=Dx,Lx="\\ud800-\\udfff",Bx="\\u0300-\\u036f",Fx="\\ufe20-\\ufe2f",zx="\\u20d0-\\u20ff",qx=Bx+Fx+zx,Wx="\\ufe0e\\ufe0f",Ux="\\u200d",Gx=RegExp("["+Ux+Lx+qx+Wx+"]");function Hx(e){return Gx.test(e)}var rh=Hx;function Kx(e){return e.split("")}var Vx=Kx,nh="\\ud800-\\udfff",Yx="\\u0300-\\u036f",Xx="\\ufe20-\\ufe2f",Zx="\\u20d0-\\u20ff",Jx=Yx+Xx+Zx,Qx="\\ufe0e\\ufe0f",ew="["+nh+"]",os="["+Jx+"]",ss="\\ud83c[\\udffb-\\udfff]",tw="(?:"+os+"|"+ss+")",ah="[^"+nh+"]",ih="(?:\\ud83c[\\udde6-\\uddff]){2}",oh="[\\ud800-\\udbff][\\udc00-\\udfff]",rw="\\u200d",sh=tw+"?",ch="["+Qx+"]?",nw="(?:"+rw+"(?:"+[ah,ih,oh].join("|")+")"+ch+sh+")*",aw=ch+sh+nw,iw="(?:"+[ah+os+"?",os,ih,oh,ew].join("|")+")",ow=RegExp(ss+"(?="+ss+")|"+iw+aw,"g");function sw(e){return e.match(ow)||[]}var cw=sw,lw=Vx,uw=rh,fw=cw;function dw(e){return uw(e)?fw(e):lw(e)}var pw=dw,hw=Rx,mw=rh,gw=pw,yw=Xp;function vw(e){return function(t){t=yw(t);var r=mw(t)?gw(t):void 0,n=r?r[0]:t.charAt(0),a=r?hw(r,1).join(""):t.slice(1);return n[e]()+a}}var bw=vw,xw=bw,ww=xw("toUpperCase"),_w=ww;const Yi=de(_w);function fe(e){return function(){return e}}const lh=Math.cos,Ra=Math.sin,ct=Math.sqrt,La=Math.PI,Xi=2*La,cs=Math.PI,ls=2*cs,Gt=1e-6,jw=ls-Gt;function uh(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Sw(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return uh;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Ow{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?uh:Sw(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,c=n-t,l=a-r,f=o-t,d=s-r,p=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Gt)if(!(Math.abs(d*c-l*f)>Gt)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,v=a-s,h=c*c+l*l,g=m*m+v*v,_=Math.sqrt(h),x=Math.sqrt(p),w=i*Math.tan((cs-Math.acos((h+p-g)/(2*_*x)))/2),S=w/x,b=w/_;Math.abs(S-1)>Gt&&this._append`L${t+S*f},${r+S*d}`,this._append`A${i},${i},0,0,${+(d*m>f*v)},${this._x1=t+b*c},${this._y1=r+b*l}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),c=n*Math.sin(a),l=t+s,f=r+c,d=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${l},${f}`:(Math.abs(this._x1-l)>Gt||Math.abs(this._y1-f)>Gt)&&this._append`L${l},${f}`,n&&(p<0&&(p=p%ls+ls),p>jw?this._append`A${n},${n},0,1,${d},${t-s},${r-c}A${n},${n},0,1,${d},${this._x1=l},${this._y1=f}`:p>Gt&&this._append`A${n},${n},0,${+(p>=cs)},${d},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Lc(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Ow(t)}function Bc(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function fh(e){this._context=e}fh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Zi(e){return new fh(e)}function dh(e){return e[0]}function ph(e){return e[1]}function hh(e,t){var r=fe(!0),n=null,a=Zi,i=null,o=Lc(s);e=typeof e=="function"?e:e===void 0?dh:fe(e),t=typeof t=="function"?t:t===void 0?ph:fe(t);function s(c){var l,f=(c=Bc(c)).length,d,p=!1,m;for(n==null&&(i=a(m=o())),l=0;l<=f;++l)!(l<f&&r(d=c[l],l,c))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(d,l,c),+t(d,l,c));if(m)return i=null,m+""||null}return s.x=function(c){return arguments.length?(e=typeof c=="function"?c:fe(+c),s):e},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:fe(+c),s):t},s.defined=function(c){return arguments.length?(r=typeof c=="function"?c:fe(!!c),s):r},s.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),s):a},s.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),s):n},s}function va(e,t,r){var n=null,a=fe(!0),i=null,o=Zi,s=null,c=Lc(l);e=typeof e=="function"?e:e===void 0?dh:fe(+e),t=typeof t=="function"?t:fe(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?ph:fe(+r);function l(d){var p,m,v,h=(d=Bc(d)).length,g,_=!1,x,w=new Array(h),S=new Array(h);for(i==null&&(s=o(x=c())),p=0;p<=h;++p){if(!(p<h&&a(g=d[p],p,d))===_)if(_=!_)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=p-1;v>=m;--v)s.point(w[v],S[v]);s.lineEnd(),s.areaEnd()}_&&(w[p]=+e(g,p,d),S[p]=+t(g,p,d),s.point(n?+n(g,p,d):w[p],r?+r(g,p,d):S[p]))}if(x)return s=null,x+""||null}function f(){return hh().defined(a).curve(o).context(i)}return l.x=function(d){return arguments.length?(e=typeof d=="function"?d:fe(+d),n=null,l):e},l.x0=function(d){return arguments.length?(e=typeof d=="function"?d:fe(+d),l):e},l.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:fe(+d),l):n},l.y=function(d){return arguments.length?(t=typeof d=="function"?d:fe(+d),r=null,l):t},l.y0=function(d){return arguments.length?(t=typeof d=="function"?d:fe(+d),l):t},l.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:fe(+d),l):r},l.lineX0=l.lineY0=function(){return f().x(e).y(t)},l.lineY1=function(){return f().x(e).y(r)},l.lineX1=function(){return f().x(n).y(t)},l.defined=function(d){return arguments.length?(a=typeof d=="function"?d:fe(!!d),l):a},l.curve=function(d){return arguments.length?(o=d,i!=null&&(s=o(i)),l):o},l.context=function(d){return arguments.length?(d==null?i=s=null:s=o(i=d),l):i},l}class mh{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Aw(e){return new mh(e,!0)}function Pw(e){return new mh(e,!1)}const Fc={draw(e,t){const r=ct(t/La);e.moveTo(r,0),e.arc(0,0,r,0,Xi)}},Nw={draw(e,t){const r=ct(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},gh=ct(1/3),$w=gh*2,Tw={draw(e,t){const r=ct(t/$w),n=r*gh;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Ew={draw(e,t){const r=ct(t),n=-r/2;e.rect(n,n,r,r)}},kw=.8908130915292852,yh=Ra(La/10)/Ra(7*La/10),Cw=Ra(Xi/10)*yh,Mw=-lh(Xi/10)*yh,Iw={draw(e,t){const r=ct(t*kw),n=Cw*r,a=Mw*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Xi*i/5,s=lh(o),c=Ra(o);e.lineTo(c*r,-s*r),e.lineTo(s*n-c*a,c*n+s*a)}e.closePath()}},Po=ct(3),Dw={draw(e,t){const r=-ct(t/(Po*3));e.moveTo(0,r*2),e.lineTo(-Po*r,-r),e.lineTo(Po*r,-r),e.closePath()}},Ge=-.5,He=ct(3)/2,us=1/ct(12),Rw=(us/2+1)*3,Lw={draw(e,t){const r=ct(t/Rw),n=r/2,a=r*us,i=n,o=r*us+r,s=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(s,c),e.lineTo(Ge*n-He*a,He*n+Ge*a),e.lineTo(Ge*i-He*o,He*i+Ge*o),e.lineTo(Ge*s-He*c,He*s+Ge*c),e.lineTo(Ge*n+He*a,Ge*a-He*n),e.lineTo(Ge*i+He*o,Ge*o-He*i),e.lineTo(Ge*s+He*c,Ge*c-He*s),e.closePath()}};function Bw(e,t){let r=null,n=Lc(a);e=typeof e=="function"?e:fe(e||Fc),t=typeof t=="function"?t:fe(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:fe(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:fe(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Ba(){}function Fa(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function vh(e){this._context=e}vh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Fa(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Fa(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Fw(e){return new vh(e)}function bh(e){this._context=e}bh.prototype={areaStart:Ba,areaEnd:Ba,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Fa(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function zw(e){return new bh(e)}function xh(e){this._context=e}xh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Fa(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function qw(e){return new xh(e)}function wh(e){this._context=e}wh.prototype={areaStart:Ba,areaEnd:Ba,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Ww(e){return new wh(e)}function eu(e){return e<0?-1:1}function tu(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),s=(i*a+o*n)/(n+a);return(eu(i)+eu(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function ru(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function No(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-n)/3;e._context.bezierCurveTo(n+s,a+s*t,i-s,o-s*r,i,o)}function za(e){this._context=e}za.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:No(this,this._t0,ru(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,No(this,ru(this,r=tu(this,e,t)),r);break;default:No(this,this._t0,r=tu(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function _h(e){this._context=new jh(e)}(_h.prototype=Object.create(za.prototype)).point=function(e,t){za.prototype.point.call(this,t,e)};function jh(e){this._context=e}jh.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Uw(e){return new za(e)}function Gw(e){return new _h(e)}function Sh(e){this._context=e}Sh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=nu(e),a=nu(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function nu(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Hw(e){return new Sh(e)}function Ji(e,t){this._context=e,this._t=t}Ji.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Kw(e){return new Ji(e,.5)}function Vw(e){return new Ji(e,0)}function Yw(e){return new Ji(e,1)}function Sr(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,s=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<s;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function fs(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Xw(e,t){return e[t]}function Zw(e){const t=[];return t.key=e,t}function Jw(){var e=fe([]),t=fs,r=Sr,n=Xw;function a(i){var o=Array.from(e.apply(this,arguments),Zw),s,c=o.length,l=-1,f;for(const d of i)for(s=0,++l;s<c;++s)(o[s][l]=[0,+n(d,o[s].key,l,i)]).data=d;for(s=0,f=Bc(t(o));s<c;++s)o[f[s]].index=s;return r(o,f),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:fe(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:fe(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?fs:typeof i=="function"?i:fe(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Sr,a):r},a}function Qw(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Sr(e,t)}}function e1(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,s=0;o<a;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Sr(e,t)}}function t1(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var s=0,c=0,l=0;s<o;++s){for(var f=e[t[s]],d=f[n][1]||0,p=f[n-1][1]||0,m=(d-p)/2,v=0;v<s;++v){var h=e[t[v]],g=h[n][1]||0,_=h[n-1][1]||0;m+=g-_}c+=d,l+=m*d}a[n-1][1]+=a[n-1][0]=r,c&&(r-=l/c)}a[n-1][1]+=a[n-1][0]=r,Sr(e,t)}}function An(e){"@babel/helpers - typeof";return An=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},An(e)}var r1=["type","size","sizeType"];function ds(){return ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ds.apply(this,arguments)}function au(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?au(Object(r),!0).forEach(function(n){n1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):au(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n1(e,t,r){return t=a1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a1(e){var t=i1(e,"string");return An(t)=="symbol"?t:t+""}function i1(e,t){if(An(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(An(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o1(e,t){if(e==null)return{};var r=s1(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function s1(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Oh={symbolCircle:Fc,symbolCross:Nw,symbolDiamond:Tw,symbolSquare:Ew,symbolStar:Iw,symbolTriangle:Dw,symbolWye:Lw},c1=Math.PI/180,l1=function(t){var r="symbol".concat(Yi(t));return Oh[r]||Fc},u1=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*c1;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},f1=function(t,r){Oh["symbol".concat(Yi(t))]=r},zc=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,s=o===void 0?"area":o,c=o1(t,r1),l=iu(iu({},c),{},{type:n,size:i,sizeType:s}),f=function(){var g=l1(n),_=Bw().type(g).size(u1(i,s,n));return _()},d=l.className,p=l.cx,m=l.cy,v=ne(l,!0);return p===+p&&m===+m&&i===+i?$.createElement("path",ds({},v,{className:ae("recharts-symbols",d),transform:"translate(".concat(p,", ").concat(m,")"),d:f()})):null};zc.registerSymbol=f1;function Or(e){"@babel/helpers - typeof";return Or=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Or(e)}function ps(){return ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ps.apply(this,arguments)}function ou(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function d1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ou(Object(r),!0).forEach(function(n){Pn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ou(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ph(n.key),n)}}function m1(e,t,r){return t&&h1(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function g1(e,t,r){return t=qa(t),y1(e,Ah()?Reflect.construct(t,r||[],qa(e).constructor):t.apply(e,r))}function y1(e,t){if(t&&(Or(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v1(e)}function v1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ah(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ah=function(){return!!e})()}function qa(e){return qa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qa(e)}function b1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hs(e,t)}function hs(e,t){return hs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hs(e,t)}function Pn(e,t,r){return t=Ph(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ph(e){var t=x1(e,"string");return Or(t)=="symbol"?t:t+""}function x1(e,t){if(Or(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Or(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ke=32,qc=function(e){function t(){return p1(this,t),g1(this,t,arguments)}return b1(t,e),m1(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Ke/2,o=Ke/6,s=Ke/3,c=n.inactive?a:n.color;if(n.type==="plainline")return $.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Ke,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return $.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Ke,"M").concat(2*s,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return $.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ke/8,"h").concat(Ke,"v").concat(Ke*3/4,"h").concat(-Ke,"z"),className:"recharts-legend-icon"});if($.isValidElement(n.legendIcon)){var l=d1({},n);return delete l.legendIcon,$.cloneElement(n.legendIcon,l)}return $.createElement(zc,{fill:c,cx:i,cy:i,size:Ke,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,s=a.layout,c=a.formatter,l=a.inactiveColor,f={x:0,y:0,width:Ke,height:Ke},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,v){var h=m.formatter||c,g=ae(Pn(Pn({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",m.inactive));if(m.type==="none")return null;var _=te(m.value)?null:m.value;xt(!te(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=m.inactive?l:m.color;return $.createElement("li",ps({className:g,style:d,key:"legend-item-".concat(v)},Da(n.props,m,v)),$.createElement(as,{width:o,height:o,viewBox:f,style:p},n.renderIcon(m)),$.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},h?h(_,m,v):_))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var s={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return $.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(E.PureComponent);Pn(qc,"displayName","Legend");Pn(qc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var w1=Di;function _1(){this.__data__=new w1,this.size=0}var j1=_1;function S1(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var O1=S1;function A1(e){return this.__data__.get(e)}var P1=A1;function N1(e){return this.__data__.has(e)}var $1=N1,T1=Di,E1=$c,k1=Tc,C1=200;function M1(e,t){var r=this.__data__;if(r instanceof T1){var n=r.__data__;if(!E1||n.length<C1-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new k1(n)}return r.set(e,t),this.size=r.size,this}var I1=M1,D1=Di,R1=j1,L1=O1,B1=P1,F1=$1,z1=I1;function Jr(e){var t=this.__data__=new D1(e);this.size=t.size}Jr.prototype.clear=R1;Jr.prototype.delete=L1;Jr.prototype.get=B1;Jr.prototype.has=F1;Jr.prototype.set=z1;var Nh=Jr,q1="__lodash_hash_undefined__";function W1(e){return this.__data__.set(e,q1),this}var U1=W1;function G1(e){return this.__data__.has(e)}var H1=G1,K1=Tc,V1=U1,Y1=H1;function Wa(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new K1;++t<r;)this.add(e[t])}Wa.prototype.add=Wa.prototype.push=V1;Wa.prototype.has=Y1;var $h=Wa;function X1(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Th=X1;function Z1(e,t){return e.has(t)}var Eh=Z1,J1=$h,Q1=Th,e_=Eh,t_=1,r_=2;function n_(e,t,r,n,a,i){var o=r&t_,s=e.length,c=t.length;if(s!=c&&!(o&&c>s))return!1;var l=i.get(e),f=i.get(t);if(l&&f)return l==t&&f==e;var d=-1,p=!0,m=r&r_?new J1:void 0;for(i.set(e,t),i.set(t,e);++d<s;){var v=e[d],h=t[d];if(n)var g=o?n(h,v,d,t,e,i):n(v,h,d,e,t,i);if(g!==void 0){if(g)continue;p=!1;break}if(m){if(!Q1(t,function(_,x){if(!e_(m,x)&&(v===_||a(v,_,r,n,i)))return m.push(x)})){p=!1;break}}else if(!(v===h||a(v,h,r,n,i))){p=!1;break}}return i.delete(e),i.delete(t),p}var kh=n_,a_=pt,i_=a_.Uint8Array,o_=i_;function s_(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var c_=s_;function l_(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Wc=l_,su=sa,cu=o_,u_=Nc,f_=kh,d_=c_,p_=Wc,h_=1,m_=2,g_="[object Boolean]",y_="[object Date]",v_="[object Error]",b_="[object Map]",x_="[object Number]",w_="[object RegExp]",__="[object Set]",j_="[object String]",S_="[object Symbol]",O_="[object ArrayBuffer]",A_="[object DataView]",lu=su?su.prototype:void 0,$o=lu?lu.valueOf:void 0;function P_(e,t,r,n,a,i,o){switch(r){case A_:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case O_:return!(e.byteLength!=t.byteLength||!i(new cu(e),new cu(t)));case g_:case y_:case x_:return u_(+e,+t);case v_:return e.name==t.name&&e.message==t.message;case w_:case j_:return e==t+"";case b_:var s=d_;case __:var c=n&h_;if(s||(s=p_),e.size!=t.size&&!c)return!1;var l=o.get(e);if(l)return l==t;n|=m_,o.set(e,t);var f=f_(s(e),s(t),n,a,i,o);return o.delete(e),f;case S_:if($o)return $o.call(e)==$o.call(t)}return!1}var N_=P_;function $_(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var Ch=$_,T_=Ch,E_=Be;function k_(e,t,r){var n=t(e);return E_(e)?n:T_(n,r(e))}var C_=k_;function M_(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var I_=M_;function D_(){return[]}var R_=D_,L_=I_,B_=R_,F_=Object.prototype,z_=F_.propertyIsEnumerable,uu=Object.getOwnPropertySymbols,q_=uu?function(e){return e==null?[]:(e=Object(e),L_(uu(e),function(t){return z_.call(e,t)}))}:B_,W_=q_;function U_(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var G_=U_,H_=At,K_=Pt,V_="[object Arguments]";function Y_(e){return K_(e)&&H_(e)==V_}var X_=Y_,fu=X_,Z_=Pt,Mh=Object.prototype,J_=Mh.hasOwnProperty,Q_=Mh.propertyIsEnumerable,ej=fu(function(){return arguments}())?fu:function(e){return Z_(e)&&J_.call(e,"callee")&&!Q_.call(e,"callee")},Uc=ej,Ua={exports:{}};function tj(){return!1}var rj=tj;Ua.exports;(function(e,t){var r=pt,n=rj,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,s=o?r.Buffer:void 0,c=s?s.isBuffer:void 0,l=c||n;e.exports=l})(Ua,Ua.exports);var Ih=Ua.exports,nj=9007199254740991,aj=/^(?:0|[1-9]\d*)$/;function ij(e,t){var r=typeof e;return t=t??nj,!!t&&(r=="number"||r!="symbol"&&aj.test(e))&&e>-1&&e%1==0&&e<t}var Gc=ij,oj=9007199254740991;function sj(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=oj}var Hc=sj,cj=At,lj=Hc,uj=Pt,fj="[object Arguments]",dj="[object Array]",pj="[object Boolean]",hj="[object Date]",mj="[object Error]",gj="[object Function]",yj="[object Map]",vj="[object Number]",bj="[object Object]",xj="[object RegExp]",wj="[object Set]",_j="[object String]",jj="[object WeakMap]",Sj="[object ArrayBuffer]",Oj="[object DataView]",Aj="[object Float32Array]",Pj="[object Float64Array]",Nj="[object Int8Array]",$j="[object Int16Array]",Tj="[object Int32Array]",Ej="[object Uint8Array]",kj="[object Uint8ClampedArray]",Cj="[object Uint16Array]",Mj="[object Uint32Array]",he={};he[Aj]=he[Pj]=he[Nj]=he[$j]=he[Tj]=he[Ej]=he[kj]=he[Cj]=he[Mj]=!0;he[fj]=he[dj]=he[Sj]=he[pj]=he[Oj]=he[hj]=he[mj]=he[gj]=he[yj]=he[vj]=he[bj]=he[xj]=he[wj]=he[_j]=he[jj]=!1;function Ij(e){return uj(e)&&lj(e.length)&&!!he[cj(e)]}var Dj=Ij;function Rj(e){return function(t){return e(t)}}var Dh=Rj,Ga={exports:{}};Ga.exports;(function(e,t){var r=Up,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,s=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})(Ga,Ga.exports);var Lj=Ga.exports,Bj=Dj,Fj=Dh,du=Lj,pu=du&&du.isTypedArray,zj=pu?Fj(pu):Bj,Rh=zj,qj=G_,Wj=Uc,Uj=Be,Gj=Ih,Hj=Gc,Kj=Rh,Vj=Object.prototype,Yj=Vj.hasOwnProperty;function Xj(e,t){var r=Uj(e),n=!r&&Wj(e),a=!r&&!n&&Gj(e),i=!r&&!n&&!a&&Kj(e),o=r||n||a||i,s=o?qj(e.length,String):[],c=s.length;for(var l in e)(t||Yj.call(e,l))&&!(o&&(l=="length"||a&&(l=="offset"||l=="parent")||i&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Hj(l,c)))&&s.push(l);return s}var Zj=Xj,Jj=Object.prototype;function Qj(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Jj;return e===r}var eS=Qj;function tS(e,t){return function(r){return e(t(r))}}var Lh=tS,rS=Lh,nS=rS(Object.keys,Object),aS=nS,iS=eS,oS=aS,sS=Object.prototype,cS=sS.hasOwnProperty;function lS(e){if(!iS(e))return oS(e);var t=[];for(var r in Object(e))cS.call(e,r)&&r!="constructor"&&t.push(r);return t}var uS=lS,fS=Pc,dS=Hc;function pS(e){return e!=null&&dS(e.length)&&!fS(e)}var ua=pS,hS=Zj,mS=uS,gS=ua;function yS(e){return gS(e)?hS(e):mS(e)}var Qi=yS,vS=C_,bS=W_,xS=Qi;function wS(e){return vS(e,xS,bS)}var _S=wS,hu=_S,jS=1,SS=Object.prototype,OS=SS.hasOwnProperty;function AS(e,t,r,n,a,i){var o=r&jS,s=hu(e),c=s.length,l=hu(t),f=l.length;if(c!=f&&!o)return!1;for(var d=c;d--;){var p=s[d];if(!(o?p in t:OS.call(t,p)))return!1}var m=i.get(e),v=i.get(t);if(m&&v)return m==t&&v==e;var h=!0;i.set(e,t),i.set(t,e);for(var g=o;++d<c;){p=s[d];var _=e[p],x=t[p];if(n)var w=o?n(x,_,p,t,e,i):n(_,x,p,e,t,i);if(!(w===void 0?_===x||a(_,x,r,n,i):w)){h=!1;break}g||(g=p=="constructor")}if(h&&!g){var S=e.constructor,b=t.constructor;S!=b&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof b=="function"&&b instanceof b)&&(h=!1)}return i.delete(e),i.delete(t),h}var PS=AS,NS=cr,$S=pt,TS=NS($S,"DataView"),ES=TS,kS=cr,CS=pt,MS=kS(CS,"Promise"),IS=MS,DS=cr,RS=pt,LS=DS(RS,"Set"),Bh=LS,BS=cr,FS=pt,zS=BS(FS,"WeakMap"),qS=zS,ms=ES,gs=$c,ys=IS,vs=Bh,bs=qS,Fh=At,Qr=Hp,mu="[object Map]",WS="[object Object]",gu="[object Promise]",yu="[object Set]",vu="[object WeakMap]",bu="[object DataView]",US=Qr(ms),GS=Qr(gs),HS=Qr(ys),KS=Qr(vs),VS=Qr(bs),Ht=Fh;(ms&&Ht(new ms(new ArrayBuffer(1)))!=bu||gs&&Ht(new gs)!=mu||ys&&Ht(ys.resolve())!=gu||vs&&Ht(new vs)!=yu||bs&&Ht(new bs)!=vu)&&(Ht=function(e){var t=Fh(e),r=t==WS?e.constructor:void 0,n=r?Qr(r):"";if(n)switch(n){case US:return bu;case GS:return mu;case HS:return gu;case KS:return yu;case VS:return vu}return t});var YS=Ht,To=Nh,XS=kh,ZS=N_,JS=PS,xu=YS,wu=Be,_u=Ih,QS=Rh,eO=1,ju="[object Arguments]",Su="[object Array]",ba="[object Object]",tO=Object.prototype,Ou=tO.hasOwnProperty;function rO(e,t,r,n,a,i){var o=wu(e),s=wu(t),c=o?Su:xu(e),l=s?Su:xu(t);c=c==ju?ba:c,l=l==ju?ba:l;var f=c==ba,d=l==ba,p=c==l;if(p&&_u(e)){if(!_u(t))return!1;o=!0,f=!1}if(p&&!f)return i||(i=new To),o||QS(e)?XS(e,t,r,n,a,i):ZS(e,t,c,r,n,a,i);if(!(r&eO)){var m=f&&Ou.call(e,"__wrapped__"),v=d&&Ou.call(t,"__wrapped__");if(m||v){var h=m?e.value():e,g=v?t.value():t;return i||(i=new To),a(h,g,r,n,i)}}return p?(i||(i=new To),JS(e,t,r,n,a,i)):!1}var nO=rO,aO=nO,Au=Pt;function zh(e,t,r,n,a){return e===t?!0:e==null||t==null||!Au(e)&&!Au(t)?e!==e&&t!==t:aO(e,t,r,n,zh,a)}var Kc=zh,iO=Nh,oO=Kc,sO=1,cO=2;function lO(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var s=r[a];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<i;){s=r[a];var c=s[0],l=e[c],f=s[1];if(o&&s[2]){if(l===void 0&&!(c in e))return!1}else{var d=new iO;if(n)var p=n(l,f,c,e,t,d);if(!(p===void 0?oO(f,l,sO|cO,n,d):p))return!1}}return!0}var uO=lO,fO=Dt;function dO(e){return e===e&&!fO(e)}var qh=dO,pO=qh,hO=Qi;function mO(e){for(var t=hO(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,pO(a)]}return t}var gO=mO;function yO(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Wh=yO,vO=uO,bO=gO,xO=Wh;function wO(e){var t=bO(e);return t.length==1&&t[0][2]?xO(t[0][0],t[0][1]):function(r){return r===e||vO(r,e,t)}}var _O=wO;function jO(e,t){return e!=null&&t in Object(e)}var SO=jO,OO=Zp,AO=Uc,PO=Be,NO=Gc,$O=Hc,TO=Li;function EO(e,t,r){t=OO(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=TO(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&$O(a)&&NO(o,a)&&(PO(e)||AO(e)))}var kO=EO,CO=SO,MO=kO;function IO(e,t){return e!=null&&MO(e,t,CO)}var DO=IO,RO=Kc,LO=Jp,BO=DO,FO=Ac,zO=qh,qO=Wh,WO=Li,UO=1,GO=2;function HO(e,t){return FO(e)&&zO(t)?qO(WO(e),t):function(r){var n=LO(r,e);return n===void 0&&n===t?BO(r,e):RO(t,n,UO|GO)}}var KO=HO;function VO(e){return e}var en=VO;function YO(e){return function(t){return t==null?void 0:t[e]}}var XO=YO,ZO=Cc;function JO(e){return function(t){return ZO(t,e)}}var QO=JO,e2=XO,t2=QO,r2=Ac,n2=Li;function a2(e){return r2(e)?e2(n2(e)):t2(e)}var i2=a2,o2=_O,s2=KO,c2=en,l2=Be,u2=i2;function f2(e){return typeof e=="function"?e:e==null?c2:typeof e=="object"?l2(e)?s2(e[0],e[1]):o2(e):u2(e)}var Rt=f2;function d2(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var Uh=d2;function p2(e){return e!==e}var h2=p2;function m2(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var g2=m2,y2=Uh,v2=h2,b2=g2;function x2(e,t,r){return t===t?b2(e,t,r):y2(e,v2,r)}var w2=x2,_2=w2;function j2(e,t){var r=e==null?0:e.length;return!!r&&_2(e,t,0)>-1}var S2=j2;function O2(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var A2=O2;function P2(){}var N2=P2,Eo=Bh,$2=N2,T2=Wc,E2=1/0,k2=Eo&&1/T2(new Eo([,-0]))[1]==E2?function(e){return new Eo(e)}:$2,C2=k2,M2=$h,I2=S2,D2=A2,R2=Eh,L2=C2,B2=Wc,F2=200;function z2(e,t,r){var n=-1,a=I2,i=e.length,o=!0,s=[],c=s;if(r)o=!1,a=D2;else if(i>=F2){var l=t?null:L2(e);if(l)return B2(l);o=!1,a=R2,c=new M2}else c=t?[]:s;e:for(;++n<i;){var f=e[n],d=t?t(f):f;if(f=r||f!==0?f:0,o&&d===d){for(var p=c.length;p--;)if(c[p]===d)continue e;t&&c.push(d),s.push(f)}else a(c,d,r)||(c!==s&&c.push(d),s.push(f))}return s}var q2=z2,W2=Rt,U2=q2;function G2(e,t){return e&&e.length?U2(e,W2(t)):[]}var H2=G2;const Pu=de(H2);function Gh(e,t,r){return t===!0?Pu(e,r):te(t)?Pu(e,t):e}function Ar(e){"@babel/helpers - typeof";return Ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ar(e)}var K2=["ref"];function Nu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nu(Object(r),!0).forEach(function(n){eo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kh(n.key),n)}}function Y2(e,t,r){return t&&$u(e.prototype,t),r&&$u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function X2(e,t,r){return t=Ha(t),Z2(e,Hh()?Reflect.construct(t,r||[],Ha(e).constructor):t.apply(e,r))}function Z2(e,t){if(t&&(Ar(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J2(e)}function J2(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hh=function(){return!!e})()}function Ha(e){return Ha=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ha(e)}function Q2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xs(e,t)}function xs(e,t){return xs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xs(e,t)}function eo(e,t,r){return t=Kh(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kh(e){var t=eA(e,"string");return Ar(t)=="symbol"?t:t+""}function eA(e,t){if(Ar(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ar(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function tA(e,t){if(e==null)return{};var r=rA(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rA(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nA(e){return e.value}function aA(e,t){if($.isValidElement(e))return $.cloneElement(e,t);if(typeof e=="function")return $.createElement(e,t);t.ref;var r=tA(t,K2);return $.createElement(qc,r)}var Tu=1,Jt=function(e){function t(){var r;V2(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=X2(this,t,[].concat(a)),eo(r,"lastBoundingBox",{width:-1,height:-1}),r}return Q2(t,e),Y2(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Tu||Math.abs(a.height-this.lastBoundingBox.height)>Tu)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ht({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,s=a.verticalAlign,c=a.margin,l=a.chartWidth,f=a.chartHeight,d,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();d={left:((l||0)-m.width)/2}}else d=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();p={top:((f||0)-v.height)/2}}else p=s==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ht(ht({},d),p)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,s=a.height,c=a.wrapperStyle,l=a.payloadUniqBy,f=a.payload,d=ht(ht({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(c)),c);return $.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(m){n.wrapperNode=m}},aA(i,ht(ht({},this.props),{},{payload:Gh(f,l,nA)})))}}],[{key:"getWithHeight",value:function(n,a){var i=ht(ht({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&G(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(E.PureComponent);eo(Jt,"displayName","Legend");eo(Jt,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Eu=sa,iA=Uc,oA=Be,ku=Eu?Eu.isConcatSpreadable:void 0;function sA(e){return oA(e)||iA(e)||!!(ku&&e&&e[ku])}var cA=sA,lA=Ch,uA=cA;function Vh(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=uA),a||(a=[]);++i<o;){var s=e[i];t>0&&r(s)?t>1?Vh(s,t-1,r,n,a):lA(a,s):n||(a[a.length]=s)}return a}var Yh=Vh;function fA(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),s=o.length;s--;){var c=o[e?s:++a];if(r(i[c],c,i)===!1)break}return t}}var dA=fA,pA=dA,hA=pA(),mA=hA,gA=mA,yA=Qi;function vA(e,t){return e&&gA(e,t,yA)}var Xh=vA,bA=ua;function xA(e,t){return function(r,n){if(r==null)return r;if(!bA(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var wA=xA,_A=Xh,jA=wA,SA=jA(_A),Vc=SA,OA=Vc,AA=ua;function PA(e,t){var r=-1,n=AA(e)?Array(e.length):[];return OA(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var Zh=PA;function NA(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var $A=NA,Cu=Kr;function TA(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=Cu(e),o=t!==void 0,s=t===null,c=t===t,l=Cu(t);if(!s&&!l&&!i&&e>t||i&&o&&c&&!s&&!l||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!l&&e<t||l&&r&&a&&!n&&!i||s&&r&&a||!o&&a||!c)return-1}return 0}var EA=TA,kA=EA;function CA(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,s=r.length;++n<o;){var c=kA(a[n],i[n]);if(c){if(n>=s)return c;var l=r[n];return c*(l=="desc"?-1:1)}}return e.index-t.index}var MA=CA,ko=kc,IA=Cc,DA=Rt,RA=Zh,LA=$A,BA=Dh,FA=MA,zA=en,qA=Be;function WA(e,t,r){t.length?t=ko(t,function(i){return qA(i)?function(o){return IA(o,i.length===1?i[0]:i)}:i}):t=[zA];var n=-1;t=ko(t,BA(DA));var a=RA(e,function(i,o,s){var c=ko(t,function(l){return l(i)});return{criteria:c,index:++n,value:i}});return LA(a,function(i,o){return FA(i,o,r)})}var UA=WA;function GA(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var HA=GA,KA=HA,Mu=Math.max;function VA(e,t,r){return t=Mu(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=Mu(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(o),KA(e,this,s)}}var YA=VA;function XA(e){return function(){return e}}var ZA=XA,JA=cr,QA=function(){try{var e=JA(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Jh=QA,eP=ZA,Iu=Jh,tP=en,rP=Iu?function(e,t){return Iu(e,"toString",{configurable:!0,enumerable:!1,value:eP(t),writable:!0})}:tP,nP=rP,aP=800,iP=16,oP=Date.now;function sP(e){var t=0,r=0;return function(){var n=oP(),a=iP-(n-r);if(r=n,a>0){if(++t>=aP)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var cP=sP,lP=nP,uP=cP,fP=uP(lP),dP=fP,pP=en,hP=YA,mP=dP;function gP(e,t){return mP(hP(e,t,pP),e+"")}var yP=gP,vP=Nc,bP=ua,xP=Gc,wP=Dt;function _P(e,t,r){if(!wP(r))return!1;var n=typeof t;return(n=="number"?bP(r)&&xP(t,r.length):n=="string"&&t in r)?vP(r[t],e):!1}var to=_P,jP=Yh,SP=UA,OP=yP,Du=to,AP=OP(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Du(e,t[0],t[1])?t=[]:r>2&&Du(t[0],t[1],t[2])&&(t=[t[0]]),SP(e,jP(t,1),[])}),PP=AP;const Yc=de(PP);function Nn(e){"@babel/helpers - typeof";return Nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nn(e)}function ws(){return ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ws.apply(this,arguments)}function NP(e,t){return kP(e)||EP(e,t)||TP(e,t)||$P()}function $P(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TP(e,t){if(e){if(typeof e=="string")return Ru(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ru(e,t)}}function Ru(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function EP(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(f){l=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}function kP(e){if(Array.isArray(e))return e}function Lu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Co(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lu(Object(r),!0).forEach(function(n){CP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CP(e,t,r){return t=MP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MP(e){var t=IP(e,"string");return Nn(t)=="symbol"?t:t+""}function IP(e,t){if(Nn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DP(e){return Array.isArray(e)&&Ae(e[0])&&Ae(e[1])?e.join(" ~ "):e}var RP=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,s=o===void 0?{}:o,c=t.labelStyle,l=c===void 0?{}:c,f=t.payload,d=t.formatter,p=t.itemSorter,m=t.wrapperClassName,v=t.labelClassName,h=t.label,g=t.labelFormatter,_=t.accessibilityLayer,x=_===void 0?!1:_,w=function(){if(f&&f.length){var A={padding:0,margin:0},C=(p?Yc(f,p):f).map(function(R,M){if(R.type==="none")return null;var L=Co({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},s),z=R.formatter||d||DP,q=R.value,U=R.name,V=q,X=U;if(z&&V!=null&&X!=null){var K=z(q,U,R,M,f);if(Array.isArray(K)){var N=NP(K,2);V=N[0],X=N[1]}else V=K}return $.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:L},Ae(X)?$.createElement("span",{className:"recharts-tooltip-item-name"},X):null,Ae(X)?$.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,$.createElement("span",{className:"recharts-tooltip-item-value"},V),$.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return $.createElement("ul",{className:"recharts-tooltip-item-list",style:A},C)}return null},S=Co({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),b=Co({margin:0},l),y=!re(h),j=y?h:"",O=ae("recharts-default-tooltip",m),P=ae("recharts-tooltip-label",v);y&&g&&f!==void 0&&f!==null&&(j=g(h,f));var k=x?{role:"status","aria-live":"assertive"}:{};return $.createElement("div",ws({className:O,style:S},k),$.createElement("p",{className:P,style:b},$.isValidElement(j)?j:"".concat(j)),w())};function $n(e){"@babel/helpers - typeof";return $n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$n(e)}function xa(e,t,r){return t=LP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LP(e){var t=BP(e,"string");return $n(t)=="symbol"?t:t+""}function BP(e,t){if($n(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($n(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ln="recharts-tooltip-wrapper",FP={visibility:"hidden"};function zP(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return ae(ln,xa(xa(xa(xa({},"".concat(ln,"-right"),G(r)&&t&&G(t.x)&&r>=t.x),"".concat(ln,"-left"),G(r)&&t&&G(t.x)&&r<t.x),"".concat(ln,"-bottom"),G(n)&&t&&G(t.y)&&n>=t.y),"".concat(ln,"-top"),G(n)&&t&&G(t.y)&&n<t.y))}function Bu(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,s=e.tooltipDimension,c=e.viewBox,l=e.viewBoxDimension;if(i&&G(i[n]))return i[n];var f=r[n]-s-a,d=r[n]+a;if(t[n])return o[n]?f:d;if(o[n]){var p=f,m=c[n];return p<m?Math.max(d,c[n]):Math.max(f,c[n])}var v=d+s,h=c[n]+l;return v>h?Math.max(f,c[n]):Math.max(d,c[n])}function qP(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function WP(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,s=e.useTranslate3d,c=e.viewBox,l,f,d;return o.height>0&&o.width>0&&r?(f=Bu({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),d=Bu({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),l=qP({translateX:f,translateY:d,useTranslate3d:s})):l=FP,{cssProperties:l,cssClasses:zP({translateX:f,translateY:d,coordinate:r})}}function Pr(e){"@babel/helpers - typeof";return Pr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pr(e)}function Fu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fu(Object(r),!0).forEach(function(n){js(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,em(n.key),n)}}function HP(e,t,r){return t&&GP(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KP(e,t,r){return t=Ka(t),VP(e,Qh()?Reflect.construct(t,r||[],Ka(e).constructor):t.apply(e,r))}function VP(e,t){if(t&&(Pr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YP(e)}function YP(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qh=function(){return!!e})()}function Ka(e){return Ka=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ka(e)}function XP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_s(e,t)}function _s(e,t){return _s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_s(e,t)}function js(e,t,r){return t=em(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function em(e){var t=ZP(e,"string");return Pr(t)=="symbol"?t:t+""}function ZP(e,t){if(Pr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qu=1,JP=function(e){function t(){var r;UP(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=KP(this,t,[].concat(a)),js(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),js(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,c,l,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&s!==void 0?s:0,y:(l=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&l!==void 0?l:0}})}}),r}return XP(t,e),HP(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>qu||Math.abs(n.height-this.state.lastBoundingBox.height)>qu)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,c=a.animationEasing,l=a.children,f=a.coordinate,d=a.hasPayload,p=a.isAnimationActive,m=a.offset,v=a.position,h=a.reverseDirection,g=a.useTranslate3d,_=a.viewBox,x=a.wrapperStyle,w=WP({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:m,position:v,reverseDirection:h,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:_}),S=w.cssClasses,b=w.cssProperties,y=zu(zu({transition:p&&i?"transform ".concat(s,"ms ").concat(c):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&d?"visible":"hidden",position:"absolute",top:0,left:0},x);return $.createElement("div",{tabIndex:-1,className:S,style:y,ref:function(O){n.wrapperNode=O}},l)}}])}(E.PureComponent),QP=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},tn={isSsr:QP()};function Nr(e){"@babel/helpers - typeof";return Nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nr(e)}function Wu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wu(Object(r),!0).forEach(function(n){Xc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rm(n.key),n)}}function rN(e,t,r){return t&&tN(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nN(e,t,r){return t=Va(t),aN(e,tm()?Reflect.construct(t,r||[],Va(e).constructor):t.apply(e,r))}function aN(e,t){if(t&&(Nr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iN(e)}function iN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tm=function(){return!!e})()}function Va(e){return Va=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Va(e)}function oN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ss(e,t)}function Ss(e,t){return Ss=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ss(e,t)}function Xc(e,t,r){return t=rm(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rm(e){var t=sN(e,"string");return Nr(t)=="symbol"?t:t+""}function sN(e,t){if(Nr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function cN(e){return e.dataKey}function lN(e,t){return $.isValidElement(e)?$.cloneElement(e,t):typeof e=="function"?$.createElement(e,t):$.createElement(RP,t)}var Ve=function(e){function t(){return eN(this,t),nN(this,t,arguments)}return oN(t,e),rN(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,s=a.animationDuration,c=a.animationEasing,l=a.content,f=a.coordinate,d=a.filterNull,p=a.isAnimationActive,m=a.offset,v=a.payload,h=a.payloadUniqBy,g=a.position,_=a.reverseDirection,x=a.useTranslate3d,w=a.viewBox,S=a.wrapperStyle,b=v??[];d&&b.length&&(b=Gh(v.filter(function(j){return j.value!=null&&(j.hide!==!0||n.props.includeHidden)}),h,cN));var y=b.length>0;return $.createElement(JP,{allowEscapeViewBox:o,animationDuration:s,animationEasing:c,isAnimationActive:p,active:i,coordinate:f,hasPayload:y,offset:m,position:g,reverseDirection:_,useTranslate3d:x,viewBox:w,wrapperStyle:S},lN(l,Uu(Uu({},this.props),{},{payload:b})))}}])}(E.PureComponent);Xc(Ve,"displayName","Tooltip");Xc(Ve,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!tn.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var uN=pt,fN=function(){return uN.Date.now()},dN=fN,pN=/\s/;function hN(e){for(var t=e.length;t--&&pN.test(e.charAt(t)););return t}var mN=hN,gN=mN,yN=/^\s+/;function vN(e){return e&&e.slice(0,gN(e)+1).replace(yN,"")}var bN=vN,xN=bN,Gu=Dt,wN=Kr,Hu=NaN,_N=/^[-+]0x[0-9a-f]+$/i,jN=/^0b[01]+$/i,SN=/^0o[0-7]+$/i,ON=parseInt;function AN(e){if(typeof e=="number")return e;if(wN(e))return Hu;if(Gu(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Gu(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=xN(e);var r=jN.test(e);return r||SN.test(e)?ON(e.slice(2),r?2:8):_N.test(e)?Hu:+e}var nm=AN,PN=Dt,Mo=dN,Ku=nm,NN="Expected a function",$N=Math.max,TN=Math.min;function EN(e,t,r){var n,a,i,o,s,c,l=0,f=!1,d=!1,p=!0;if(typeof e!="function")throw new TypeError(NN);t=Ku(t)||0,PN(r)&&(f=!!r.leading,d="maxWait"in r,i=d?$N(Ku(r.maxWait)||0,t):i,p="trailing"in r?!!r.trailing:p);function m(y){var j=n,O=a;return n=a=void 0,l=y,o=e.apply(O,j),o}function v(y){return l=y,s=setTimeout(_,t),f?m(y):o}function h(y){var j=y-c,O=y-l,P=t-j;return d?TN(P,i-O):P}function g(y){var j=y-c,O=y-l;return c===void 0||j>=t||j<0||d&&O>=i}function _(){var y=Mo();if(g(y))return x(y);s=setTimeout(_,h(y))}function x(y){return s=void 0,p&&n?m(y):(n=a=void 0,o)}function w(){s!==void 0&&clearTimeout(s),l=0,n=c=a=s=void 0}function S(){return s===void 0?o:x(Mo())}function b(){var y=Mo(),j=g(y);if(n=arguments,a=this,c=y,j){if(s===void 0)return v(c);if(d)return clearTimeout(s),s=setTimeout(_,t),m(c)}return s===void 0&&(s=setTimeout(_,t)),o}return b.cancel=w,b.flush=S,b}var kN=EN,CN=kN,MN=Dt,IN="Expected a function";function DN(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(IN);return MN(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),CN(e,t,{leading:n,maxWait:t,trailing:a})}var RN=DN;const am=de(RN);function Tn(e){"@babel/helpers - typeof";return Tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tn(e)}function Vu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vu(Object(r),!0).forEach(function(n){LN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LN(e,t,r){return t=BN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BN(e){var t=FN(e,"string");return Tn(t)=="symbol"?t:t+""}function FN(e,t){if(Tn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zN(e,t){return GN(e)||UN(e,t)||WN(e,t)||qN()}function qN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WN(e,t){if(e){if(typeof e=="string")return Yu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yu(e,t)}}function Yu(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UN(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(f){l=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}function GN(e){if(Array.isArray(e))return e}var Os=E.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,s=e.height,c=s===void 0?"100%":s,l=e.minWidth,f=l===void 0?0:l,d=e.minHeight,p=e.maxHeight,m=e.children,v=e.debounce,h=v===void 0?0:v,g=e.id,_=e.className,x=e.onResize,w=e.style,S=w===void 0?{}:w,b=E.useRef(null),y=E.useRef();y.current=x,E.useImperativeHandle(t,function(){return Object.defineProperty(b.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),b.current},configurable:!0})});var j=E.useState({containerWidth:a.width,containerHeight:a.height}),O=zN(j,2),P=O[0],k=O[1],T=E.useCallback(function(C,R){k(function(M){var L=Math.round(C),z=Math.round(R);return M.containerWidth===L&&M.containerHeight===z?M:{containerWidth:L,containerHeight:z}})},[]);E.useEffect(function(){var C=function(U){var V,X=U[0].contentRect,K=X.width,N=X.height;T(K,N),(V=y.current)===null||V===void 0||V.call(y,K,N)};h>0&&(C=am(C,h,{trailing:!0,leading:!1}));var R=new ResizeObserver(C),M=b.current.getBoundingClientRect(),L=M.width,z=M.height;return T(L,z),R.observe(b.current),function(){R.disconnect()}},[T,h]);var A=E.useMemo(function(){var C=P.containerWidth,R=P.containerHeight;if(C<0||R<0)return null;xt(Vt(o)||Vt(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),xt(!r||r>0,"The aspect(%s) must be greater than zero.",r);var M=Vt(o)?C:o,L=Vt(c)?R:c;r&&r>0&&(M?L=M/r:L&&(M=L*r),p&&L>p&&(L=p)),xt(M>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,L,o,c,f,d,r);var z=!Array.isArray(m)&&bt(m.type).endsWith("Chart");return $.Children.map(m,function(q){return $.isValidElement(q)?E.cloneElement(q,wa({width:M,height:L},z?{style:wa({height:"100%",width:"100%",maxHeight:L,maxWidth:M},q.props.style)}:{})):q})},[r,m,c,p,d,f,P,o]);return $.createElement("div",{id:g?"".concat(g):void 0,className:ae("recharts-responsive-container",_),style:wa(wa({},S),{},{width:o,height:c,minWidth:f,minHeight:d,maxHeight:p}),ref:b},A)}),im=function(t){return null};im.displayName="Cell";function En(e){"@babel/helpers - typeof";return En=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},En(e)}function Xu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function As(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xu(Object(r),!0).forEach(function(n){HN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HN(e,t,r){return t=KN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KN(e){var t=VN(e,"string");return En(t)=="symbol"?t:t+""}function VN(e,t){if(En(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(En(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hr={widthCache:{},cacheCount:0},YN=2e3,XN={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Zu="recharts_measurement_span";function ZN(e){var t=As({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var wn=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||tn.isSsr)return{width:0,height:0};var n=ZN(r),a=JSON.stringify({text:t,copyStyle:n});if(hr.widthCache[a])return hr.widthCache[a];try{var i=document.getElementById(Zu);i||(i=document.createElement("span"),i.setAttribute("id",Zu),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=As(As({},XN),n);Object.assign(i.style,o),i.textContent="".concat(t);var s=i.getBoundingClientRect(),c={width:s.width,height:s.height};return hr.widthCache[a]=c,++hr.cacheCount>YN&&(hr.cacheCount=0,hr.widthCache={}),c}catch{return{width:0,height:0}}},JN=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function kn(e){"@babel/helpers - typeof";return kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kn(e)}function Ya(e,t){return r$(e)||t$(e,t)||e$(e,t)||QN()}function QN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e$(e,t){if(e){if(typeof e=="string")return Ju(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ju(e,t)}}function Ju(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function t$(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(f){l=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}function r$(e){if(Array.isArray(e))return e}function n$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i$(n.key),n)}}function a$(e,t,r){return t&&Qu(e.prototype,t),r&&Qu(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function i$(e){var t=o$(e,"string");return kn(t)=="symbol"?t:t+""}function o$(e,t){if(kn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ef=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,tf=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,s$=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,c$=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,om={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},l$=Object.keys(om),vr="NaN";function u$(e,t){return e*om[t]}var _a=function(){function e(t,r){n$(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!s$.test(r)&&(this.num=NaN,this.unit=""),l$.includes(r)&&(this.num=u$(t,r),this.unit="px")}return a$(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=c$.exec(r))!==null&&n!==void 0?n:[],i=Ya(a,3),o=i[1],s=i[2];return new e(parseFloat(o),s??"")}}])}();function sm(e){if(e.includes(vr))return vr;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=ef.exec(t))!==null&&r!==void 0?r:[],a=Ya(n,4),i=a[1],o=a[2],s=a[3],c=_a.parse(i??""),l=_a.parse(s??""),f=o==="*"?c.multiply(l):c.divide(l);if(f.isNaN())return vr;t=t.replace(ef,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,p=(d=tf.exec(t))!==null&&d!==void 0?d:[],m=Ya(p,4),v=m[1],h=m[2],g=m[3],_=_a.parse(v??""),x=_a.parse(g??""),w=h==="+"?_.add(x):_.subtract(x);if(w.isNaN())return vr;t=t.replace(tf,w.toString())}return t}var rf=/\(([^()]*)\)/;function f$(e){for(var t=e;t.includes("(");){var r=rf.exec(t),n=Ya(r,2),a=n[1];t=t.replace(rf,sm(a))}return t}function d$(e){var t=e.replace(/\s+/g,"");return t=f$(t),t=sm(t),t}function p$(e){try{return d$(e)}catch{return vr}}function Io(e){var t=p$(e.slice(5,-1));return t===vr?"":t}var h$=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],m$=["dx","dy","angle","className","breakAll"];function Ps(){return Ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ps.apply(this,arguments)}function nf(e,t){if(e==null)return{};var r=g$(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function g$(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function af(e,t){return x$(e)||b$(e,t)||v$(e,t)||y$()}function y$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v$(e,t){if(e){if(typeof e=="string")return of(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return of(e,t)}}function of(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b$(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(f){l=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}function x$(e){if(Array.isArray(e))return e}var cm=/[ \f\n\r\t\v\u2028\u2029]+/,lm=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];re(r)||(n?i=r.toString().split(""):i=r.toString().split(cm));var o=i.map(function(c){return{word:c,width:wn(c,a).width}}),s=n?0:wn(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},w$=function(t,r,n,a,i){var o=t.maxLines,s=t.children,c=t.style,l=t.breakAll,f=G(o),d=s,p=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function(L,z){var q=z.word,U=z.width,V=L[L.length-1];if(V&&(a==null||i||V.width+U+n<Number(a)))V.words.push(q),V.width+=U+n;else{var X={words:[q],width:U};L.push(X)}return L},[])},m=p(r),v=function(M){return M.reduce(function(L,z){return L.width>z.width?L:z})};if(!f)return m;for(var h="…",g=function(M){var L=d.slice(0,M),z=lm({breakAll:l,style:c,children:L+h}).wordsWithComputedWidth,q=p(z),U=q.length>o||v(q).width>Number(a);return[U,q]},_=0,x=d.length-1,w=0,S;_<=x&&w<=d.length-1;){var b=Math.floor((_+x)/2),y=b-1,j=g(y),O=af(j,2),P=O[0],k=O[1],T=g(b),A=af(T,1),C=A[0];if(!P&&!C&&(_=b+1),P&&C&&(x=b-1),!P&&C){S=k;break}w++}return S||m},sf=function(t){var r=re(t)?[]:t.toString().split(cm);return[{words:r}]},_$=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,s=t.maxLines;if((r||n)&&!tn.isSsr){var c,l,f=lm({breakAll:o,children:a,style:i});if(f){var d=f.wordsWithComputedWidth,p=f.spaceWidth;c=d,l=p}else return sf(a);return w$({breakAll:o,children:a,maxLines:s,style:i},c,l,r,n)}return sf(a)},cf="#808080",Xa=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,s=o===void 0?"1em":o,c=t.capHeight,l=c===void 0?"0.71em":c,f=t.scaleToFit,d=f===void 0?!1:f,p=t.textAnchor,m=p===void 0?"start":p,v=t.verticalAnchor,h=v===void 0?"end":v,g=t.fill,_=g===void 0?cf:g,x=nf(t,h$),w=E.useMemo(function(){return _$({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:d,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,d,x.style,x.width]),S=x.dx,b=x.dy,y=x.angle,j=x.className,O=x.breakAll,P=nf(x,m$);if(!Ae(n)||!Ae(i))return null;var k=n+(G(S)?S:0),T=i+(G(b)?b:0),A;switch(h){case"start":A=Io("calc(".concat(l,")"));break;case"middle":A=Io("calc(".concat((w.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:A=Io("calc(".concat(w.length-1," * -").concat(s,")"));break}var C=[];if(d){var R=w[0].width,M=x.width;C.push("scale(".concat((G(M)?M/R:1)/R,")"))}return y&&C.push("rotate(".concat(y,", ").concat(k,", ").concat(T,")")),C.length&&(P.transform=C.join(" ")),$.createElement("text",Ps({},ne(P,!0),{x:k,y:T,className:ae("recharts-text",j),textAnchor:m,fill:_.includes("url")?cf:_}),w.map(function(L,z){var q=L.words.join(O?"":" ");return $.createElement("tspan",{x:k,dy:z===0?A:s,key:"".concat(q,"-").concat(z)},q)}))};function Mt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function j$(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Zc(e){let t,r,n;e.length!==2?(t=Mt,r=(s,c)=>Mt(e(s),c),n=(s,c)=>e(s)-c):(t=e===Mt||e===j$?e:S$,r=e,n=e);function a(s,c,l=0,f=s.length){if(l<f){if(t(c,c)!==0)return f;do{const d=l+f>>>1;r(s[d],c)<0?l=d+1:f=d}while(l<f)}return l}function i(s,c,l=0,f=s.length){if(l<f){if(t(c,c)!==0)return f;do{const d=l+f>>>1;r(s[d],c)<=0?l=d+1:f=d}while(l<f)}return l}function o(s,c,l=0,f=s.length){const d=a(s,c,l,f-1);return d>l&&n(s[d-1],c)>-n(s[d],c)?d-1:d}return{left:a,center:o,right:i}}function S$(){return 0}function um(e){return e===null?NaN:+e}function*O$(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const A$=Zc(Mt),fa=A$.right;Zc(um).center;class lf extends Map{constructor(t,r=$$){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(uf(this,t))}has(t){return super.has(uf(this,t))}set(t,r){return super.set(P$(this,t),r)}delete(t){return super.delete(N$(this,t))}}function uf({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function P$({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function N$({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function $$(e){return e!==null&&typeof e=="object"?e.valueOf():e}function T$(e=Mt){if(e===Mt)return fm;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function fm(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const E$=Math.sqrt(50),k$=Math.sqrt(10),C$=Math.sqrt(2);function Za(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=E$?10:i>=k$?5:i>=C$?2:1;let s,c,l;return a<0?(l=Math.pow(10,-a)/o,s=Math.round(e*l),c=Math.round(t*l),s/l<e&&++s,c/l>t&&--c,l=-l):(l=Math.pow(10,a)*o,s=Math.round(e/l),c=Math.round(t/l),s*l<e&&++s,c*l>t&&--c),c<s&&.5<=r&&r<2?Za(e,t,r*2):[s,c,l]}function Ns(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Za(t,e,r):Za(e,t,r);if(!(i>=a))return[];const s=i-a+1,c=new Array(s);if(n)if(o<0)for(let l=0;l<s;++l)c[l]=(i-l)/-o;else for(let l=0;l<s;++l)c[l]=(i-l)*o;else if(o<0)for(let l=0;l<s;++l)c[l]=(a+l)/-o;else for(let l=0;l<s;++l)c[l]=(a+l)*o;return c}function $s(e,t,r){return t=+t,e=+e,r=+r,Za(e,t,r)[2]}function Ts(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?$s(t,e,r):$s(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function ff(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function df(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function dm(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?fm:T$(a);n>r;){if(n-r>600){const c=n-r+1,l=t-r+1,f=Math.log(c),d=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*d*(c-d)/c)*(l-c/2<0?-1:1),m=Math.max(r,Math.floor(t-l*d/c+p)),v=Math.min(n,Math.floor(t+(c-l)*d/c+p));dm(e,t,m,v,a)}const i=e[t];let o=r,s=n;for(un(e,r,t),a(e[n],i)>0&&un(e,r,n);o<s;){for(un(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[r],i)===0?un(e,r,s):(++s,un(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function un(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function M$(e,t,r){if(e=Float64Array.from(O$(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return df(e);if(t>=1)return ff(e);var n,a=(n-1)*t,i=Math.floor(a),o=ff(dm(e,i).subarray(0,i+1)),s=df(e.subarray(i+1));return o+(s-o)*(a-i)}}function I$(e,t,r=um){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),s=+r(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function D$(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function et(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Nt(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Es=Symbol("implicit");function Jc(){var e=new lf,t=[],r=[],n=Es;function a(i){let o=e.get(i);if(o===void 0){if(n!==Es)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new lf;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Jc(t,r).unknown(n)},et.apply(a,arguments),a}function Cn(){var e=Jc().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,s=!1,c=0,l=0,f=.5;delete e.unknown;function d(){var p=t().length,m=a<n,v=m?a:n,h=m?n:a;i=(h-v)/Math.max(1,p-c+l*2),s&&(i=Math.floor(i)),v+=(h-v-i*(p-c))*f,o=i*(1-c),s&&(v=Math.round(v),o=Math.round(o));var g=D$(p).map(function(_){return v+i*_});return r(m?g.reverse():g)}return e.domain=function(p){return arguments.length?(t(p),d()):t()},e.range=function(p){return arguments.length?([n,a]=p,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(p){return[n,a]=p,n=+n,a=+a,s=!0,d()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(s=!!p,d()):s},e.padding=function(p){return arguments.length?(c=Math.min(1,l=+p),d()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),d()):c},e.paddingOuter=function(p){return arguments.length?(l=+p,d()):l},e.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),d()):f},e.copy=function(){return Cn(t(),[n,a]).round(s).paddingInner(c).paddingOuter(l).align(f)},et.apply(d(),arguments)}function pm(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return pm(t())},e}function _n(){return pm(Cn.apply(null,arguments).paddingInner(1))}function Qc(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function hm(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function da(){}var Mn=.7,Ja=1/Mn,_r="\\s*([+-]?\\d+)\\s*",In="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ut="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",R$=/^#([0-9a-f]{3,8})$/,L$=new RegExp(`^rgb\\(${_r},${_r},${_r}\\)$`),B$=new RegExp(`^rgb\\(${ut},${ut},${ut}\\)$`),F$=new RegExp(`^rgba\\(${_r},${_r},${_r},${In}\\)$`),z$=new RegExp(`^rgba\\(${ut},${ut},${ut},${In}\\)$`),q$=new RegExp(`^hsl\\(${In},${ut},${ut}\\)$`),W$=new RegExp(`^hsla\\(${In},${ut},${ut},${In}\\)$`),pf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qc(da,Dn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:hf,formatHex:hf,formatHex8:U$,formatHsl:G$,formatRgb:mf,toString:mf});function hf(){return this.rgb().formatHex()}function U$(){return this.rgb().formatHex8()}function G$(){return mm(this).formatHsl()}function mf(){return this.rgb().formatRgb()}function Dn(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=R$.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?gf(t):r===3?new Le(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ja(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ja(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=L$.exec(e))?new Le(t[1],t[2],t[3],1):(t=B$.exec(e))?new Le(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=F$.exec(e))?ja(t[1],t[2],t[3],t[4]):(t=z$.exec(e))?ja(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=q$.exec(e))?bf(t[1],t[2]/100,t[3]/100,1):(t=W$.exec(e))?bf(t[1],t[2]/100,t[3]/100,t[4]):pf.hasOwnProperty(e)?gf(pf[e]):e==="transparent"?new Le(NaN,NaN,NaN,0):null}function gf(e){return new Le(e>>16&255,e>>8&255,e&255,1)}function ja(e,t,r,n){return n<=0&&(e=t=r=NaN),new Le(e,t,r,n)}function H$(e){return e instanceof da||(e=Dn(e)),e?(e=e.rgb(),new Le(e.r,e.g,e.b,e.opacity)):new Le}function ks(e,t,r,n){return arguments.length===1?H$(e):new Le(e,t,r,n??1)}function Le(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Qc(Le,ks,hm(da,{brighter(e){return e=e==null?Ja:Math.pow(Ja,e),new Le(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Mn:Math.pow(Mn,e),new Le(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Le(Qt(this.r),Qt(this.g),Qt(this.b),Qa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yf,formatHex:yf,formatHex8:K$,formatRgb:vf,toString:vf}));function yf(){return`#${Yt(this.r)}${Yt(this.g)}${Yt(this.b)}`}function K$(){return`#${Yt(this.r)}${Yt(this.g)}${Yt(this.b)}${Yt((isNaN(this.opacity)?1:this.opacity)*255)}`}function vf(){const e=Qa(this.opacity);return`${e===1?"rgb(":"rgba("}${Qt(this.r)}, ${Qt(this.g)}, ${Qt(this.b)}${e===1?")":`, ${e})`}`}function Qa(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Qt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Yt(e){return e=Qt(e),(e<16?"0":"")+e.toString(16)}function bf(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ot(e,t,r,n)}function mm(e){if(e instanceof ot)return new ot(e.h,e.s,e.l,e.opacity);if(e instanceof da||(e=Dn(e)),!e)return new ot;if(e instanceof ot)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,s=i-a,c=(i+a)/2;return s?(t===i?o=(r-n)/s+(r<n)*6:r===i?o=(n-t)/s+2:o=(t-r)/s+4,s/=c<.5?i+a:2-i-a,o*=60):s=c>0&&c<1?0:o,new ot(o,s,c,e.opacity)}function V$(e,t,r,n){return arguments.length===1?mm(e):new ot(e,t,r,n??1)}function ot(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Qc(ot,V$,hm(da,{brighter(e){return e=e==null?Ja:Math.pow(Ja,e),new ot(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Mn:Math.pow(Mn,e),new ot(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Le(Do(e>=240?e-240:e+120,a,n),Do(e,a,n),Do(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ot(xf(this.h),Sa(this.s),Sa(this.l),Qa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Qa(this.opacity);return`${e===1?"hsl(":"hsla("}${xf(this.h)}, ${Sa(this.s)*100}%, ${Sa(this.l)*100}%${e===1?")":`, ${e})`}`}}));function xf(e){return e=(e||0)%360,e<0?e+360:e}function Sa(e){return Math.max(0,Math.min(1,e||0))}function Do(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const el=e=>()=>e;function Y$(e,t){return function(r){return e+r*t}}function X$(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Z$(e){return(e=+e)==1?gm:function(t,r){return r-t?X$(t,r,e):el(isNaN(t)?r:t)}}function gm(e,t){var r=t-e;return r?Y$(e,r):el(isNaN(e)?t:e)}const wf=function e(t){var r=Z$(t);function n(a,i){var o=r((a=ks(a)).r,(i=ks(i)).r),s=r(a.g,i.g),c=r(a.b,i.b),l=gm(a.opacity,i.opacity);return function(f){return a.r=o(f),a.g=s(f),a.b=c(f),a.opacity=l(f),a+""}}return n.gamma=e,n}(1);function J$(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function Q$(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function eT(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=rn(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(s){for(o=0;o<n;++o)i[o]=a[o](s);return i}}function tT(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ei(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function rT(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=rn(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Cs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ro=new RegExp(Cs.source,"g");function nT(e){return function(){return e}}function aT(e){return function(t){return e(t)+""}}function iT(e,t){var r=Cs.lastIndex=Ro.lastIndex=0,n,a,i,o=-1,s=[],c=[];for(e=e+"",t=t+"";(n=Cs.exec(e))&&(a=Ro.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,c.push({i:o,x:ei(n,a)})),r=Ro.lastIndex;return r<t.length&&(i=t.slice(r),s[o]?s[o]+=i:s[++o]=i),s.length<2?c[0]?aT(c[0].x):nT(t):(t=c.length,function(l){for(var f=0,d;f<t;++f)s[(d=c[f]).i]=d.x(l);return s.join("")})}function rn(e,t){var r=typeof t,n;return t==null||r==="boolean"?el(t):(r==="number"?ei:r==="string"?(n=Dn(t))?(t=n,wf):iT:t instanceof Dn?wf:t instanceof Date?tT:Q$(t)?J$:Array.isArray(t)?eT:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?rT:ei)(e,t)}function tl(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function oT(e,t){t===void 0&&(t=e,e=rn);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[s](o-s)}}function sT(e){return function(){return e}}function ti(e){return+e}var _f=[0,1];function Re(e){return e}function Ms(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:sT(isNaN(t)?NaN:.5)}function cT(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function lT(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=Ms(a,n),i=r(o,i)):(n=Ms(n,a),i=r(i,o)),function(s){return i(n(s))}}function uT(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Ms(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(s){var c=fa(e,s,1,n)-1;return i[c](a[c](s))}}function pa(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ro(){var e=_f,t=_f,r=rn,n,a,i,o=Re,s,c,l;function f(){var p=Math.min(e.length,t.length);return o!==Re&&(o=cT(e[0],e[p-1])),s=p>2?uT:lT,c=l=null,d}function d(p){return p==null||isNaN(p=+p)?i:(c||(c=s(e.map(n),t,r)))(n(o(p)))}return d.invert=function(p){return o(a((l||(l=s(t,e.map(n),ei)))(p)))},d.domain=function(p){return arguments.length?(e=Array.from(p,ti),f()):e.slice()},d.range=function(p){return arguments.length?(t=Array.from(p),f()):t.slice()},d.rangeRound=function(p){return t=Array.from(p),r=tl,f()},d.clamp=function(p){return arguments.length?(o=p?!0:Re,f()):o!==Re},d.interpolate=function(p){return arguments.length?(r=p,f()):r},d.unknown=function(p){return arguments.length?(i=p,d):i},function(p,m){return n=p,a=m,f()}}function rl(){return ro()(Re,Re)}function fT(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ri(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function $r(e){return e=ri(Math.abs(e)),e?e[1]:NaN}function dT(e,t){return function(r,n){for(var a=r.length,i=[],o=0,s=e[0],c=0;a>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),i.push(r.substring(a-=s,a+s)),!((c+=s+1)>n));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function pT(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var hT=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rn(e){if(!(t=hT.exec(e)))throw new Error("invalid format: "+e);var t;return new nl({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Rn.prototype=nl.prototype;function nl(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}nl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function mT(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var ym;function gT(e,t){var r=ri(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(ym=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+ri(e,Math.max(0,t+i-1))[0]}function jf(e,t){var r=ri(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const Sf={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:fT,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>jf(e*100,t),r:jf,s:gT,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Of(e){return e}var Af=Array.prototype.map,Pf=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function yT(e){var t=e.grouping===void 0||e.thousands===void 0?Of:dT(Af.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Of:pT(Af.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function l(d){d=Rn(d);var p=d.fill,m=d.align,v=d.sign,h=d.symbol,g=d.zero,_=d.width,x=d.comma,w=d.precision,S=d.trim,b=d.type;b==="n"?(x=!0,b="g"):Sf[b]||(w===void 0&&(w=12),S=!0,b="g"),(g||p==="0"&&m==="=")&&(g=!0,p="0",m="=");var y=h==="$"?r:h==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",j=h==="$"?n:/[%p]/.test(b)?o:"",O=Sf[b],P=/[defgprs%]/.test(b);w=w===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function k(T){var A=y,C=j,R,M,L;if(b==="c")C=O(T)+C,T="";else{T=+T;var z=T<0||1/T<0;if(T=isNaN(T)?c:O(Math.abs(T),w),S&&(T=mT(T)),z&&+T==0&&v!=="+"&&(z=!1),A=(z?v==="("?v:s:v==="-"||v==="("?"":v)+A,C=(b==="s"?Pf[8+ym/3]:"")+C+(z&&v==="("?")":""),P){for(R=-1,M=T.length;++R<M;)if(L=T.charCodeAt(R),48>L||L>57){C=(L===46?a+T.slice(R+1):T.slice(R))+C,T=T.slice(0,R);break}}}x&&!g&&(T=t(T,1/0));var q=A.length+T.length+C.length,U=q<_?new Array(_-q+1).join(p):"";switch(x&&g&&(T=t(U+T,U.length?_-C.length:1/0),U=""),m){case"<":T=A+T+C+U;break;case"=":T=A+U+T+C;break;case"^":T=U.slice(0,q=U.length>>1)+A+T+C+U.slice(q);break;default:T=U+A+T+C;break}return i(T)}return k.toString=function(){return d+""},k}function f(d,p){var m=l((d=Rn(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor($r(p)/3)))*3,h=Math.pow(10,-v),g=Pf[8+v/3];return function(_){return m(h*_)+g}}return{format:l,formatPrefix:f}}var Oa,al,vm;vT({thousands:",",grouping:[3],currency:["$",""]});function vT(e){return Oa=yT(e),al=Oa.format,vm=Oa.formatPrefix,Oa}function bT(e){return Math.max(0,-$r(Math.abs(e)))}function xT(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor($r(t)/3)))*3-$r(Math.abs(e)))}function wT(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,$r(t)-$r(e))+1}function bm(e,t,r,n){var a=Ts(e,t,r),i;switch(n=Rn(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=xT(a,o))&&(n.precision=i),vm(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=wT(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=bT(a))&&(n.precision=i-(n.type==="%")*2);break}}return al(n)}function Lt(e){var t=e.domain;return e.ticks=function(r){var n=t();return Ns(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return bm(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],s=n[i],c,l,f=10;for(s<o&&(l=o,o=s,s=l,l=a,a=i,i=l);f-- >0;){if(l=$s(o,s,r),l===c)return n[a]=o,n[i]=s,t(n);if(l>0)o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l;else if(l<0)o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l;else break;c=l}return e},e}function ni(){var e=rl();return e.copy=function(){return pa(e,ni())},et.apply(e,arguments),Lt(e)}function xm(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ti),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return xm(e).unknown(t)},e=arguments.length?Array.from(e,ti):[0,1],Lt(r)}function wm(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function Nf(e){return Math.log(e)}function $f(e){return Math.exp(e)}function _T(e){return-Math.log(-e)}function jT(e){return-Math.exp(-e)}function ST(e){return isFinite(e)?+("1e"+e):e<0?0:e}function OT(e){return e===10?ST:e===Math.E?Math.exp:t=>Math.pow(e,t)}function AT(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Tf(e){return(t,r)=>-e(-t,r)}function il(e){const t=e(Nf,$f),r=t.domain;let n=10,a,i;function o(){return a=AT(n),i=OT(n),r()[0]<0?(a=Tf(a),i=Tf(i),e(_T,jT)):e(Nf,$f),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const c=r();let l=c[0],f=c[c.length-1];const d=f<l;d&&([l,f]=[f,l]);let p=a(l),m=a(f),v,h;const g=s==null?10:+s;let _=[];if(!(n%1)&&m-p<g){if(p=Math.floor(p),m=Math.ceil(m),l>0){for(;p<=m;++p)for(v=1;v<n;++v)if(h=p<0?v/i(-p):v*i(p),!(h<l)){if(h>f)break;_.push(h)}}else for(;p<=m;++p)for(v=n-1;v>=1;--v)if(h=p>0?v/i(-p):v*i(p),!(h<l)){if(h>f)break;_.push(h)}_.length*2<g&&(_=Ns(l,f,g))}else _=Ns(p,m,Math.min(m-p,g)).map(i);return d?_.reverse():_},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Rn(c)).precision==null&&(c.trim=!0),c=al(c)),s===1/0)return c;const l=Math.max(1,n*s/t.ticks().length);return f=>{let d=f/i(Math.round(a(f)));return d*n<n-.5&&(d*=n),d<=l?c(f):""}},t.nice=()=>r(wm(r(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function _m(){const e=il(ro()).domain([1,10]);return e.copy=()=>pa(e,_m()).base(e.base()),et.apply(e,arguments),e}function Ef(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function kf(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ol(e){var t=1,r=e(Ef(t),kf(t));return r.constant=function(n){return arguments.length?e(Ef(t=+n),kf(t)):t},Lt(r)}function jm(){var e=ol(ro());return e.copy=function(){return pa(e,jm()).constant(e.constant())},et.apply(e,arguments)}function Cf(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function PT(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function NT(e){return e<0?-e*e:e*e}function sl(e){var t=e(Re,Re),r=1;function n(){return r===1?e(Re,Re):r===.5?e(PT,NT):e(Cf(r),Cf(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Lt(t)}function cl(){var e=sl(ro());return e.copy=function(){return pa(e,cl()).exponent(e.exponent())},et.apply(e,arguments),e}function $T(){return cl.apply(null,arguments).exponent(.5)}function Mf(e){return Math.sign(e)*e*e}function TT(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Sm(){var e=rl(),t=[0,1],r=!1,n;function a(i){var o=TT(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(Mf(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,ti)).map(Mf)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Sm(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},et.apply(a,arguments),Lt(a)}function Om(){var e=[],t=[],r=[],n;function a(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=I$(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?n:t[fa(r,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Mt),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return Om().domain(e).range(t).unknown(n)},et.apply(i,arguments)}function Am(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[fa(n,c,0,r)]:i}function s(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,s()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,s()):a.slice()},o.invertExtent=function(c){var l=a.indexOf(c);return l<0?[NaN,NaN]:l<1?[e,n[0]]:l>=r?[n[r-1],t]:[n[l-1],n[l]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Am().domain([e,t]).range(a).unknown(i)},et.apply(Lt(o),arguments)}function Pm(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[fa(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Pm().domain(e).range(t).unknown(r)},et.apply(a,arguments)}const Lo=new Date,Bo=new Date;function Pe(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const c=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return c;let l;do c.push(l=new Date(+i)),t(i,s),e(i);while(l<i&&i<o);return c},a.filter=i=>Pe(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(Lo.setTime(+i),Bo.setTime(+o),e(Lo),e(Bo),Math.floor(r(Lo,Bo))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const ai=Pe(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ai.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Pe(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ai);ai.range;const mt=1e3,Ye=mt*60,gt=Ye*60,_t=gt*24,ll=_t*7,If=_t*30,Fo=_t*365,Xt=Pe(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*mt)},(e,t)=>(t-e)/mt,e=>e.getUTCSeconds());Xt.range;const ul=Pe(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*mt)},(e,t)=>{e.setTime(+e+t*Ye)},(e,t)=>(t-e)/Ye,e=>e.getMinutes());ul.range;const fl=Pe(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ye)},(e,t)=>(t-e)/Ye,e=>e.getUTCMinutes());fl.range;const dl=Pe(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*mt-e.getMinutes()*Ye)},(e,t)=>{e.setTime(+e+t*gt)},(e,t)=>(t-e)/gt,e=>e.getHours());dl.range;const pl=Pe(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*gt)},(e,t)=>(t-e)/gt,e=>e.getUTCHours());pl.range;const ha=Pe(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ye)/_t,e=>e.getDate()-1);ha.range;const no=Pe(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_t,e=>e.getUTCDate()-1);no.range;const Nm=Pe(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_t,e=>Math.floor(e/_t));Nm.range;function lr(e){return Pe(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ye)/ll)}const ao=lr(0),ii=lr(1),ET=lr(2),kT=lr(3),Tr=lr(4),CT=lr(5),MT=lr(6);ao.range;ii.range;ET.range;kT.range;Tr.range;CT.range;MT.range;function ur(e){return Pe(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/ll)}const io=ur(0),oi=ur(1),IT=ur(2),DT=ur(3),Er=ur(4),RT=ur(5),LT=ur(6);io.range;oi.range;IT.range;DT.range;Er.range;RT.range;LT.range;const hl=Pe(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());hl.range;const ml=Pe(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ml.range;const jt=Pe(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());jt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pe(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});jt.range;const St=Pe(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());St.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pe(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});St.range;function $m(e,t,r,n,a,i){const o=[[Xt,1,mt],[Xt,5,5*mt],[Xt,15,15*mt],[Xt,30,30*mt],[i,1,Ye],[i,5,5*Ye],[i,15,15*Ye],[i,30,30*Ye],[a,1,gt],[a,3,3*gt],[a,6,6*gt],[a,12,12*gt],[n,1,_t],[n,2,2*_t],[r,1,ll],[t,1,If],[t,3,3*If],[e,1,Fo]];function s(l,f,d){const p=f<l;p&&([l,f]=[f,l]);const m=d&&typeof d.range=="function"?d:c(l,f,d),v=m?m.range(l,+f+1):[];return p?v.reverse():v}function c(l,f,d){const p=Math.abs(f-l)/d,m=Zc(([,,g])=>g).right(o,p);if(m===o.length)return e.every(Ts(l/Fo,f/Fo,d));if(m===0)return ai.every(Math.max(Ts(l,f,d),1));const[v,h]=o[p/o[m-1][2]<o[m][2]/p?m-1:m];return v.every(h)}return[s,c]}const[BT,FT]=$m(St,ml,io,Nm,pl,fl),[zT,qT]=$m(jt,hl,ao,ha,dl,ul);function zo(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function qo(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function fn(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function WT(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,c=e.shortMonths,l=dn(a),f=pn(a),d=dn(i),p=pn(i),m=dn(o),v=pn(o),h=dn(s),g=pn(s),_=dn(c),x=pn(c),w={a:z,A:q,b:U,B:V,c:null,d:zf,e:zf,f:dE,g:_E,G:SE,H:lE,I:uE,j:fE,L:Tm,m:pE,M:hE,p:X,q:K,Q:Uf,s:Gf,S:mE,u:gE,U:yE,V:vE,w:bE,W:xE,x:null,X:null,y:wE,Y:jE,Z:OE,"%":Wf},S={a:N,A:I,b:F,B:W,c:null,d:qf,e:qf,f:$E,g:BE,G:zE,H:AE,I:PE,j:NE,L:km,m:TE,M:EE,p:De,q:be,Q:Uf,s:Gf,S:kE,u:CE,U:ME,V:IE,w:DE,W:RE,x:null,X:null,y:LE,Y:FE,Z:qE,"%":Wf},b={a:k,A:T,b:A,B:C,c:R,d:Bf,e:Bf,f:iE,g:Lf,G:Rf,H:Ff,I:Ff,j:tE,L:aE,m:eE,M:rE,p:P,q:QT,Q:sE,s:cE,S:nE,u:VT,U:YT,V:XT,w:KT,W:ZT,x:M,X:L,y:Lf,Y:Rf,Z:JT,"%":oE};w.x=y(r,w),w.X=y(n,w),w.c=y(t,w),S.x=y(r,S),S.X=y(n,S),S.c=y(t,S);function y(H,Q){return function(ee){var B=[],pe=-1,J=0,ge=H.length,ye,Ne,$t;for(ee instanceof Date||(ee=new Date(+ee));++pe<ge;)H.charCodeAt(pe)===37&&(B.push(H.slice(J,pe)),(Ne=Df[ye=H.charAt(++pe)])!=null?ye=H.charAt(++pe):Ne=ye==="e"?" ":"0",($t=Q[ye])&&(ye=$t(ee,Ne)),B.push(ye),J=pe+1);return B.push(H.slice(J,pe)),B.join("")}}function j(H,Q){return function(ee){var B=fn(1900,void 0,1),pe=O(B,H,ee+="",0),J,ge;if(pe!=ee.length)return null;if("Q"in B)return new Date(B.Q);if("s"in B)return new Date(B.s*1e3+("L"in B?B.L:0));if(Q&&!("Z"in B)&&(B.Z=0),"p"in B&&(B.H=B.H%12+B.p*12),B.m===void 0&&(B.m="q"in B?B.q:0),"V"in B){if(B.V<1||B.V>53)return null;"w"in B||(B.w=1),"Z"in B?(J=qo(fn(B.y,0,1)),ge=J.getUTCDay(),J=ge>4||ge===0?oi.ceil(J):oi(J),J=no.offset(J,(B.V-1)*7),B.y=J.getUTCFullYear(),B.m=J.getUTCMonth(),B.d=J.getUTCDate()+(B.w+6)%7):(J=zo(fn(B.y,0,1)),ge=J.getDay(),J=ge>4||ge===0?ii.ceil(J):ii(J),J=ha.offset(J,(B.V-1)*7),B.y=J.getFullYear(),B.m=J.getMonth(),B.d=J.getDate()+(B.w+6)%7)}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),ge="Z"in B?qo(fn(B.y,0,1)).getUTCDay():zo(fn(B.y,0,1)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+B.W*7-(ge+5)%7:B.w+B.U*7-(ge+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,qo(B)):zo(B)}}function O(H,Q,ee,B){for(var pe=0,J=Q.length,ge=ee.length,ye,Ne;pe<J;){if(B>=ge)return-1;if(ye=Q.charCodeAt(pe++),ye===37){if(ye=Q.charAt(pe++),Ne=b[ye in Df?Q.charAt(pe++):ye],!Ne||(B=Ne(H,ee,B))<0)return-1}else if(ye!=ee.charCodeAt(B++))return-1}return B}function P(H,Q,ee){var B=l.exec(Q.slice(ee));return B?(H.p=f.get(B[0].toLowerCase()),ee+B[0].length):-1}function k(H,Q,ee){var B=m.exec(Q.slice(ee));return B?(H.w=v.get(B[0].toLowerCase()),ee+B[0].length):-1}function T(H,Q,ee){var B=d.exec(Q.slice(ee));return B?(H.w=p.get(B[0].toLowerCase()),ee+B[0].length):-1}function A(H,Q,ee){var B=_.exec(Q.slice(ee));return B?(H.m=x.get(B[0].toLowerCase()),ee+B[0].length):-1}function C(H,Q,ee){var B=h.exec(Q.slice(ee));return B?(H.m=g.get(B[0].toLowerCase()),ee+B[0].length):-1}function R(H,Q,ee){return O(H,t,Q,ee)}function M(H,Q,ee){return O(H,r,Q,ee)}function L(H,Q,ee){return O(H,n,Q,ee)}function z(H){return o[H.getDay()]}function q(H){return i[H.getDay()]}function U(H){return c[H.getMonth()]}function V(H){return s[H.getMonth()]}function X(H){return a[+(H.getHours()>=12)]}function K(H){return 1+~~(H.getMonth()/3)}function N(H){return o[H.getUTCDay()]}function I(H){return i[H.getUTCDay()]}function F(H){return c[H.getUTCMonth()]}function W(H){return s[H.getUTCMonth()]}function De(H){return a[+(H.getUTCHours()>=12)]}function be(H){return 1+~~(H.getUTCMonth()/3)}return{format:function(H){var Q=y(H+="",w);return Q.toString=function(){return H},Q},parse:function(H){var Q=j(H+="",!1);return Q.toString=function(){return H},Q},utcFormat:function(H){var Q=y(H+="",S);return Q.toString=function(){return H},Q},utcParse:function(H){var Q=j(H+="",!0);return Q.toString=function(){return H},Q}}}var Df={"-":"",_:" ",0:"0"},Te=/^\s*\d+/,UT=/^%/,GT=/[\\^$*+?|[\]().{}]/g;function ie(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function HT(e){return e.replace(GT,"\\$&")}function dn(e){return new RegExp("^(?:"+e.map(HT).join("|")+")","i")}function pn(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function KT(e,t,r){var n=Te.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function VT(e,t,r){var n=Te.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function YT(e,t,r){var n=Te.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function XT(e,t,r){var n=Te.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function ZT(e,t,r){var n=Te.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Rf(e,t,r){var n=Te.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Lf(e,t,r){var n=Te.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function JT(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function QT(e,t,r){var n=Te.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function eE(e,t,r){var n=Te.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Bf(e,t,r){var n=Te.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function tE(e,t,r){var n=Te.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Ff(e,t,r){var n=Te.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function rE(e,t,r){var n=Te.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function nE(e,t,r){var n=Te.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function aE(e,t,r){var n=Te.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function iE(e,t,r){var n=Te.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function oE(e,t,r){var n=UT.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function sE(e,t,r){var n=Te.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function cE(e,t,r){var n=Te.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function zf(e,t){return ie(e.getDate(),t,2)}function lE(e,t){return ie(e.getHours(),t,2)}function uE(e,t){return ie(e.getHours()%12||12,t,2)}function fE(e,t){return ie(1+ha.count(jt(e),e),t,3)}function Tm(e,t){return ie(e.getMilliseconds(),t,3)}function dE(e,t){return Tm(e,t)+"000"}function pE(e,t){return ie(e.getMonth()+1,t,2)}function hE(e,t){return ie(e.getMinutes(),t,2)}function mE(e,t){return ie(e.getSeconds(),t,2)}function gE(e){var t=e.getDay();return t===0?7:t}function yE(e,t){return ie(ao.count(jt(e)-1,e),t,2)}function Em(e){var t=e.getDay();return t>=4||t===0?Tr(e):Tr.ceil(e)}function vE(e,t){return e=Em(e),ie(Tr.count(jt(e),e)+(jt(e).getDay()===4),t,2)}function bE(e){return e.getDay()}function xE(e,t){return ie(ii.count(jt(e)-1,e),t,2)}function wE(e,t){return ie(e.getFullYear()%100,t,2)}function _E(e,t){return e=Em(e),ie(e.getFullYear()%100,t,2)}function jE(e,t){return ie(e.getFullYear()%1e4,t,4)}function SE(e,t){var r=e.getDay();return e=r>=4||r===0?Tr(e):Tr.ceil(e),ie(e.getFullYear()%1e4,t,4)}function OE(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ie(t/60|0,"0",2)+ie(t%60,"0",2)}function qf(e,t){return ie(e.getUTCDate(),t,2)}function AE(e,t){return ie(e.getUTCHours(),t,2)}function PE(e,t){return ie(e.getUTCHours()%12||12,t,2)}function NE(e,t){return ie(1+no.count(St(e),e),t,3)}function km(e,t){return ie(e.getUTCMilliseconds(),t,3)}function $E(e,t){return km(e,t)+"000"}function TE(e,t){return ie(e.getUTCMonth()+1,t,2)}function EE(e,t){return ie(e.getUTCMinutes(),t,2)}function kE(e,t){return ie(e.getUTCSeconds(),t,2)}function CE(e){var t=e.getUTCDay();return t===0?7:t}function ME(e,t){return ie(io.count(St(e)-1,e),t,2)}function Cm(e){var t=e.getUTCDay();return t>=4||t===0?Er(e):Er.ceil(e)}function IE(e,t){return e=Cm(e),ie(Er.count(St(e),e)+(St(e).getUTCDay()===4),t,2)}function DE(e){return e.getUTCDay()}function RE(e,t){return ie(oi.count(St(e)-1,e),t,2)}function LE(e,t){return ie(e.getUTCFullYear()%100,t,2)}function BE(e,t){return e=Cm(e),ie(e.getUTCFullYear()%100,t,2)}function FE(e,t){return ie(e.getUTCFullYear()%1e4,t,4)}function zE(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Er(e):Er.ceil(e),ie(e.getUTCFullYear()%1e4,t,4)}function qE(){return"+0000"}function Wf(){return"%"}function Uf(e){return+e}function Gf(e){return Math.floor(+e/1e3)}var mr,Mm,Im;WE({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function WE(e){return mr=WT(e),Mm=mr.format,mr.parse,Im=mr.utcFormat,mr.utcParse,mr}function UE(e){return new Date(e)}function GE(e){return e instanceof Date?+e:+new Date(+e)}function gl(e,t,r,n,a,i,o,s,c,l){var f=rl(),d=f.invert,p=f.domain,m=l(".%L"),v=l(":%S"),h=l("%I:%M"),g=l("%I %p"),_=l("%a %d"),x=l("%b %d"),w=l("%B"),S=l("%Y");function b(y){return(c(y)<y?m:s(y)<y?v:o(y)<y?h:i(y)<y?g:n(y)<y?a(y)<y?_:x:r(y)<y?w:S)(y)}return f.invert=function(y){return new Date(d(y))},f.domain=function(y){return arguments.length?p(Array.from(y,GE)):p().map(UE)},f.ticks=function(y){var j=p();return e(j[0],j[j.length-1],y??10)},f.tickFormat=function(y,j){return j==null?b:l(j)},f.nice=function(y){var j=p();return(!y||typeof y.range!="function")&&(y=t(j[0],j[j.length-1],y??10)),y?p(wm(j,y)):f},f.copy=function(){return pa(f,gl(e,t,r,n,a,i,o,s,c,l))},f}function HE(){return et.apply(gl(zT,qT,jt,hl,ao,ha,dl,ul,Xt,Mm).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function KE(){return et.apply(gl(BT,FT,St,ml,io,no,pl,fl,Xt,Im).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function oo(){var e=0,t=1,r,n,a,i,o=Re,s=!1,c;function l(d){return d==null||isNaN(d=+d)?c:o(a===0?.5:(d=(i(d)-r)*a,s?Math.max(0,Math.min(1,d)):d))}l.domain=function(d){return arguments.length?([e,t]=d,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),l):[e,t]},l.clamp=function(d){return arguments.length?(s=!!d,l):s},l.interpolator=function(d){return arguments.length?(o=d,l):o};function f(d){return function(p){var m,v;return arguments.length?([m,v]=p,o=d(m,v),l):[o(0),o(1)]}}return l.range=f(rn),l.rangeRound=f(tl),l.unknown=function(d){return arguments.length?(c=d,l):c},function(d){return i=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),l}}function Bt(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Dm(){var e=Lt(oo()(Re));return e.copy=function(){return Bt(e,Dm())},Nt.apply(e,arguments)}function Rm(){var e=il(oo()).domain([1,10]);return e.copy=function(){return Bt(e,Rm()).base(e.base())},Nt.apply(e,arguments)}function Lm(){var e=ol(oo());return e.copy=function(){return Bt(e,Lm()).constant(e.constant())},Nt.apply(e,arguments)}function yl(){var e=sl(oo());return e.copy=function(){return Bt(e,yl()).exponent(e.exponent())},Nt.apply(e,arguments)}function VE(){return yl.apply(null,arguments).exponent(.5)}function Bm(){var e=[],t=Re;function r(n){if(n!=null&&!isNaN(n=+n))return t((fa(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Mt),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>M$(e,i/n))},r.copy=function(){return Bm(t).domain(e)},Nt.apply(r,arguments)}function so(){var e=0,t=.5,r=1,n=1,a,i,o,s,c,l=Re,f,d=!1,p;function m(h){return isNaN(h=+h)?p:(h=.5+((h=+f(h))-i)*(n*h<n*i?s:c),l(d?Math.max(0,Math.min(1,h)):h))}m.domain=function(h){return arguments.length?([e,t,r]=h,a=f(e=+e),i=f(t=+t),o=f(r=+r),s=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(h){return arguments.length?(d=!!h,m):d},m.interpolator=function(h){return arguments.length?(l=h,m):l};function v(h){return function(g){var _,x,w;return arguments.length?([_,x,w]=g,l=oT(h,[_,x,w]),m):[l(0),l(.5),l(1)]}}return m.range=v(rn),m.rangeRound=v(tl),m.unknown=function(h){return arguments.length?(p=h,m):p},function(h){return f=h,a=h(e),i=h(t),o=h(r),s=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function Fm(){var e=Lt(so()(Re));return e.copy=function(){return Bt(e,Fm())},Nt.apply(e,arguments)}function zm(){var e=il(so()).domain([.1,1,10]);return e.copy=function(){return Bt(e,zm()).base(e.base())},Nt.apply(e,arguments)}function qm(){var e=ol(so());return e.copy=function(){return Bt(e,qm()).constant(e.constant())},Nt.apply(e,arguments)}function vl(){var e=sl(so());return e.copy=function(){return Bt(e,vl()).exponent(e.exponent())},Nt.apply(e,arguments)}function YE(){return vl.apply(null,arguments).exponent(.5)}const Hf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Cn,scaleDiverging:Fm,scaleDivergingLog:zm,scaleDivergingPow:vl,scaleDivergingSqrt:YE,scaleDivergingSymlog:qm,scaleIdentity:xm,scaleImplicit:Es,scaleLinear:ni,scaleLog:_m,scaleOrdinal:Jc,scalePoint:_n,scalePow:cl,scaleQuantile:Om,scaleQuantize:Am,scaleRadial:Sm,scaleSequential:Dm,scaleSequentialLog:Rm,scaleSequentialPow:yl,scaleSequentialQuantile:Bm,scaleSequentialSqrt:VE,scaleSequentialSymlog:Lm,scaleSqrt:$T,scaleSymlog:jm,scaleThreshold:Pm,scaleTime:HE,scaleUtc:KE,tickFormat:bm},Symbol.toStringTag,{value:"Module"}));var XE=Kr;function ZE(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(s===void 0?o===o&&!XE(o):r(o,s)))var s=o,c=i}return c}var Wm=ZE;function JE(e,t){return e>t}var QE=JE,ek=Wm,tk=QE,rk=en;function nk(e){return e&&e.length?ek(e,rk,tk):void 0}var ak=nk;const co=de(ak);function ik(e,t){return e<t}var ok=ik,sk=Wm,ck=ok,lk=en;function uk(e){return e&&e.length?sk(e,lk,ck):void 0}var fk=uk;const lo=de(fk);var dk=kc,pk=Rt,hk=Zh,mk=Be;function gk(e,t){var r=mk(e)?dk:hk;return r(e,pk(t))}var yk=gk,vk=Yh,bk=yk;function xk(e,t){return vk(bk(e,t),1)}var wk=xk;const _k=de(wk);var jk=Kc;function Sk(e,t){return jk(e,t)}var Ok=Sk;const uo=de(Ok);var nn=1e9,Ak={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},xl,ve=!0,Je="[DecimalError] ",er=Je+"Invalid argument: ",bl=Je+"Exponent out of range: ",an=Math.floor,Kt=Math.pow,Pk=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,We,$e=1e7,me=7,Um=9007199254740991,si=an(Um/me),Y={};Y.absoluteValue=Y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Y.comparedTo=Y.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Y.decimalPlaces=Y.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*me;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Y.dividedBy=Y.div=function(e){return wt(this,new this.constructor(e))};Y.dividedToIntegerBy=Y.idiv=function(e){var t=this,r=t.constructor;return ue(wt(t,new r(e),0,1),r.precision)};Y.equals=Y.eq=function(e){return!this.cmp(e)};Y.exponent=function(){return je(this)};Y.greaterThan=Y.gt=function(e){return this.cmp(e)>0};Y.greaterThanOrEqualTo=Y.gte=function(e){return this.cmp(e)>=0};Y.isInteger=Y.isint=function(){return this.e>this.d.length-2};Y.isNegative=Y.isneg=function(){return this.s<0};Y.isPositive=Y.ispos=function(){return this.s>0};Y.isZero=function(){return this.s===0};Y.lessThan=Y.lt=function(e){return this.cmp(e)<0};Y.lessThanOrEqualTo=Y.lte=function(e){return this.cmp(e)<1};Y.logarithm=Y.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(We))throw Error(Je+"NaN");if(r.s<1)throw Error(Je+(r.s?"NaN":"-Infinity"));return r.eq(We)?new n(0):(ve=!1,t=wt(Ln(r,i),Ln(e,i),i),ve=!0,ue(t,a))};Y.minus=Y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Km(t,e):Gm(t,(e.s=-e.s,e))};Y.modulo=Y.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Je+"NaN");return r.s?(ve=!1,t=wt(r,e,0,1).times(e),ve=!0,r.minus(t)):ue(new n(r),a)};Y.naturalExponential=Y.exp=function(){return Hm(this)};Y.naturalLogarithm=Y.ln=function(){return Ln(this)};Y.negated=Y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Y.plus=Y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Gm(t,e):Km(t,(e.s=-e.s,e))};Y.precision=Y.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(er+e);if(t=je(a)+1,n=a.d.length-1,r=n*me+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Y.squareRoot=Y.sqrt=function(){var e,t,r,n,a,i,o,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(Je+"NaN")}for(e=je(s),ve=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=lt(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=an((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(wt(s,i,o+2)).times(.5),lt(i.d).slice(0,o)===(t=lt(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(ue(i,r+1,0),i.times(i).eq(s)){n=i;break}}else if(t!="9999")break;o+=4}return ve=!0,ue(n,r)};Y.times=Y.mul=function(e){var t,r,n,a,i,o,s,c,l,f=this,d=f.constructor,p=f.d,m=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,c=p.length,l=m.length,c<l&&(i=p,p=m,m=i,o=c,c=l,l=o),i=[],o=c+l,n=o;n--;)i.push(0);for(n=l;--n>=0;){for(t=0,a=c+n;a>n;)s=i[a]+m[n]*p[a-n-1]+t,i[a--]=s%$e|0,t=s/$e|0;i[a]=(i[a]+t)%$e|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,ve?ue(e,d.precision):e};Y.toDecimalPlaces=Y.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(dt(e,0,nn),t===void 0?t=n.rounding:dt(t,0,8),ue(r,e+je(r)+1,t))};Y.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=nr(n,!0):(dt(e,0,nn),t===void 0?t=a.rounding:dt(t,0,8),n=ue(new a(n),e+1,t),r=nr(n,!0,e+1)),r};Y.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?nr(a):(dt(e,0,nn),t===void 0?t=i.rounding:dt(t,0,8),n=ue(new i(a),e+je(a)+1,t),r=nr(n.abs(),!1,e+je(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Y.toInteger=Y.toint=function(){var e=this,t=e.constructor;return ue(new t(e),je(e)+1,t.rounding)};Y.toNumber=function(){return+this};Y.toPower=Y.pow=function(e){var t,r,n,a,i,o,s=this,c=s.constructor,l=12,f=+(e=new c(e));if(!e.s)return new c(We);if(s=new c(s),!s.s){if(e.s<1)throw Error(Je+"Infinity");return s}if(s.eq(We))return s;if(n=c.precision,e.eq(We))return ue(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=s.s,o){if((r=f<0?-f:f)<=Um){for(a=new c(We),t=Math.ceil(n/me+4),ve=!1;r%2&&(a=a.times(s),Vf(a.d,t)),r=an(r/2),r!==0;)s=s.times(s),Vf(s.d,t);return ve=!0,e.s<0?new c(We).div(a):ue(a,n)}}else if(i<0)throw Error(Je+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,ve=!1,a=e.times(Ln(s,n+l)),ve=!0,a=Hm(a),a.s=i,a};Y.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=je(a),n=nr(a,r<=i.toExpNeg||r>=i.toExpPos)):(dt(e,1,nn),t===void 0?t=i.rounding:dt(t,0,8),a=ue(new i(a),e,t),r=je(a),n=nr(a,e<=r||r<=i.toExpNeg,e)),n};Y.toSignificantDigits=Y.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(dt(e,1,nn),t===void 0?t=n.rounding:dt(t,0,8)),ue(new n(r),e,t)};Y.toString=Y.valueOf=Y.val=Y.toJSON=Y[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=je(e),r=e.constructor;return nr(e,t<=r.toExpNeg||t>=r.toExpPos)};function Gm(e,t){var r,n,a,i,o,s,c,l,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),ve?ue(t,d):t;if(c=e.d,l=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,s=l.length):(n=l,a=o,s=c.length),o=Math.ceil(d/me),s=o>s?o+1:s+1,i>s&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(s=c.length,i=l.length,s-i<0&&(i=s,n=l,l=c,c=n),r=0;i;)r=(c[--i]=c[i]+l[i]+r)/$e|0,c[i]%=$e;for(r&&(c.unshift(r),++a),s=c.length;c[--s]==0;)c.pop();return t.d=c,t.e=a,ve?ue(t,d):t}function dt(e,t,r){if(e!==~~e||e<t||e>r)throw Error(er+e)}function lt(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=me-n.length,r&&(i+=Et(r)),i+=n;o=e[t],n=o+"",r=me-n.length,r&&(i+=Et(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var wt=function(){function e(n,a){var i,o=0,s=n.length;for(n=n.slice();s--;)i=n[s]*a+o,n[s]=i%$e|0,o=i/$e|0;return o&&n.unshift(o),n}function t(n,a,i,o){var s,c;if(i!=o)c=i>o?1:-1;else for(s=c=0;s<i;s++)if(n[s]!=a[s]){c=n[s]>a[s]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*$e+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var s,c,l,f,d,p,m,v,h,g,_,x,w,S,b,y,j,O,P=n.constructor,k=n.s==a.s?1:-1,T=n.d,A=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(Je+"Division by zero");for(c=n.e-a.e,j=A.length,b=T.length,m=new P(k),v=m.d=[],l=0;A[l]==(T[l]||0);)++l;if(A[l]>(T[l]||0)&&--c,i==null?x=i=P.precision:o?x=i+(je(n)-je(a))+1:x=i,x<0)return new P(0);if(x=x/me+2|0,l=0,j==1)for(f=0,A=A[0],x++;(l<b||f)&&x--;l++)w=f*$e+(T[l]||0),v[l]=w/A|0,f=w%A|0;else{for(f=$e/(A[0]+1)|0,f>1&&(A=e(A,f),T=e(T,f),j=A.length,b=T.length),S=j,h=T.slice(0,j),g=h.length;g<j;)h[g++]=0;O=A.slice(),O.unshift(0),y=A[0],A[1]>=$e/2&&++y;do f=0,s=t(A,h,j,g),s<0?(_=h[0],j!=g&&(_=_*$e+(h[1]||0)),f=_/y|0,f>1?(f>=$e&&(f=$e-1),d=e(A,f),p=d.length,g=h.length,s=t(d,h,p,g),s==1&&(f--,r(d,j<p?O:A,p))):(f==0&&(s=f=1),d=A.slice()),p=d.length,p<g&&d.unshift(0),r(h,d,g),s==-1&&(g=h.length,s=t(A,h,j,g),s<1&&(f++,r(h,j<g?O:A,g))),g=h.length):s===0&&(f++,h=[0]),v[l++]=f,s&&h[0]?h[g++]=T[S]||0:(h=[T[S]],g=1);while((S++<b||h[0]!==void 0)&&x--)}return v[0]||v.shift(),m.e=c,ue(m,o?i+je(m)+1:i)}}();function Hm(e,t){var r,n,a,i,o,s,c=0,l=0,f=e.constructor,d=f.precision;if(je(e)>16)throw Error(bl+je(e));if(!e.s)return new f(We);for(ve=!1,s=d,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),l+=5;for(n=Math.log(Kt(2,l))/Math.LN10*2+5|0,s+=n,r=a=i=new f(We),f.precision=s;;){if(a=ue(a.times(e),s),r=r.times(++c),o=i.plus(wt(a,r,s)),lt(o.d).slice(0,s)===lt(i.d).slice(0,s)){for(;l--;)i=ue(i.times(i),s);return f.precision=d,t==null?(ve=!0,ue(i,d)):i}i=o}}function je(e){for(var t=e.e*me,r=e.d[0];r>=10;r/=10)t++;return t}function Wo(e,t,r){if(t>e.LN10.sd())throw ve=!0,r&&(e.precision=r),Error(Je+"LN10 precision limit exceeded");return ue(new e(e.LN10),t)}function Et(e){for(var t="";e--;)t+="0";return t}function Ln(e,t){var r,n,a,i,o,s,c,l,f,d=1,p=10,m=e,v=m.d,h=m.constructor,g=h.precision;if(m.s<1)throw Error(Je+(m.s?"NaN":"-Infinity"));if(m.eq(We))return new h(0);if(t==null?(ve=!1,l=g):l=t,m.eq(10))return t==null&&(ve=!0),Wo(h,l);if(l+=p,h.precision=l,r=lt(v),n=r.charAt(0),i=je(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=lt(m.d),n=r.charAt(0),d++;i=je(m),n>1?(m=new h("0."+r),i++):m=new h(n+"."+r.slice(1))}else return c=Wo(h,l+2,g).times(i+""),m=Ln(new h(n+"."+r.slice(1)),l-p).plus(c),h.precision=g,t==null?(ve=!0,ue(m,g)):m;for(s=o=m=wt(m.minus(We),m.plus(We),l),f=ue(m.times(m),l),a=3;;){if(o=ue(o.times(f),l),c=s.plus(wt(o,new h(a),l)),lt(c.d).slice(0,l)===lt(s.d).slice(0,l))return s=s.times(2),i!==0&&(s=s.plus(Wo(h,l+2,g).times(i+""))),s=wt(s,new h(d),l),h.precision=g,t==null?(ve=!0,ue(s,g)):s;s=c,a+=2}}function Kf(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=an(r/me),e.d=[],n=(r+1)%me,r<0&&(n+=me),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=me;n<a;)e.d.push(+t.slice(n,n+=me));t=t.slice(n),n=me-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),ve&&(e.e>si||e.e<-si))throw Error(bl+r)}else e.s=0,e.e=0,e.d=[0];return e}function ue(e,t,r){var n,a,i,o,s,c,l,f,d=e.d;for(o=1,i=d[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=me,a=t,l=d[f=0];else{if(f=Math.ceil((n+1)/me),i=d.length,f>=i)return e;for(l=i=d[f],o=1;i>=10;i/=10)o++;n%=me,a=n-me+o}if(r!==void 0&&(i=Kt(10,o-a-1),s=l/i%10|0,c=t<0||d[f+1]!==void 0||l%i,c=r<4?(s||c)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||c||r==6&&(n>0?a>0?l/Kt(10,o-a):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return c?(i=je(e),d.length=1,t=t-i-1,d[0]=Kt(10,(me-t%me)%me),e.e=an(-t/me)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,i=1,f--):(d.length=f+1,i=Kt(10,me-n),d[f]=a>0?(l/Kt(10,o-a)%Kt(10,a)|0)*i:0),c)for(;;)if(f==0){(d[0]+=i)==$e&&(d[0]=1,++e.e);break}else{if(d[f]+=i,d[f]!=$e)break;d[f--]=0,i=1}for(n=d.length;d[--n]===0;)d.pop();if(ve&&(e.e>si||e.e<-si))throw Error(bl+je(e));return e}function Km(e,t){var r,n,a,i,o,s,c,l,f,d,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),ve?ue(t,m):t;if(c=e.d,d=t.d,n=t.e,l=e.e,c=c.slice(),o=l-n,o){for(f=o<0,f?(r=c,o=-o,s=d.length):(r=d,n=l,s=c.length),a=Math.max(Math.ceil(m/me),s)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,s=d.length,f=a<s,f&&(s=a),a=0;a<s;a++)if(c[a]!=d[a]){f=c[a]<d[a];break}o=0}for(f&&(r=c,c=d,d=r,t.s=-t.s),s=c.length,a=d.length-s;a>0;--a)c[s++]=0;for(a=d.length;a>o;){if(c[--a]<d[a]){for(i=a;i&&c[--i]===0;)c[i]=$e-1;--c[i],c[a]+=$e}c[a]-=d[a]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,ve?ue(t,m):t):new p(0)}function nr(e,t,r){var n,a=je(e),i=lt(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Et(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Et(-a-1)+i,r&&(n=r-o)>0&&(i+=Et(n))):a>=o?(i+=Et(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Et(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Et(n))),e.s<0?"-"+i:i}function Vf(e,t){if(e.length>t)return e.length=t,!0}function Vm(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(er+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return Kf(o,i.toString())}else if(typeof i!="string")throw Error(er+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Pk.test(i))Kf(o,i);else throw Error(er+i)}if(a.prototype=Y,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Vm,a.config=a.set=Nk,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Nk(e){if(!e||typeof e!="object")throw Error(Je+"Object expected");var t,r,n,a=["precision",1,nn,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(an(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(er+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(er+r+": "+n);return this}var xl=Vm(Ak);We=new xl(1);const le=xl;function $k(e){return Ck(e)||kk(e)||Ek(e)||Tk()}function Tk(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ek(e,t){if(e){if(typeof e=="string")return Is(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Is(e,t)}}function kk(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Ck(e){if(Array.isArray(e))return Is(e)}function Is(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Mk=function(t){return t},Ym={},Xm=function(t){return t===Ym},Yf=function(t){return function r(){return arguments.length===0||arguments.length===1&&Xm(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Ik=function e(t,r){return t===1?r:Yf(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(s){return s!==Ym}).length;return o>=t?r.apply(void 0,a):e(t-o,Yf(function(){for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];var f=a.map(function(d){return Xm(d)?c.shift():d});return r.apply(void 0,$k(f).concat(c))}))})},fo=function(t){return Ik(t.length,t)},Ds=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},Dk=fo(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Rk=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Mk;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(s,c){return c(s)},i.apply(void 0,arguments))}},Rs=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Zm=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(s,c){return s===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function Lk(e){var t;return e===0?t=1:t=Math.floor(new le(e).abs().log(10).toNumber())+1,t}function Bk(e,t,r){for(var n=new le(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var Fk=fo(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),zk=fo(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),qk=fo(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const po={rangeStep:Bk,getDigitCount:Lk,interpolateNumber:Fk,uninterpolateNumber:zk,uninterpolateTruncation:qk};function Ls(e){return Gk(e)||Uk(e)||Jm(e)||Wk()}function Wk(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uk(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Gk(e){if(Array.isArray(e))return Bs(e)}function Bn(e,t){return Vk(e)||Kk(e,t)||Jm(e,t)||Hk()}function Hk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jm(e,t){if(e){if(typeof e=="string")return Bs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bs(e,t)}}function Bs(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kk(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function Vk(e){if(Array.isArray(e))return e}function Qm(e){var t=Bn(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function eg(e,t,r){if(e.lte(0))return new le(0);var n=po.getDigitCount(e.toNumber()),a=new le(10).pow(n),i=e.div(a),o=n!==1?.05:.1,s=new le(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=s.mul(a);return t?c:new le(Math.ceil(c))}function Yk(e,t,r){var n=1,a=new le(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new le(10).pow(po.getDigitCount(e)-1),a=new le(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new le(Math.floor(e)))}else e===0?a=new le(Math.floor((t-1)/2)):r||(a=new le(Math.floor(e)));var o=Math.floor((t-1)/2),s=Rk(Dk(function(c){return a.add(new le(c-o).mul(n)).toNumber()}),Ds);return s(0,t)}function tg(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new le(0),tickMin:new le(0),tickMax:new le(0)};var i=eg(new le(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new le(0):(o=new le(e).add(t).div(2),o=o.sub(new le(o).mod(i)));var s=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new le(t).sub(o).div(i).toNumber()),l=s+c+1;return l>r?tg(e,t,r,n,a+1):(l<r&&(c=t>0?c+(r-l):c,s=t>0?s:s+(r-l)),{step:i,tickMin:o.sub(new le(s).mul(i)),tickMax:o.add(new le(c).mul(i))})}function Xk(e){var t=Bn(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),s=Qm([r,n]),c=Bn(s,2),l=c[0],f=c[1];if(l===-1/0||f===1/0){var d=f===1/0?[l].concat(Ls(Ds(0,a-1).map(function(){return 1/0}))):[].concat(Ls(Ds(0,a-1).map(function(){return-1/0})),[f]);return r>n?Rs(d):d}if(l===f)return Yk(l,a,i);var p=tg(l,f,o,i),m=p.step,v=p.tickMin,h=p.tickMax,g=po.rangeStep(v,h.add(new le(.1).mul(m)),m);return r>n?Rs(g):g}function Zk(e,t){var r=Bn(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Qm([n,a]),s=Bn(o,2),c=s[0],l=s[1];if(c===-1/0||l===1/0)return[n,a];if(c===l)return[c];var f=Math.max(t,2),d=eg(new le(l).sub(c).div(f-1),i,0),p=[].concat(Ls(po.rangeStep(new le(c),new le(l).sub(new le(.99).mul(d)),d)),[l]);return n>a?Rs(p):p}var Jk=Zm(Xk),Qk=Zm(Zk),eC="Invariant failed";function ar(e,t){throw new Error(eC)}var tC=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function kr(e){"@babel/helpers - typeof";return kr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kr(e)}function ci(){return ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ci.apply(this,arguments)}function rC(e,t){return oC(e)||iC(e,t)||aC(e,t)||nC()}function nC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aC(e,t){if(e){if(typeof e=="string")return Xf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xf(e,t)}}function Xf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iC(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(f){l=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}function oC(e){if(Array.isArray(e))return e}function sC(e,t){if(e==null)return{};var r=cC(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cC(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ag(n.key),n)}}function fC(e,t,r){return t&&uC(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dC(e,t,r){return t=li(t),pC(e,rg()?Reflect.construct(t,r||[],li(e).constructor):t.apply(e,r))}function pC(e,t){if(t&&(kr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hC(e)}function hC(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rg=function(){return!!e})()}function li(e){return li=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},li(e)}function mC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fs(e,t)}function Fs(e,t){return Fs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fs(e,t)}function ng(e,t,r){return t=ag(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ag(e){var t=gC(e,"string");return kr(t)=="symbol"?t:t+""}function gC(e,t){if(kr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ma=function(e){function t(){return lC(this,t),dC(this,t,arguments)}return mC(t,e),fC(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,s=n.dataKey,c=n.data,l=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,p=sC(n,tC),m=ne(p,!1);this.props.direction==="x"&&f.type!=="number"&&ar();var v=c.map(function(h){var g=l(h,s),_=g.x,x=g.y,w=g.value,S=g.errorVal;if(!S)return null;var b=[],y,j;if(Array.isArray(S)){var O=rC(S,2);y=O[0],j=O[1]}else y=j=S;if(i==="vertical"){var P=f.scale,k=x+a,T=k+o,A=k-o,C=P(w-y),R=P(w+j);b.push({x1:R,y1:T,x2:R,y2:A}),b.push({x1:C,y1:k,x2:R,y2:k}),b.push({x1:C,y1:T,x2:C,y2:A})}else if(i==="horizontal"){var M=d.scale,L=_+a,z=L-o,q=L+o,U=M(w-y),V=M(w+j);b.push({x1:z,y1:V,x2:q,y2:V}),b.push({x1:L,y1:U,x2:L,y2:V}),b.push({x1:z,y1:U,x2:q,y2:U})}return $.createElement(we,ci({className:"recharts-errorBar",key:"bar-".concat(b.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},m),b.map(function(X){return $.createElement("line",ci({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return $.createElement(we,{className:"recharts-errorBars"},v)}}])}($.Component);ng(ma,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});ng(ma,"displayName","ErrorBar");function Fn(e){"@babel/helpers - typeof";return Fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fn(e)}function Zf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zf(Object(r),!0).forEach(function(n){yC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zf(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yC(e,t,r){return t=vC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vC(e){var t=bC(e,"string");return Fn(t)=="symbol"?t:t+""}function bC(e,t){if(Fn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ig=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=qe(r,Jt);if(!o)return null;var s=Jt.defaultProps,c=s!==void 0?Wt(Wt({},s),o.props):{},l;return o.props&&o.props.payload?l=o.props&&o.props.payload:i==="children"?l=(n||[]).reduce(function(f,d){var p=d.item,m=d.props,v=m.sectors||m.data||[];return f.concat(v.map(function(h){return{type:o.props.iconType||p.props.legendType,value:h.name,color:h.fill,payload:h}}))},[]):l=(n||[]).map(function(f){var d=f.item,p=d.type.defaultProps,m=p!==void 0?Wt(Wt({},p),d.props):{},v=m.dataKey,h=m.name,g=m.legendType,_=m.hide;return{inactive:_,dataKey:v,type:c.iconType||g||"square",color:wl(d),value:h||v,payload:m}}),Wt(Wt(Wt({},c),Jt.getWithHeight(o,a)),{},{payload:l,item:o})};function zn(e){"@babel/helpers - typeof";return zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zn(e)}function Jf(e){return jC(e)||_C(e)||wC(e)||xC()}function xC(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wC(e,t){if(e){if(typeof e=="string")return zs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zs(e,t)}}function _C(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jC(e){if(Array.isArray(e))return zs(e)}function zs(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qf(Object(r),!0).forEach(function(n){jr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qf(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jr(e,t,r){return t=SC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SC(e){var t=OC(e,"string");return zn(t)=="symbol"?t:t+""}function OC(e,t){if(zn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ue(e,t,r){return re(e)||re(t)?r:Ae(t)?Xe(e,t,r):te(t)?t(e):r}function jn(e,t,r,n){var a=_k(e,function(s){return Ue(s,t)});if(r==="number"){var i=a.filter(function(s){return G(s)||parseFloat(s)});return i.length?[lo(i),co(i)]:[1/0,-1/0]}var o=n?a.filter(function(s){return!re(s)}):a;return o.map(function(s){return Ae(s)||s instanceof Date?s:""})}var AC=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,l=0;l<s;l++){var f=l>0?a[l-1].coordinate:a[s-1].coordinate,d=a[l].coordinate,p=l>=s-1?a[0].coordinate:a[l+1].coordinate,m=void 0;if(st(d-f)!==st(p-d)){var v=[];if(st(p-d)===st(c[1]-c[0])){m=p;var h=d+c[1]-c[0];v[0]=Math.min(h,(h+f)/2),v[1]=Math.max(h,(h+f)/2)}else{m=f;var g=p+c[1]-c[0];v[0]=Math.min(d,(g+d)/2),v[1]=Math.max(d,(g+d)/2)}var _=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(t>_[0]&&t<=_[1]||t>=v[0]&&t<=v[1]){o=a[l].index;break}}else{var x=Math.min(f,p),w=Math.max(f,p);if(t>(x+d)/2&&t<=(w+d)/2){o=a[l].index;break}}}else for(var S=0;S<s;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){o=n[S].index;break}return o},wl=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?xe(xe({},t.type.defaultProps),t.props):t.props,o=i.stroke,s=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:s;break;default:c=s;break}return c},PC=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},s=Object.keys(i),c=0,l=s.length;c<l;c++)for(var f=i[s[c]].stackGroups,d=Object.keys(f),p=0,m=d.length;p<m;p++){var v=f[d[p]],h=v.items,g=v.cateAxisId,_=h.filter(function(j){return bt(j.type).indexOf("Bar")>=0});if(_&&_.length){var x=_[0].type.defaultProps,w=x!==void 0?xe(xe({},x),_[0].props):_[0].props,S=w.barSize,b=w[g];o[b]||(o[b]=[]);var y=re(S)?r:S;o[b].push({item:_[0],stackList:_.slice(1),barSize:re(y)?void 0:rr(y,n,0)})}}return o},NC=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,s=t.maxBarSize,c=o.length;if(c<1)return null;var l=rr(r,a,0,!0),f,d=[];if(o[0].barSize===+o[0].barSize){var p=!1,m=a/c,v=o.reduce(function(S,b){return S+b.barSize||0},0);v+=(c-1)*l,v>=a&&(v-=(c-1)*l,l=0),v>=a&&m>0&&(p=!0,m*=.9,v=c*m);var h=(a-v)/2>>0,g={offset:h-l,size:0};f=o.reduce(function(S,b){var y={item:b.item,position:{offset:g.offset+g.size+l,size:p?m:b.barSize}},j=[].concat(Jf(S),[y]);return g=j[j.length-1].position,b.stackList&&b.stackList.length&&b.stackList.forEach(function(O){j.push({item:O,position:g})}),j},d)}else{var _=rr(n,a,0,!0);a-2*_-(c-1)*l<=0&&(l=0);var x=(a-2*_-(c-1)*l)/c;x>1&&(x>>=0);var w=s===+s?Math.min(x,s):x;f=o.reduce(function(S,b,y){var j=[].concat(Jf(S),[{item:b.item,position:{offset:_+(x+l)*y+(x-w)/2,size:w}}]);return b.stackList&&b.stackList.length&&b.stackList.forEach(function(O){j.push({item:O,position:j[j.length-1].position})}),j},d)}return f},$C=function(t,r,n,a){var i=n.children,o=n.width,s=n.margin,c=o-(s.left||0)-(s.right||0),l=ig({children:i,legendWidth:c});if(l){var f=a||{},d=f.width,p=f.height,m=l.align,v=l.verticalAlign,h=l.layout;if((h==="vertical"||h==="horizontal"&&v==="middle")&&m!=="center"&&G(t[m]))return xe(xe({},t),{},jr({},m,t[m]+(d||0)));if((h==="horizontal"||h==="vertical"&&m==="center")&&v!=="middle"&&G(t[v]))return xe(xe({},t),{},jr({},v,t[v]+(p||0)))}return t},TC=function(t,r,n){return re(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},og=function(t,r,n,a,i){var o=r.props.children,s=Ze(o,ma).filter(function(l){return TC(a,i,l.props.direction)});if(s&&s.length){var c=s.map(function(l){return l.props.dataKey});return t.reduce(function(l,f){var d=Ue(f,n);if(re(d))return l;var p=Array.isArray(d)?[lo(d),co(d)]:[d,d],m=c.reduce(function(v,h){var g=Ue(f,h,0),_=p[0]-Math.abs(Array.isArray(g)?g[0]:g),x=p[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(_,v[0]),Math.max(x,v[1])]},[1/0,-1/0]);return[Math.min(m[0],l[0]),Math.max(m[1],l[1])]},[1/0,-1/0])}return null},EC=function(t,r,n,a,i){var o=r.map(function(s){return og(t,s,n,i,a)}).filter(function(s){return!re(s)});return o&&o.length?o.reduce(function(s,c){return[Math.min(s[0],c[0]),Math.max(s[1],c[1])]},[1/0,-1/0]):null},sg=function(t,r,n,a,i){var o=r.map(function(c){var l=c.props.dataKey;return n==="number"&&l&&og(t,c,l,a)||jn(t,l,n,i)});if(n==="number")return o.reduce(function(c,l){return[Math.min(c[0],l[0]),Math.max(c[1],l[1])]},[1/0,-1/0]);var s={};return o.reduce(function(c,l){for(var f=0,d=l.length;f<d;f++)s[l[f]]||(s[l[f]]=!0,c.push(l[f]));return c},[])},cg=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},lg=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,s=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||s.push(r),o||s.push(n),s},yt=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,s=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,l=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(l=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?st(s[0]-s[1])*2*l:l,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var p=i?i.indexOf(d):d;return{coordinate:a(p)+l,value:d,offset:l}});return f.filter(function(d){return!ca(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,p){return{coordinate:a(d)+l,value:d,index:p,offset:l}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(d){return{coordinate:a(d)+l,value:d,offset:l}}):a.domain().map(function(d,p){return{coordinate:a(d)+l,value:i?i[d]:d,index:p,offset:l}})},Uo=new WeakMap,Aa=function(t,r){if(typeof r!="function")return t;Uo.has(t)||Uo.set(t,new WeakMap);var n=Uo.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},kC=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,s=t.axisType;if(a==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Cn(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:ni(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:_n(),realScaleType:"point"}:i==="category"?{scale:Cn(),realScaleType:"band"}:{scale:ni(),realScaleType:"linear"};if(tr(a)){var c="scale".concat(Yi(a));return{scale:(Hf[c]||_n)(),realScaleType:Hf[c]?c:"point"}}return te(a)?{scale:a}:{scale:_n(),realScaleType:"point"}},ed=1e-4,CC=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-ed,o=Math.max(a[0],a[1])+ed,s=t(r[0]),c=t(r[n-1]);(s<i||s>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},MC=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},IC=function(t,r){if(!r||r.length!==2||!G(r[0])||!G(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!G(t[0])||t[0]<n)&&(i[0]=n),(!G(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},DC=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,s=0;s<r;++s){var c=ca(t[s][n][1])?t[s][n][0]:t[s][n][1];c>=0?(t[s][n][0]=i,t[s][n][1]=i+c,i=t[s][n][1]):(t[s][n][0]=o,t[s][n][1]=o+c,o=t[s][n][1])}},RC=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var s=ca(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=i,t[o][n][1]=i+s,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},LC={sign:DC,expand:Qw,none:Sr,silhouette:e1,wiggle:t1,positive:RC},BC=function(t,r,n){var a=r.map(function(s){return s.props.dataKey}),i=LC[n],o=Jw().keys(a).value(function(s,c){return+Ue(s,c,0)}).order(fs).offset(i);return o(t)},FC=function(t,r,n,a,i,o){if(!t)return null;var s=o?r.reverse():r,c={},l=s.reduce(function(d,p){var m,v=(m=p.type)!==null&&m!==void 0&&m.defaultProps?xe(xe({},p.type.defaultProps),p.props):p.props,h=v.stackId,g=v.hide;if(g)return d;var _=v[n],x=d[_]||{hasStack:!1,stackGroups:{}};if(Ae(h)){var w=x.stackGroups[h]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(p),x.hasStack=!0,x.stackGroups[h]=w}else x.stackGroups[la("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[p]};return xe(xe({},d),{},jr({},_,x))},c),f={};return Object.keys(l).reduce(function(d,p){var m=l[p];if(m.hasStack){var v={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(h,g){var _=m.stackGroups[g];return xe(xe({},h),{},jr({},g,{numericAxisId:n,cateAxisId:a,items:_.items,stackedData:BC(t,_.items,i)}))},v)}return xe(xe({},d),{},jr({},p,m))},f)},zC=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,s=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var l=t.domain();if(!l.length)return null;var f=Jk(l,i,s);return t.domain([lo(f),co(f)]),{niceTicks:f}}if(i&&a==="number"){var d=t.domain(),p=Qk(d,i,s);return{niceTicks:p}}return null};function td(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!re(a[t.dataKey])){var s=Ma(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Ue(a,re(o)?t.dataKey:o);return re(c)?null:t.scale(c)}var rd=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+a:null;var c=Ue(o,r.dataKey,r.domain[s]);return re(c)?null:r.scale(c)-i/2+a},qC=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},WC=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?xe(xe({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Ae(i)){var o=r[i];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},UC=function(t){return t.reduce(function(r,n){return[lo(n.concat([r[0]]).filter(G)),co(n.concat([r[1]]).filter(G))]},[1/0,-1/0])},ug=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],s=o.stackedData,c=s.reduce(function(l,f){var d=UC(f.slice(r,n+1));return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},nd=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ad=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qs=function(t,r,n){if(te(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(G(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(nd.test(t[0])){var i=+nd.exec(t[0])[1];a[0]=r[0]-i}else te(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(G(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(ad.test(t[1])){var o=+ad.exec(t[1])[1];a[1]=r[1]+o}else te(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},ui=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=Yc(r,function(d){return d.coordinate}),o=1/0,s=1,c=i.length;s<c;s++){var l=i[s],f=i[s-1];o=Math.min((l.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},id=function(t,r,n){return!t||!t.length||uo(t,Xe(n,"type.defaultProps.domain"))?r:t},fg=function(t,r){var n=t.type.defaultProps?xe(xe({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,s=n.formatter,c=n.tooltipType,l=n.chartType,f=n.hide;return xe(xe({},ne(t,!1)),{},{dataKey:a,unit:o,formatter:s,name:i||a,color:wl(t),value:Ue(r,a),type:c,payload:r,chartType:l,hide:f})};function qn(e){"@babel/helpers - typeof";return qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qn(e)}function od(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?od(Object(r),!0).forEach(function(n){GC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):od(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GC(e,t,r){return t=HC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HC(e){var t=KC(e,"string");return qn(t)=="symbol"?t:t+""}function KC(e,t){if(qn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fi=Math.PI/180,VC=function(t){return t*180/Math.PI},ke=function(t,r,n,a){return{x:t+Math.cos(-fi*a)*n,y:r+Math.sin(-fi*a)*n}},YC=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},XC=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,s=YC({x:n,y:a},{x:i,y:o});if(s<=0)return{radius:s};var c=(n-i)/s,l=Math.acos(c);return a>o&&(l=2*Math.PI-l),{radius:s,angle:VC(l),angleInRadian:l}},ZC=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},JC=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),s=Math.min(i,o);return t+s*360},cd=function(t,r){var n=t.x,a=t.y,i=XC({x:n,y:a},r),o=i.radius,s=i.angle,c=r.innerRadius,l=r.outerRadius;if(o<c||o>l)return!1;if(o===0)return!0;var f=ZC(r),d=f.startAngle,p=f.endAngle,m=s,v;if(d<=p){for(;m>p;)m-=360;for(;m<d;)m+=360;v=m>=d&&m<=p}else{for(;m>d;)m-=360;for(;m<p;)m+=360;v=m>=p&&m<=d}return v?sd(sd({},r),{},{radius:o,angle:JC(m,r)}):null};function Wn(e){"@babel/helpers - typeof";return Wn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wn(e)}var QC=["offset"];function eM(e){return aM(e)||nM(e)||rM(e)||tM()}function tM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rM(e,t){if(e){if(typeof e=="string")return Ws(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ws(e,t)}}function nM(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aM(e){if(Array.isArray(e))return Ws(e)}function Ws(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iM(e,t){if(e==null)return{};var r=oM(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oM(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ld(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ld(Object(r),!0).forEach(function(n){sM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ld(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sM(e,t,r){return t=cM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cM(e){var t=lM(e,"string");return Wn(t)=="symbol"?t:t+""}function lM(e,t){if(Wn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Un(){return Un=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Un.apply(this,arguments)}var uM=function(t){var r=t.value,n=t.formatter,a=re(t.children)?r:t.children;return te(n)?n(a):a},fM=function(t,r){var n=st(r-t),a=Math.min(Math.abs(r-t),360);return n*a},dM=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,s=t.className,c=i,l=c.cx,f=c.cy,d=c.innerRadius,p=c.outerRadius,m=c.startAngle,v=c.endAngle,h=c.clockWise,g=(d+p)/2,_=fM(m,v),x=_>=0?1:-1,w,S;a==="insideStart"?(w=m+x*o,S=h):a==="insideEnd"?(w=v-x*o,S=!h):a==="end"&&(w=v+x*o,S=h),S=_<=0?S:!S;var b=ke(l,f,g,w),y=ke(l,f,g,w+(S?1:-1)*359),j="M".concat(b.x,",").concat(b.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(S?0:1,`,
    `).concat(y.x,",").concat(y.y),O=re(t.id)?la("recharts-radial-line-"):t.id;return $.createElement("text",Un({},n,{dominantBaseline:"central",className:ae("recharts-radial-bar-label",s)}),$.createElement("defs",null,$.createElement("path",{id:O,d:j})),$.createElement("textPath",{xlinkHref:"#".concat(O)},r))},pM=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,s=i.cy,c=i.innerRadius,l=i.outerRadius,f=i.startAngle,d=i.endAngle,p=(f+d)/2;if(a==="outside"){var m=ke(o,s,l+n,p),v=m.x,h=m.y;return{x:v,y:h,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var g=(c+l)/2,_=ke(o,s,g,p),x=_.x,w=_.y;return{x,y:w,textAnchor:"middle",verticalAnchor:"middle"}},hM=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,s=o.x,c=o.y,l=o.width,f=o.height,d=f>=0?1:-1,p=d*a,m=d>0?"end":"start",v=d>0?"start":"end",h=l>=0?1:-1,g=h*a,_=h>0?"end":"start",x=h>0?"start":"end";if(i==="top"){var w={x:s+l/2,y:c-d*a,textAnchor:"middle",verticalAnchor:m};return Oe(Oe({},w),n?{height:Math.max(c-n.y,0),width:l}:{})}if(i==="bottom"){var S={x:s+l/2,y:c+f+p,textAnchor:"middle",verticalAnchor:v};return Oe(Oe({},S),n?{height:Math.max(n.y+n.height-(c+f),0),width:l}:{})}if(i==="left"){var b={x:s-g,y:c+f/2,textAnchor:_,verticalAnchor:"middle"};return Oe(Oe({},b),n?{width:Math.max(b.x-n.x,0),height:f}:{})}if(i==="right"){var y={x:s+l+g,y:c+f/2,textAnchor:x,verticalAnchor:"middle"};return Oe(Oe({},y),n?{width:Math.max(n.x+n.width-y.x,0),height:f}:{})}var j=n?{width:l,height:f}:{};return i==="insideLeft"?Oe({x:s+g,y:c+f/2,textAnchor:x,verticalAnchor:"middle"},j):i==="insideRight"?Oe({x:s+l-g,y:c+f/2,textAnchor:_,verticalAnchor:"middle"},j):i==="insideTop"?Oe({x:s+l/2,y:c+p,textAnchor:"middle",verticalAnchor:v},j):i==="insideBottom"?Oe({x:s+l/2,y:c+f-p,textAnchor:"middle",verticalAnchor:m},j):i==="insideTopLeft"?Oe({x:s+g,y:c+p,textAnchor:x,verticalAnchor:v},j):i==="insideTopRight"?Oe({x:s+l-g,y:c+p,textAnchor:_,verticalAnchor:v},j):i==="insideBottomLeft"?Oe({x:s+g,y:c+f-p,textAnchor:x,verticalAnchor:m},j):i==="insideBottomRight"?Oe({x:s+l-g,y:c+f-p,textAnchor:_,verticalAnchor:m},j):Vr(i)&&(G(i.x)||Vt(i.x))&&(G(i.y)||Vt(i.y))?Oe({x:s+rr(i.x,l),y:c+rr(i.y,f),textAnchor:"end",verticalAnchor:"end"},j):Oe({x:s+l/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},j)},mM=function(t){return"cx"in t&&G(t.cx)};function Me(e){var t=e.offset,r=t===void 0?5:t,n=iM(e,QC),a=Oe({offset:r},n),i=a.viewBox,o=a.position,s=a.value,c=a.children,l=a.content,f=a.className,d=f===void 0?"":f,p=a.textBreakAll;if(!i||re(s)&&re(c)&&!E.isValidElement(l)&&!te(l))return null;if(E.isValidElement(l))return E.cloneElement(l,a);var m;if(te(l)){if(m=E.createElement(l,a),E.isValidElement(m))return m}else m=uM(a);var v=mM(i),h=ne(a,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return dM(a,m,h);var g=v?pM(a):hM(a);return $.createElement(Xa,Un({className:ae("recharts-label",d)},h,g,{breakAll:p}),m)}Me.displayName="Label";var dg=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,s=t.r,c=t.radius,l=t.innerRadius,f=t.outerRadius,d=t.x,p=t.y,m=t.top,v=t.left,h=t.width,g=t.height,_=t.clockWise,x=t.labelViewBox;if(x)return x;if(G(h)&&G(g)){if(G(d)&&G(p))return{x:d,y:p,width:h,height:g};if(G(m)&&G(v))return{x:m,y:v,width:h,height:g}}return G(d)&&G(p)?{x:d,y:p,width:0,height:0}:G(r)&&G(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:l||0,outerRadius:f||c||s||0,clockWise:_}:t.viewBox?t.viewBox:{}},gM=function(t,r){return t?t===!0?$.createElement(Me,{key:"label-implicit",viewBox:r}):Ae(t)?$.createElement(Me,{key:"label-implicit",viewBox:r,value:t}):E.isValidElement(t)?t.type===Me?E.cloneElement(t,{key:"label-implicit",viewBox:r}):$.createElement(Me,{key:"label-implicit",content:t,viewBox:r}):te(t)?$.createElement(Me,{key:"label-implicit",content:t,viewBox:r}):Vr(t)?$.createElement(Me,Un({viewBox:r},t,{key:"label-implicit"})):null:null},yM=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=dg(t),o=Ze(a,Me).map(function(c,l){return E.cloneElement(c,{viewBox:r||i,key:"label-".concat(l)})});if(!n)return o;var s=gM(t.label,r||i);return[s].concat(eM(o))};Me.parseViewBox=dg;Me.renderCallByParent=yM;function vM(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var bM=vM;const xM=de(bM);function Gn(e){"@babel/helpers - typeof";return Gn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gn(e)}var wM=["valueAccessor"],_M=["data","dataKey","clockWise","id","textBreakAll"];function jM(e){return PM(e)||AM(e)||OM(e)||SM()}function SM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OM(e,t){if(e){if(typeof e=="string")return Us(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Us(e,t)}}function AM(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PM(e){if(Array.isArray(e))return Us(e)}function Us(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function di(){return di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},di.apply(this,arguments)}function ud(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ud(Object(r),!0).forEach(function(n){NM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ud(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NM(e,t,r){return t=$M(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $M(e){var t=TM(e,"string");return Gn(t)=="symbol"?t:t+""}function TM(e,t){if(Gn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dd(e,t){if(e==null)return{};var r=EM(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EM(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var kM=function(t){return Array.isArray(t.value)?xM(t.value):t.value};function It(e){var t=e.valueAccessor,r=t===void 0?kM:t,n=dd(e,wM),a=n.data,i=n.dataKey,o=n.clockWise,s=n.id,c=n.textBreakAll,l=dd(n,_M);return!a||!a.length?null:$.createElement(we,{className:"recharts-label-list"},a.map(function(f,d){var p=re(i)?r(f,d):Ue(f&&f.payload,i),m=re(s)?{}:{id:"".concat(s,"-").concat(d)};return $.createElement(Me,di({},ne(f,!0),l,m,{parentViewBox:f.parentViewBox,value:p,textBreakAll:c,viewBox:Me.parseViewBox(re(o)?f:fd(fd({},f),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}It.displayName="LabelList";function CM(e,t){return e?e===!0?$.createElement(It,{key:"labelList-implicit",data:t}):$.isValidElement(e)||te(e)?$.createElement(It,{key:"labelList-implicit",data:t,content:e}):Vr(e)?$.createElement(It,di({data:t},e,{key:"labelList-implicit"})):null:null}function MM(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Ze(n,It).map(function(o,s){return E.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!r)return a;var i=CM(e.label,t);return[i].concat(jM(a))}It.renderCallByParent=MM;function Hn(e){"@babel/helpers - typeof";return Hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hn(e)}function Gs(){return Gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gs.apply(this,arguments)}function pd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pd(Object(r),!0).forEach(function(n){IM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IM(e,t,r){return t=DM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DM(e){var t=RM(e,"string");return Hn(t)=="symbol"?t:t+""}function RM(e,t){if(Hn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LM=function(t,r){var n=st(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Pa=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,s=t.isExternal,c=t.cornerRadius,l=t.cornerIsExternal,f=c*(s?1:-1)+a,d=Math.asin(c/f)/fi,p=l?i:i+o*d,m=ke(r,n,f,p),v=ke(r,n,a,p),h=l?i-o*d:i,g=ke(r,n,f*Math.cos(d*fi),h);return{center:m,circleTangency:v,lineTangency:g,theta:d}},pg=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,s=t.endAngle,c=LM(o,s),l=o+c,f=ke(r,n,i,o),d=ke(r,n,i,l),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var m=ke(r,n,a,o),v=ke(r,n,a,l);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=l),`,
            `).concat(m.x,",").concat(m.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},BM=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,c=t.cornerIsExternal,l=t.startAngle,f=t.endAngle,d=st(f-l),p=Pa({cx:r,cy:n,radius:i,angle:l,sign:d,cornerRadius:o,cornerIsExternal:c}),m=p.circleTangency,v=p.lineTangency,h=p.theta,g=Pa({cx:r,cy:n,radius:i,angle:f,sign:-d,cornerRadius:o,cornerIsExternal:c}),_=g.circleTangency,x=g.lineTangency,w=g.theta,S=c?Math.abs(l-f):Math.abs(l-f)-h-w;if(S<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):pg({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:l,endAngle:f});var b="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(a>0){var y=Pa({cx:r,cy:n,radius:a,angle:l,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),j=y.circleTangency,O=y.lineTangency,P=y.theta,k=Pa({cx:r,cy:n,radius:a,angle:f,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),T=k.circleTangency,A=k.lineTangency,C=k.theta,R=c?Math.abs(l-f):Math.abs(l-f)-P-C;if(R<0&&o===0)return"".concat(b,"L").concat(r,",").concat(n,"Z");b+="L".concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(R>180),",").concat(+(d>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,"Z")}else b+="L".concat(r,",").concat(n,"Z");return b},FM={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},hg=function(t){var r=hd(hd({},FM),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,c=r.forceCornerRadius,l=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,p=r.className;if(o<i||f===d)return null;var m=ae("recharts-sector",p),v=o-i,h=rr(s,v,0,!0),g;return h>0&&Math.abs(f-d)<360?g=BM({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(h,v/2),forceCornerRadius:c,cornerIsExternal:l,startAngle:f,endAngle:d}):g=pg({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:f,endAngle:d}),$.createElement("path",Gs({},ne(r,!0),{className:m,d:g,role:"img"}))};function Kn(e){"@babel/helpers - typeof";return Kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kn(e)}function Hs(){return Hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hs.apply(this,arguments)}function md(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?md(Object(r),!0).forEach(function(n){zM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):md(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zM(e,t,r){return t=qM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qM(e){var t=WM(e,"string");return Kn(t)=="symbol"?t:t+""}function WM(e,t){if(Kn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yd={curveBasisClosed:zw,curveBasisOpen:qw,curveBasis:Fw,curveBumpX:Aw,curveBumpY:Pw,curveLinearClosed:Ww,curveLinear:Zi,curveMonotoneX:Uw,curveMonotoneY:Gw,curveNatural:Hw,curveStep:Kw,curveStepAfter:Yw,curveStepBefore:Vw},Na=function(t){return t.x===+t.x&&t.y===+t.y},hn=function(t){return t.x},mn=function(t){return t.y},UM=function(t,r){if(te(t))return t;var n="curve".concat(Yi(t));return(n==="curveMonotone"||n==="curveBump")&&r?yd["".concat(n).concat(r==="vertical"?"Y":"X")]:yd[n]||Zi},GM=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,s=t.layout,c=t.connectNulls,l=c===void 0?!1:c,f=UM(n,s),d=l?i.filter(function(h){return Na(h)}):i,p;if(Array.isArray(o)){var m=l?o.filter(function(h){return Na(h)}):o,v=d.map(function(h,g){return gd(gd({},h),{},{base:m[g]})});return s==="vertical"?p=va().y(mn).x1(hn).x0(function(h){return h.base.x}):p=va().x(hn).y1(mn).y0(function(h){return h.base.y}),p.defined(Na).curve(f),p(v)}return s==="vertical"&&G(o)?p=va().y(mn).x1(hn).x0(o):G(o)?p=va().x(hn).y1(mn).y0(o):p=hh().x(hn).y(mn),p.defined(Na).curve(f),p(d)},Ks=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?GM(t):a;return E.createElement("path",Hs({},ne(t,!1),Ia(t),{className:ae("recharts-curve",r),d:o,ref:i}))},mg={exports:{}},HM="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",KM=HM,VM=KM;function gg(){}function yg(){}yg.resetWarningCache=gg;var YM=function(){function e(n,a,i,o,s,c){if(c!==VM){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:yg,resetWarningCache:gg};return r.PropTypes=r,r};mg.exports=YM();var XM=mg.exports;const oe=de(XM);var ZM=Object.getOwnPropertyNames,JM=Object.getOwnPropertySymbols,QM=Object.prototype.hasOwnProperty;function vd(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function $a(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),s=i.get(n);if(o&&s)return o===n&&s===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function eI(e){return e!=null?e[Symbol.toStringTag]:void 0}function bd(e){return ZM(e).concat(JM(e))}var tI=Object.hasOwn||function(e,t){return QM.call(e,t)};function fr(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var rI="__v",nI="__o",aI="_owner",xd=Object.getOwnPropertyDescriptor,wd=Object.keys;function iI(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function oI(e,t){return fr(e.getTime(),t.getTime())}function sI(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function cI(e,t){return e===t}function _d(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,s,c=0;(o=i.next())&&!o.done;){for(var l=t.entries(),f=!1,d=0;(s=l.next())&&!s.done;){if(a[d]){d++;continue}var p=o.value,m=s.value;if(r.equals(p[0],m[0],c,d,e,t,r)&&r.equals(p[1],m[1],p[0],m[0],e,t,r)){f=a[d]=!0;break}d++}if(!f)return!1;c++}return!0}var lI=fr;function uI(e,t,r){var n=wd(e),a=n.length;if(wd(t).length!==a)return!1;for(;a-- >0;)if(!vg(e,t,r,n[a]))return!1;return!0}function gn(e,t,r){var n=bd(e),a=n.length;if(bd(t).length!==a)return!1;for(var i,o,s;a-- >0;)if(i=n[a],!vg(e,t,r,i)||(o=xd(e,i),s=xd(t,i),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function fI(e,t){return fr(e.valueOf(),t.valueOf())}function dI(e,t){return e.source===t.source&&e.flags===t.flags}function jd(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,s;(o=i.next())&&!o.done;){for(var c=t.values(),l=!1,f=0;(s=c.next())&&!s.done;){if(!a[f]&&r.equals(o.value,s.value,o.value,s.value,e,t,r)){l=a[f]=!0;break}f++}if(!l)return!1}return!0}function pI(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function hI(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function vg(e,t,r,n){return(n===aI||n===nI||n===rI)&&(e.$$typeof||t.$$typeof)?!0:tI(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var mI="[object Arguments]",gI="[object Boolean]",yI="[object Date]",vI="[object Error]",bI="[object Map]",xI="[object Number]",wI="[object Object]",_I="[object RegExp]",jI="[object Set]",SI="[object String]",OI="[object URL]",AI=Array.isArray,Sd=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Od=Object.assign,PI=Object.prototype.toString.call.bind(Object.prototype.toString);function NI(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,l=e.areRegExpsEqual,f=e.areSetsEqual,d=e.areTypedArraysEqual,p=e.areUrlsEqual,m=e.unknownTagComparators;return function(h,g,_){if(h===g)return!0;if(h==null||g==null)return!1;var x=typeof h;if(x!==typeof g)return!1;if(x!=="object")return x==="number"?o(h,g,_):x==="function"?a(h,g,_):!1;var w=h.constructor;if(w!==g.constructor)return!1;if(w===Object)return s(h,g,_);if(AI(h))return t(h,g,_);if(Sd!=null&&Sd(h))return d(h,g,_);if(w===Date)return r(h,g,_);if(w===RegExp)return l(h,g,_);if(w===Map)return i(h,g,_);if(w===Set)return f(h,g,_);var S=PI(h);if(S===yI)return r(h,g,_);if(S===_I)return l(h,g,_);if(S===bI)return i(h,g,_);if(S===jI)return f(h,g,_);if(S===wI)return typeof h.then!="function"&&typeof g.then!="function"&&s(h,g,_);if(S===OI)return p(h,g,_);if(S===vI)return n(h,g,_);if(S===mI)return s(h,g,_);if(S===gI||S===xI||S===SI)return c(h,g,_);if(m){var b=m[S];if(!b){var y=eI(h);y&&(b=m[y])}if(b)return b(h,g,_)}return!1}}function $I(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?gn:iI,areDatesEqual:oI,areErrorsEqual:sI,areFunctionsEqual:cI,areMapsEqual:n?vd(_d,gn):_d,areNumbersEqual:lI,areObjectsEqual:n?gn:uI,arePrimitiveWrappersEqual:fI,areRegExpsEqual:dI,areSetsEqual:n?vd(jd,gn):jd,areTypedArraysEqual:n?gn:pI,areUrlsEqual:hI,unknownTagComparators:void 0};if(r&&(a=Od({},a,r(a))),t){var i=$a(a.areArraysEqual),o=$a(a.areMapsEqual),s=$a(a.areObjectsEqual),c=$a(a.areSetsEqual);a=Od({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:c})}return a}function TI(e){return function(t,r,n,a,i,o,s){return e(t,r,s)}}function EI(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,l){var f=n(),d=f.cache,p=d===void 0?t?new WeakMap:void 0:d,m=f.meta;return r(c,l,{cache:p,equals:a,meta:m,strict:i})};if(t)return function(c,l){return r(c,l,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,l){return r(c,l,o)}}var kI=Ft();Ft({strict:!0});Ft({circular:!0});Ft({circular:!0,strict:!0});Ft({createInternalComparator:function(){return fr}});Ft({strict:!0,createInternalComparator:function(){return fr}});Ft({circular:!0,createInternalComparator:function(){return fr}});Ft({circular:!0,createInternalComparator:function(){return fr},strict:!0});function Ft(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,s=$I(e),c=NI(s),l=n?n(c):TI(c);return EI({circular:r,comparator:c,createState:a,equals:l,strict:o})}function CI(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Ad(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):CI(a)};requestAnimationFrame(n)}function Vs(e){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(e)}function MI(e){return LI(e)||RI(e)||DI(e)||II()}function II(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DI(e,t){if(e){if(typeof e=="string")return Pd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pd(e,t)}}function Pd(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RI(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LI(e){if(Array.isArray(e))return e}function BI(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,s=MI(o),c=s[0],l=s.slice(1);if(typeof c=="number"){Ad(a.bind(null,l),c);return}a(c),Ad(a.bind(null,l));return}Vs(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Vn(e){"@babel/helpers - typeof";return Vn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vn(e)}function Nd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $d(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nd(Object(r),!0).forEach(function(n){bg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bg(e,t,r){return t=FI(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FI(e){var t=zI(e,"string");return Vn(t)==="symbol"?t:String(t)}function zI(e,t){if(Vn(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vn(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qI=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},WI=function(t){return t},UI=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Sn=function(t,r){return Object.keys(r).reduce(function(n,a){return $d($d({},n),{},bg({},a,t(a,r[a])))},{})},Td=function(t,r,n){return t.map(function(a){return"".concat(UI(a)," ").concat(r,"ms ").concat(n)}).join(",")};function GI(e,t){return VI(e)||KI(e,t)||xg(e,t)||HI()}function HI(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KI(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(f){l=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}function VI(e){if(Array.isArray(e))return e}function YI(e){return JI(e)||ZI(e)||xg(e)||XI()}function XI(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xg(e,t){if(e){if(typeof e=="string")return Ys(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ys(e,t)}}function ZI(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JI(e){if(Array.isArray(e))return Ys(e)}function Ys(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var pi=1e-4,wg=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},_g=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},Ed=function(t,r){return function(n){var a=wg(t,r);return _g(a,n)}},QI=function(t,r){return function(n){var a=wg(t,r),i=[].concat(YI(a.map(function(o,s){return o*s}).slice(1)),[0]);return _g(i,n)}},kd=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,s=1;break;case"ease":a=.25,i=.1,o=.25,s=1;break;case"ease-in":a=.42,i=0,o=1,s=1;break;case"ease-out":a=.42,i=0,o=.58,s=1;break;case"ease-in-out":a=0,i=0,o=.58,s=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var l=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),f=GI(l,4);a=f[0],i=f[1],o=f[2],s=f[3]}}}var d=Ed(a,o),p=Ed(i,s),m=QI(a,o),v=function(_){return _>1?1:_<0?0:_},h=function(_){for(var x=_>1?1:_,w=x,S=0;S<8;++S){var b=d(w)-x,y=m(w);if(Math.abs(b-x)<pi||y<pi)return p(w);w=v(w-b/y)}return p(w)};return h.isStepper=!1,h},eD=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,s=o===void 0?17:o,c=function(f,d,p){var m=-(f-d)*n,v=p*i,h=p+(m-v)*s/1e3,g=p*s/1e3+f;return Math.abs(g-d)<pi&&Math.abs(h)<pi?[d,0]:[g,h]};return c.isStepper=!0,c.dt=s,c},tD=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kd(a);case"spring":return eD();default:if(a.split("(")[0]==="cubic-bezier")return kd(a)}return typeof a=="function"?a:null};function Yn(e){"@babel/helpers - typeof";return Yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yn(e)}function Cd(e){return aD(e)||nD(e)||jg(e)||rD()}function rD(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nD(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aD(e){if(Array.isArray(e))return Zs(e)}function Md(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Md(Object(r),!0).forEach(function(n){Xs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Md(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xs(e,t,r){return t=iD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iD(e){var t=oD(e,"string");return Yn(t)==="symbol"?t:String(t)}function oD(e,t){if(Yn(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yn(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sD(e,t){return uD(e)||lD(e,t)||jg(e,t)||cD()}function cD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jg(e,t){if(e){if(typeof e=="string")return Zs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zs(e,t)}}function Zs(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lD(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(f){l=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}function uD(e){if(Array.isArray(e))return e}var hi=function(t,r,n){return t+(r-t)*n},Js=function(t){var r=t.from,n=t.to;return r!==n},fD=function e(t,r,n){var a=Sn(function(i,o){if(Js(o)){var s=t(o.from,o.to,o.velocity),c=sD(s,2),l=c[0],f=c[1];return Ee(Ee({},o),{},{from:l,velocity:f})}return o},r);return n<1?Sn(function(i,o){return Js(o)?Ee(Ee({},o),{},{velocity:hi(o.velocity,a[i].velocity,n),from:hi(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const dD=function(e,t,r,n,a){var i=qI(e,t),o=i.reduce(function(g,_){return Ee(Ee({},g),{},Xs({},_,[e[_],t[_]]))},{}),s=i.reduce(function(g,_){return Ee(Ee({},g),{},Xs({},_,{from:e[_],velocity:0,to:t[_]}))},{}),c=-1,l,f,d=function(){return null},p=function(){return Sn(function(_,x){return x.from},s)},m=function(){return!Object.values(s).filter(Js).length},v=function(_){l||(l=_);var x=_-l,w=x/r.dt;s=fD(r,s,w),a(Ee(Ee(Ee({},e),t),p())),l=_,m()||(c=requestAnimationFrame(d))},h=function(_){f||(f=_);var x=(_-f)/n,w=Sn(function(b,y){return hi.apply(void 0,Cd(y).concat([r(x)]))},o);if(a(Ee(Ee(Ee({},e),t),w)),x<1)c=requestAnimationFrame(d);else{var S=Sn(function(b,y){return hi.apply(void 0,Cd(y).concat([r(1)]))},o);a(Ee(Ee(Ee({},e),t),S))}};return d=r.isStepper?v:h,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function Cr(e){"@babel/helpers - typeof";return Cr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cr(e)}var pD=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function hD(e,t){if(e==null)return{};var r=mD(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mD(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Go(e){return bD(e)||vD(e)||yD(e)||gD()}function gD(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yD(e,t){if(e){if(typeof e=="string")return Qs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qs(e,t)}}function vD(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bD(e){if(Array.isArray(e))return Qs(e)}function Qs(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Id(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Id(Object(r),!0).forEach(function(n){vn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Id(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vn(e,t,r){return t=Sg(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Sg(n.key),n)}}function _D(e,t,r){return t&&wD(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sg(e){var t=jD(e,"string");return Cr(t)==="symbol"?t:String(t)}function jD(e,t){if(Cr(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cr(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SD(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ec(e,t)}function ec(e,t){return ec=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ec(e,t)}function OD(e){var t=AD();return function(){var n=mi(e),a;if(t){var i=mi(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return tc(this,a)}}function tc(e,t){if(t&&(Cr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rc(e)}function rc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mi(e){return mi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mi(e)}var Ot=function(e){SD(r,e);var t=OD(r);function r(n,a){var i;xD(this,r),i=t.call(this,n,a);var o=i.props,s=o.isActive,c=o.attributeName,l=o.from,f=o.to,d=o.steps,p=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(rc(i)),i.changeStyle=i.changeStyle.bind(rc(i)),!s||m<=0)return i.state={style:{}},typeof p=="function"&&(i.state={style:f}),tc(i);if(d&&d.length)i.state={style:d[0].style};else if(l){if(typeof p=="function")return i.state={style:l},tc(i);i.state={style:c?vn({},c,l):l}}else i.state={style:{}};return i}return _D(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,s=i.canBegin,c=i.attributeName,l=i.shouldReAnimate,f=i.to,d=i.from,p=this.state.style;if(s){if(!o){var m={style:c?vn({},c,f):f};this.state&&p&&(c&&p[c]!==f||!c&&p!==f)&&this.setState(m);return}if(!(kI(a.to,f)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var h=v||l?d:a.to;if(this.state&&p){var g={style:c?vn({},c,h):h};(c&&p[c]!==h||!c&&p!==h)&&this.setState(g)}this.runAnimation(rt(rt({},this.props),{},{from:h,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,s=a.to,c=a.duration,l=a.easing,f=a.begin,d=a.onAnimationEnd,p=a.onAnimationStart,m=dD(o,s,tD(l),c,this.changeStyle),v=function(){i.stopJSAnimation=m()};this.manager.start([p,f,v,c,d])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,s=a.begin,c=a.onAnimationStart,l=o[0],f=l.style,d=l.duration,p=d===void 0?0:d,m=function(h,g,_){if(_===0)return h;var x=g.duration,w=g.easing,S=w===void 0?"ease":w,b=g.style,y=g.properties,j=g.onAnimationEnd,O=_>0?o[_-1]:g,P=y||Object.keys(b);if(typeof S=="function"||S==="spring")return[].concat(Go(h),[i.runJSAnimation.bind(i,{from:O.style,to:b,duration:x,easing:S}),x]);var k=Td(P,x,S),T=rt(rt(rt({},O.style),b),{},{transition:k});return[].concat(Go(h),[T,x,j]).filter(WI)};return this.manager.start([c].concat(Go(o.reduce(m,[f,Math.max(p,s)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=BI());var i=a.begin,o=a.duration,s=a.attributeName,c=a.to,l=a.easing,f=a.onAnimationStart,d=a.onAnimationEnd,p=a.steps,m=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof l=="function"||typeof m=="function"||l==="spring"){this.runJSAnimation(a);return}if(p.length>1){this.runStepAnimation(a);return}var h=s?vn({},s,c):c,g=Td(Object.keys(h),o,l);v.start([f,i,rt(rt({},h),{},{transition:g}),o,d])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var s=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=hD(a,pD),l=E.Children.count(i),f=this.state.style;if(typeof i=="function")return i(f);if(!s||l===0||o<=0)return i;var d=function(m){var v=m.props,h=v.style,g=h===void 0?{}:h,_=v.className,x=E.cloneElement(m,rt(rt({},c),{},{style:rt(rt({},g),f),className:_}));return x};return l===1?d(E.Children.only(i)):$.createElement("div",null,E.Children.map(i,function(p){return d(p)}))}}]),r}(E.PureComponent);Ot.displayName="Animate";Ot.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ot.propTypes={from:oe.oneOfType([oe.object,oe.string]),to:oe.oneOfType([oe.object,oe.string]),attributeName:oe.string,duration:oe.number,begin:oe.number,easing:oe.oneOfType([oe.string,oe.func]),steps:oe.arrayOf(oe.shape({duration:oe.number.isRequired,style:oe.object.isRequired,easing:oe.oneOfType([oe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),oe.func]),properties:oe.arrayOf("string"),onAnimationEnd:oe.func})),children:oe.oneOfType([oe.node,oe.func]),isActive:oe.bool,canBegin:oe.bool,onAnimationEnd:oe.func,shouldReAnimate:oe.bool,onAnimationStart:oe.func,onAnimationReStart:oe.func};function Xn(e){"@babel/helpers - typeof";return Xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xn(e)}function gi(){return gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gi.apply(this,arguments)}function PD(e,t){return ED(e)||TD(e,t)||$D(e,t)||ND()}function ND(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $D(e,t){if(e){if(typeof e=="string")return Dd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dd(e,t)}}function Dd(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TD(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(f){l=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}function ED(e){if(Array.isArray(e))return e}function Rd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ld(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rd(Object(r),!0).forEach(function(n){kD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kD(e,t,r){return t=CD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CD(e){var t=MD(e,"string");return Xn(t)=="symbol"?t:t+""}function MD(e,t){if(Xn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bd=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),s=a>=0?1:-1,c=n>=0?1:-1,l=a>=0&&n>=0||a<0&&n<0?1:0,f;if(o>0&&i instanceof Array){for(var d=[0,0,0,0],p=0,m=4;p<m;p++)d[p]=i[p]>o?o:i[p];f="M".concat(t,",").concat(r+s*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(t+c*d[0],",").concat(r)),f+="L ".concat(t+n-c*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(t+n,",").concat(r+s*d[1])),f+="L ".concat(t+n,",").concat(r+a-s*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(t+n-c*d[2],",").concat(r+a)),f+="L ".concat(t+c*d[3],",").concat(r+a),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(t,",").concat(r+a-s*d[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);f="M ".concat(t,",").concat(r+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(t+c*v,",").concat(r,`
            L `).concat(t+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(t+n,",").concat(r+s*v,`
            L `).concat(t+n,",").concat(r+a-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(t+n-c*v,",").concat(r+a,`
            L `).concat(t+c*v,",").concat(r+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(l,",").concat(t,",").concat(r+a-s*v," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},ID=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,s=r.width,c=r.height;if(Math.abs(s)>0&&Math.abs(c)>0){var l=Math.min(i,i+s),f=Math.max(i,i+s),d=Math.min(o,o+c),p=Math.max(o,o+c);return n>=l&&n<=f&&a>=d&&a<=p}return!1},DD={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_l=function(t){var r=Ld(Ld({},DD),t),n=E.useRef(),a=E.useState(-1),i=PD(a,2),o=i[0],s=i[1];E.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var c=r.x,l=r.y,f=r.width,d=r.height,p=r.radius,m=r.className,v=r.animationEasing,h=r.animationDuration,g=r.animationBegin,_=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||l!==+l||f!==+f||d!==+d||f===0||d===0)return null;var w=ae("recharts-rectangle",m);return x?$.createElement(Ot,{canBegin:o>0,from:{width:f,height:d,x:c,y:l},to:{width:f,height:d,x:c,y:l},duration:h,animationEasing:v,isActive:x},function(S){var b=S.width,y=S.height,j=S.x,O=S.y;return $.createElement(Ot,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:h,isActive:_,easing:v},$.createElement("path",gi({},ne(r,!0),{className:w,d:Bd(j,O,b,y,p),ref:n})))}):$.createElement("path",gi({},ne(r,!0),{className:w,d:Bd(c,l,f,d,p)}))};function nc(){return nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nc.apply(this,arguments)}var jl=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=ae("recharts-dot",i);return r===+r&&n===+n&&a===+a?E.createElement("circle",nc({},ne(t,!1),Ia(t),{className:o,cx:r,cy:n,r:a})):null};function Zn(e){"@babel/helpers - typeof";return Zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zn(e)}var RD=["x","y","top","left","width","height","className"];function ac(){return ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ac.apply(this,arguments)}function Fd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fd(Object(r),!0).forEach(function(n){BD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BD(e,t,r){return t=FD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FD(e){var t=zD(e,"string");return Zn(t)=="symbol"?t:t+""}function zD(e,t){if(Zn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qD(e,t){if(e==null)return{};var r=WD(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WD(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var UD=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},GD=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,s=o===void 0?0:o,c=t.left,l=c===void 0?0:c,f=t.width,d=f===void 0?0:f,p=t.height,m=p===void 0?0:p,v=t.className,h=qD(t,RD),g=LD({x:n,y:i,top:s,left:l,width:d,height:m},h);return!G(n)||!G(i)||!G(d)||!G(m)||!G(s)||!G(l)?null:$.createElement("path",ac({},ne(g,!0),{className:ae("recharts-cross",v),d:UD(n,i,d,m,s,l)}))},HD=Lh,KD=HD(Object.getPrototypeOf,Object),VD=KD,YD=At,XD=VD,ZD=Pt,JD="[object Object]",QD=Function.prototype,e3=Object.prototype,Og=QD.toString,t3=e3.hasOwnProperty,r3=Og.call(Object);function n3(e){if(!ZD(e)||YD(e)!=JD)return!1;var t=XD(e);if(t===null)return!0;var r=t3.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Og.call(r)==r3}var a3=n3;const i3=de(a3);var o3=At,s3=Pt,c3="[object Boolean]";function l3(e){return e===!0||e===!1||s3(e)&&o3(e)==c3}var u3=l3;const f3=de(u3);function Jn(e){"@babel/helpers - typeof";return Jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jn(e)}function yi(){return yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yi.apply(this,arguments)}function d3(e,t){return g3(e)||m3(e,t)||h3(e,t)||p3()}function p3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h3(e,t){if(e){if(typeof e=="string")return zd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zd(e,t)}}function zd(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m3(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(f){l=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}function g3(e){if(Array.isArray(e))return e}function qd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qd(Object(r),!0).forEach(function(n){y3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y3(e,t,r){return t=v3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v3(e){var t=b3(e,"string");return Jn(t)=="symbol"?t:t+""}function b3(e,t){if(Jn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ud=function(t,r,n,a,i){var o=n-a,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-o/2,",").concat(r+i),s+="L ".concat(t+n-o/2-a,",").concat(r+i),s+="L ".concat(t,",").concat(r," Z"),s},x3={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},w3=function(t){var r=Wd(Wd({},x3),t),n=E.useRef(),a=E.useState(-1),i=d3(a,2),o=i[0],s=i[1];E.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&s(w)}catch{}},[]);var c=r.x,l=r.y,f=r.upperWidth,d=r.lowerWidth,p=r.height,m=r.className,v=r.animationEasing,h=r.animationDuration,g=r.animationBegin,_=r.isUpdateAnimationActive;if(c!==+c||l!==+l||f!==+f||d!==+d||p!==+p||f===0&&d===0||p===0)return null;var x=ae("recharts-trapezoid",m);return _?$.createElement(Ot,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:l},to:{upperWidth:f,lowerWidth:d,height:p,x:c,y:l},duration:h,animationEasing:v,isActive:_},function(w){var S=w.upperWidth,b=w.lowerWidth,y=w.height,j=w.x,O=w.y;return $.createElement(Ot,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:h,easing:v},$.createElement("path",yi({},ne(r,!0),{className:x,d:Ud(j,O,S,b,y),ref:n})))}):$.createElement("g",null,$.createElement("path",yi({},ne(r,!0),{className:x,d:Ud(c,l,f,d,p)})))},_3=["option","shapeType","propTransformer","activeClassName","isActive"];function Qn(e){"@babel/helpers - typeof";return Qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qn(e)}function j3(e,t){if(e==null)return{};var r=S3(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function S3(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gd(Object(r),!0).forEach(function(n){O3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O3(e,t,r){return t=A3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A3(e){var t=P3(e,"string");return Qn(t)=="symbol"?t:t+""}function P3(e,t){if(Qn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N3(e,t){return vi(vi({},t),e)}function $3(e,t){return e==="symbols"}function Hd(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return $.createElement(_l,r);case"trapezoid":return $.createElement(w3,r);case"sector":return $.createElement(hg,r);case"symbols":if($3(t))return $.createElement(zc,r);break;default:return null}}function T3(e){return E.isValidElement(e)?e.props:e}function E3(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?N3:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,s=e.isActive,c=j3(e,_3),l;if(E.isValidElement(t))l=E.cloneElement(t,vi(vi({},c),T3(t)));else if(te(t))l=t(c);else if(i3(t)&&!f3(t)){var f=a(t,c);l=$.createElement(Hd,{shapeType:r,elementProps:f})}else{var d=c;l=$.createElement(Hd,{shapeType:r,elementProps:d})}return s?$.createElement(we,{className:o},l):l}function ho(e,t){return t!=null&&"trapezoids"in e.props}function mo(e,t){return t!=null&&"sectors"in e.props}function ea(e,t){return t!=null&&"points"in e.props}function k3(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function C3(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function M3(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function I3(e,t){var r;return ho(e,t)?r=k3:mo(e,t)?r=C3:ea(e,t)&&(r=M3),r}function D3(e,t){var r;return ho(e,t)?r="trapezoids":mo(e,t)?r="sectors":ea(e,t)&&(r="points"),r}function R3(e,t){if(ho(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(mo(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return ea(e,t)?t.payload:{}}function L3(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=D3(r,t),i=R3(r,t),o=n.filter(function(c,l){var f=uo(i,c),d=r.props[a].filter(function(v){var h=I3(r,t);return h(v,t)}),p=r.props[a].indexOf(d[d.length-1]),m=l===p;return f&&m}),s=n.indexOf(o[o.length-1]);return s}var B3=Math.ceil,F3=Math.max;function z3(e,t,r,n){for(var a=-1,i=F3(B3((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var q3=z3,W3=nm,Kd=1/0,U3=17976931348623157e292;function G3(e){if(!e)return e===0?e:0;if(e=W3(e),e===Kd||e===-Kd){var t=e<0?-1:1;return t*U3}return e===e?e:0}var Ag=G3,H3=q3,K3=to,Ho=Ag;function V3(e){return function(t,r,n){return n&&typeof n!="number"&&K3(t,r,n)&&(r=n=void 0),t=Ho(t),r===void 0?(r=t,t=0):r=Ho(r),n=n===void 0?t<r?1:-1:Ho(n),H3(t,r,n,e)}}var Y3=V3,X3=Y3,Z3=X3(),J3=Z3;const bi=de(J3);function ta(e){"@babel/helpers - typeof";return ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ta(e)}function Vd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vd(Object(r),!0).forEach(function(n){Pg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pg(e,t,r){return t=Q3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q3(e){var t=e5(e,"string");return ta(t)=="symbol"?t:t+""}function e5(e,t){if(ta(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ta(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t5=["Webkit","Moz","O","ms"],r5=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=t5.reduce(function(i,o){return Yd(Yd({},i),{},Pg({},o+n,r))},{});return a[t]=r,a};function Mr(e){"@babel/helpers - typeof";return Mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mr(e)}function xi(){return xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xi.apply(this,arguments)}function Xd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ko(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xd(Object(r),!0).forEach(function(n){ze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xd(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$g(n.key),n)}}function a5(e,t,r){return t&&Zd(e.prototype,t),r&&Zd(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function i5(e,t,r){return t=wi(t),o5(e,Ng()?Reflect.construct(t,r||[],wi(e).constructor):t.apply(e,r))}function o5(e,t){if(t&&(Mr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s5(e)}function s5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ng(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ng=function(){return!!e})()}function wi(e){return wi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wi(e)}function c5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ic(e,t)}function ic(e,t){return ic=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ic(e,t)}function ze(e,t,r){return t=$g(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $g(e){var t=l5(e,"string");return Mr(t)=="symbol"?t:t+""}function l5(e,t){if(Mr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var u5=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,l=_n().domain(bi(0,c)).range([i,i+o-s]),f=l.domain().map(function(d){return l(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(a),scale:l,scaleValues:f}},Jd=function(t){return t.changedTouches&&!!t.changedTouches.length},Ir=function(e){function t(r){var n;return n5(this,t),n=i5(this,t,[r]),ze(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),ze(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),ze(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,s=a.startIndex;o==null||o({endIndex:i,startIndex:s})}),n.detachDragEndListener()}),ze(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ze(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ze(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ze(n,"handleSlideDragStart",function(a){var i=Jd(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return c5(t,e),a5(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,s=this.props,c=s.gap,l=s.data,f=l.length-1,d=Math.min(a,i),p=Math.max(a,i),m=t.getIndexInRange(o,d),v=t.getIndexInRange(o,p);return{startIndex:m-m%c,endIndex:v===f?f:v-v%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,s=a.dataKey,c=Ue(i[n],s,n);return te(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,s=a.endX,c=this.props,l=c.x,f=c.width,d=c.travellerWidth,p=c.startIndex,m=c.endIndex,v=c.onChange,h=n.pageX-i;h>0?h=Math.min(h,l+f-d-s,l+f-d-o):h<0&&(h=Math.max(h,l-o,l-s));var g=this.getIndex({startX:o+h,endX:s+h});(g.startIndex!==p||g.endIndex!==m)&&v&&v(g),this.setState({startX:o+h,endX:s+h,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=Jd(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,s=a.endX,c=a.startX,l=this.state[o],f=this.props,d=f.x,p=f.width,m=f.travellerWidth,v=f.onChange,h=f.gap,g=f.data,_={startX:this.state.startX,endX:this.state.endX},x=n.pageX-i;x>0?x=Math.min(x,d+p-m-l):x<0&&(x=Math.max(x,d-l)),_[o]=l+x;var w=this.getIndex(_),S=w.startIndex,b=w.endIndex,y=function(){var O=g.length-1;return o==="startX"&&(s>c?S%h===0:b%h===0)||s<c&&b===O||o==="endX"&&(s>c?b%h===0:S%h===0)||s>c&&b===O};this.setState(ze(ze({},o,l+x),"brushMoveStartX",n.pageX),function(){v&&y()&&v(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,s=o.scaleValues,c=o.startX,l=o.endX,f=this.state[a],d=s.indexOf(f);if(d!==-1){var p=d+n;if(!(p===-1||p>=s.length)){var m=s[p];a==="startX"&&m>=l||a==="endX"&&m<=c||this.setState(ze({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,c=n.fill,l=n.stroke;return $.createElement("rect",{stroke:l,fill:c,x:a,y:i,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,c=n.data,l=n.children,f=n.padding,d=E.Children.only(l);return d?$.cloneElement(d,{x:a,y:i,width:o,height:s,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,s=this,c=this.props,l=c.y,f=c.travellerWidth,d=c.height,p=c.traveller,m=c.ariaLabel,v=c.data,h=c.startIndex,g=c.endIndex,_=Math.max(n,this.props.x),x=Ko(Ko({},ne(this.props,!1)),{},{x:_,y:l,width:f,height:d}),w=m||"Min value: ".concat((i=v[h])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=v[g])===null||o===void 0?void 0:o.name);return $.createElement(we,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(b){["ArrowLeft","ArrowRight"].includes(b.key)&&(b.preventDefault(),b.stopPropagation(),s.handleTravellerMoveKeyboard(b.key==="ArrowRight"?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,x))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,s=i.height,c=i.stroke,l=i.travellerWidth,f=Math.min(n,a)+l,d=Math.max(Math.abs(a-n)-l,0);return $.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:d,height:s})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,s=n.height,c=n.travellerWidth,l=n.stroke,f=this.state,d=f.startX,p=f.endX,m=5,v={pointerEvents:"none",fill:l};return $.createElement(we,{className:"recharts-brush-texts"},$.createElement(Xa,xi({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,p)-m,y:o+s/2},v),this.getTextOfTick(a)),$.createElement(Xa,xi({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,p)+c+m,y:o+s/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,s=n.x,c=n.y,l=n.width,f=n.height,d=n.alwaysShowText,p=this.state,m=p.startX,v=p.endX,h=p.isTextActive,g=p.isSlideMoving,_=p.isTravellerMoving,x=p.isTravellerFocused;if(!a||!a.length||!G(s)||!G(c)||!G(l)||!G(f)||l<=0||f<=0)return null;var w=ae("recharts-brush",i),S=$.Children.count(o)===1,b=r5("userSelect","none");return $.createElement(we,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(m,v),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(v,"endX"),(h||g||_||x||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,s=n.height,c=n.stroke,l=Math.floor(i+s/2)-1;return $.createElement($.Fragment,null,$.createElement("rect",{x:a,y:i,width:o,height:s,fill:c,stroke:"none"}),$.createElement("line",{x1:a+1,y1:l,x2:a+o-1,y2:l,fill:"none",stroke:"#fff"}),$.createElement("line",{x1:a+1,y1:l+2,x2:a+o-1,y2:l+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return $.isValidElement(n)?i=$.cloneElement(n,a):te(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,s=n.x,c=n.travellerWidth,l=n.updateId,f=n.startIndex,d=n.endIndex;if(i!==a.prevData||l!==a.prevUpdateId)return Ko({prevData:i,prevTravellerWidth:c,prevUpdateId:l,prevX:s,prevWidth:o},i&&i.length?u5({data:i,width:o,x:s,travellerWidth:c,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||s!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([s,s+o-c]);var p=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:l,prevX:s,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,s=i-1;s-o>1;){var c=Math.floor((o+s)/2);n[c]>a?s=c:o=c}return a>=n[s]?s:o}}])}(E.PureComponent);ze(Ir,"displayName","Brush");ze(Ir,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var f5=Vc;function d5(e,t){var r;return f5(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var p5=d5,h5=Th,m5=Rt,g5=p5,y5=Be,v5=to;function b5(e,t,r){var n=y5(e)?h5:g5;return r&&v5(e,t,r)&&(t=void 0),n(e,m5(t))}var x5=b5;const w5=de(x5);var ft=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},Qd=Jh;function _5(e,t,r){t=="__proto__"&&Qd?Qd(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var j5=_5,S5=j5,O5=Xh,A5=Rt;function P5(e,t){var r={};return t=A5(t),O5(e,function(n,a,i){S5(r,a,t(n,a,i))}),r}var N5=P5;const $5=de(N5);function T5(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var E5=T5,k5=Vc;function C5(e,t){var r=!0;return k5(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var M5=C5,I5=E5,D5=M5,R5=Rt,L5=Be,B5=to;function F5(e,t,r){var n=L5(e)?I5:D5;return r&&B5(e,t,r)&&(t=void 0),n(e,R5(t))}var z5=F5;const Tg=de(z5);var q5=["x","y"];function ra(e){"@babel/helpers - typeof";return ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ra(e)}function oc(){return oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oc.apply(this,arguments)}function ep(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ep(Object(r),!0).forEach(function(n){W5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ep(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W5(e,t,r){return t=U5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U5(e){var t=G5(e,"string");return ra(t)=="symbol"?t:t+""}function G5(e,t){if(ra(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ra(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H5(e,t){if(e==null)return{};var r=K5(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function K5(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function V5(e,t){var r=e.x,n=e.y,a=H5(e,q5),i="".concat(r),o=parseInt(i,10),s="".concat(n),c=parseInt(s,10),l="".concat(t.height||a.height),f=parseInt(l,10),d="".concat(t.width||a.width),p=parseInt(d,10);return yn(yn(yn(yn(yn({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:p,name:t.name,radius:t.radius})}function tp(e){return $.createElement(E3,oc({shapeType:"rectangle",propTransformer:V5,activeClassName:"recharts-active-bar"},e))}var Y5=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=G(n)||fx(n);return i?t(n,a):(i||ar(),r)}},X5=["value","background"],Eg;function Dr(e){"@babel/helpers - typeof";return Dr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dr(e)}function Z5(e,t){if(e==null)return{};var r=J5(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function J5(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _i(){return _i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_i.apply(this,arguments)}function rp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rp(Object(r),!0).forEach(function(n){Ct(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function np(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cg(n.key),n)}}function e4(e,t,r){return t&&np(e.prototype,t),r&&np(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function t4(e,t,r){return t=ji(t),r4(e,kg()?Reflect.construct(t,r||[],ji(e).constructor):t.apply(e,r))}function r4(e,t){if(t&&(Dr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n4(e)}function n4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kg=function(){return!!e})()}function ji(e){return ji=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ji(e)}function a4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sc(e,t)}function sc(e,t){return sc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sc(e,t)}function Ct(e,t,r){return t=Cg(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cg(e){var t=i4(e,"string");return Dr(t)=="symbol"?t:t+""}function i4(e,t){if(Dr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dr=function(e){function t(){var r;Q5(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=t4(this,t,[].concat(a)),Ct(r,"state",{isAnimationFinished:!1}),Ct(r,"id",la("recharts-bar-")),Ct(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Ct(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return a4(t,e),e4(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,s=i.dataKey,c=i.activeIndex,l=i.activeBar,f=ne(this.props,!1);return n&&n.map(function(d,p){var m=p===c,v=m?l:o,h=_e(_e(_e({},f),d),{},{isActive:m,option:v,index:p,dataKey:s,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return $.createElement(we,_i({className:"recharts-bar-rectangle"},Da(a.props,d,p),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(p)}),$.createElement(tp,h))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,s=a.isAnimationActive,c=a.animationBegin,l=a.animationDuration,f=a.animationEasing,d=a.animationId,p=this.state.prevData;return $.createElement(Ot,{begin:c,duration:l,isActive:s,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,h=i.map(function(g,_){var x=p&&p[_];if(x){var w=it(x.x,g.x),S=it(x.y,g.y),b=it(x.width,g.width),y=it(x.height,g.height);return _e(_e({},g),{},{x:w(v),y:S(v),width:b(v),height:y(v)})}if(o==="horizontal"){var j=it(0,g.height),O=j(v);return _e(_e({},g),{},{y:g.y+g.height-O,height:O})}var P=it(0,g.width),k=P(v);return _e(_e({},g),{},{width:k})});return $.createElement(we,null,n.renderRectanglesStatically(h))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!uo(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,s=a.activeIndex,c=ne(this.props.background,!1);return i.map(function(l,f){l.value;var d=l.background,p=Z5(l,X5);if(!d)return null;var m=_e(_e(_e(_e(_e({},p),{},{fill:"#eee"},d),c),Da(n.props,l,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return $.createElement(tp,_i({key:"background-bar-".concat(f),option:n.props.background,isActive:f===s},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,s=i.xAxis,c=i.yAxis,l=i.layout,f=i.children,d=Ze(f,ma);if(!d)return null;var p=l==="vertical"?o[0].height/2:o[0].width/2,m=function(g,_){var x=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:x,errorVal:Ue(g,_)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return $.createElement(we,v,d.map(function(h){return $.cloneElement(h,{key:"error-bar-".concat(a,"-").concat(h.props.dataKey),data:o,xAxis:s,yAxis:c,layout:l,offset:p,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,s=n.xAxis,c=n.yAxis,l=n.left,f=n.top,d=n.width,p=n.height,m=n.isAnimationActive,v=n.background,h=n.id;if(a||!i||!i.length)return null;var g=this.state.isAnimationFinished,_=ae("recharts-bar",o),x=s&&s.allowDataOverflow,w=c&&c.allowDataOverflow,S=x||w,b=re(h)?this.id:h;return $.createElement(we,{className:_},x||w?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(b)},$.createElement("rect",{x:x?l:l-d/2,y:w?f:f-p/2,width:x?d:d*2,height:w?p:p*2}))):null,$.createElement(we,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(b,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,b),(!m||g)&&It.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(E.PureComponent);Eg=dr;Ct(dr,"displayName","Bar");Ct(dr,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!tn.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ct(dr,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,s=e.xAxisTicks,c=e.yAxisTicks,l=e.stackedData,f=e.dataStartIndex,d=e.displayedData,p=e.offset,m=MC(n,r);if(!m)return null;var v=t.layout,h=r.type.defaultProps,g=h!==void 0?_e(_e({},h),r.props):r.props,_=g.dataKey,x=g.children,w=g.minPointSize,S=v==="horizontal"?o:i,b=l?S.scale.domain():null,y=qC({numericAxis:S}),j=Ze(x,im),O=d.map(function(P,k){var T,A,C,R,M,L;l?T=IC(l[f+k],b):(T=Ue(P,_),Array.isArray(T)||(T=[y,T]));var z=Y5(w,Eg.defaultProps.minPointSize)(T[1],k);if(v==="horizontal"){var q,U=[o.scale(T[0]),o.scale(T[1])],V=U[0],X=U[1];A=rd({axis:i,ticks:s,bandSize:a,offset:m.offset,entry:P,index:k}),C=(q=X??V)!==null&&q!==void 0?q:void 0,R=m.size;var K=V-X;if(M=Number.isNaN(K)?0:K,L={x:A,y:o.y,width:R,height:o.height},Math.abs(z)>0&&Math.abs(M)<Math.abs(z)){var N=st(M||z)*(Math.abs(z)-Math.abs(M));C-=N,M+=N}}else{var I=[i.scale(T[0]),i.scale(T[1])],F=I[0],W=I[1];if(A=F,C=rd({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:P,index:k}),R=W-F,M=m.size,L={x:i.x,y:C,width:i.width,height:M},Math.abs(z)>0&&Math.abs(R)<Math.abs(z)){var De=st(R||z)*(Math.abs(z)-Math.abs(R));R+=De}}return _e(_e(_e({},P),{},{x:A,y:C,width:R,height:M,value:l?T:T[1],payload:P,background:L},j&&j[k]&&j[k].props),{},{tooltipPayload:[fg(r,P)],tooltipPosition:{x:A+R/2,y:C+M/2}})});return _e({data:O,layout:v},p)});function na(e){"@babel/helpers - typeof";return na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},na(e)}function o4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ap(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Mg(n.key),n)}}function s4(e,t,r){return t&&ap(e.prototype,t),r&&ap(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ip(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ip(Object(r),!0).forEach(function(n){go(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ip(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function go(e,t,r){return t=Mg(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mg(e){var t=c4(e,"string");return na(t)=="symbol"?t:t+""}function c4(e,t){if(na(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(na(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ig=function(t,r,n,a,i){var o=t.width,s=t.height,c=t.layout,l=t.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},p=!!qe(l,dr);return f.reduce(function(m,v){var h=r[v],g=h.orientation,_=h.domain,x=h.padding,w=x===void 0?{}:x,S=h.mirror,b=h.reversed,y="".concat(g).concat(S?"Mirror":""),j,O,P,k,T;if(h.type==="number"&&(h.padding==="gap"||h.padding==="no-gap")){var A=_[1]-_[0],C=1/0,R=h.categoricalDomain.sort(hx);if(R.forEach(function(I,F){F>0&&(C=Math.min((I||0)-(R[F-1]||0),C))}),Number.isFinite(C)){var M=C/A,L=h.layout==="vertical"?n.height:n.width;if(h.padding==="gap"&&(j=M*L/2),h.padding==="no-gap"){var z=rr(t.barCategoryGap,M*L),q=M*L/2;j=q-z-(q-z)/L*z}}}a==="xAxis"?O=[n.left+(w.left||0)+(j||0),n.left+n.width-(w.right||0)-(j||0)]:a==="yAxis"?O=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(j||0),n.top+n.height-(w.bottom||0)-(j||0)]:O=h.range,b&&(O=[O[1],O[0]]);var U=kC(h,i,p),V=U.scale,X=U.realScaleType;V.domain(_).range(O),CC(V);var K=zC(V,nt(nt({},h),{},{realScaleType:X}));a==="xAxis"?(T=g==="top"&&!S||g==="bottom"&&S,P=n.left,k=d[y]-T*h.height):a==="yAxis"&&(T=g==="left"&&!S||g==="right"&&S,P=d[y]-T*h.width,k=n.top);var N=nt(nt(nt({},h),K),{},{realScaleType:X,x:P,y:k,scale:V,width:a==="xAxis"?n.width:h.width,height:a==="yAxis"?n.height:h.height});return N.bandSize=ui(N,K),!h.hide&&a==="xAxis"?d[y]+=(T?-1:1)*N.height:h.hide||(d[y]+=(T?-1:1)*N.width),nt(nt({},m),{},go({},v,N))},{})},Dg=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},l4=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return Dg({x:r,y:n},{x:a,y:i})},Rg=function(){function e(t){o4(this,e),this.scale=t}return s4(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();go(Rg,"EPS",1e-4);var Sl=function(t){var r=Object.keys(t).reduce(function(n,a){return nt(nt({},n),{},go({},a,Rg.create(t[a])))},{});return nt(nt({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,s=i.position;return $5(a,function(c,l){return r[l].apply(c,{bandAware:o,position:s})})},isInRange:function(a){return Tg(a,function(i,o){return r[o].isInRange(i)})}})};function u4(e){return(e%180+180)%180}var f4=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=u4(a),o=i*Math.PI/180,s=Math.atan(n/r),c=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},d4=Rt,p4=ua,h4=Qi;function m4(e){return function(t,r,n){var a=Object(t);if(!p4(t)){var i=d4(r);t=h4(t),r=function(s){return i(a[s],s,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var g4=m4,y4=Ag;function v4(e){var t=y4(e),r=t%1;return t===t?r?t-r:t:0}var b4=v4,x4=Uh,w4=Rt,_4=b4,j4=Math.max;function S4(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:_4(r);return a<0&&(a=j4(n+a,0)),x4(e,w4(t),a)}var O4=S4,A4=g4,P4=O4,N4=A4(P4),$4=N4;const T4=de($4);var E4=yb(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Ol=E.createContext(void 0),Al=E.createContext(void 0),Lg=E.createContext(void 0),Bg=E.createContext({}),Fg=E.createContext(void 0),zg=E.createContext(0),qg=E.createContext(0),op=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,s=t.children,c=t.width,l=t.height,f=E4(i);return $.createElement(Ol.Provider,{value:n},$.createElement(Al.Provider,{value:a},$.createElement(Bg.Provider,{value:i},$.createElement(Lg.Provider,{value:f},$.createElement(Fg.Provider,{value:o},$.createElement(zg.Provider,{value:l},$.createElement(qg.Provider,{value:c},s)))))))},k4=function(){return E.useContext(Fg)},Wg=function(t){var r=E.useContext(Ol);r==null&&ar();var n=r[t];return n==null&&ar(),n},C4=function(){var t=E.useContext(Ol);return kt(t)},M4=function(){var t=E.useContext(Al),r=T4(t,function(n){return Tg(n.domain,Number.isFinite)});return r||kt(t)},Ug=function(t){var r=E.useContext(Al);r==null&&ar();var n=r[t];return n==null&&ar(),n},I4=function(){var t=E.useContext(Lg);return t},D4=function(){return E.useContext(Bg)},Pl=function(){return E.useContext(qg)},Nl=function(){return E.useContext(zg)};function Rr(e){"@babel/helpers - typeof";return Rr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rr(e)}function R4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hg(n.key),n)}}function B4(e,t,r){return t&&L4(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function F4(e,t,r){return t=Si(t),z4(e,Gg()?Reflect.construct(t,r||[],Si(e).constructor):t.apply(e,r))}function z4(e,t){if(t&&(Rr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q4(e)}function q4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gg=function(){return!!e})()}function Si(e){return Si=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Si(e)}function W4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cc(e,t)}function cc(e,t){return cc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cc(e,t)}function sp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sp(Object(r),!0).forEach(function(n){$l(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $l(e,t,r){return t=Hg(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hg(e){var t=U4(e,"string");return Rr(t)=="symbol"?t:t+""}function U4(e,t){if(Rr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function G4(e,t){return Y4(e)||V4(e,t)||K4(e,t)||H4()}function H4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K4(e,t){if(e){if(typeof e=="string")return lp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lp(e,t)}}function lp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function V4(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(f){l=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}function Y4(e){if(Array.isArray(e))return e}function lc(){return lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lc.apply(this,arguments)}var X4=function(t,r){var n;return $.isValidElement(t)?n=$.cloneElement(t,r):te(t)?n=t(r):n=$.createElement("line",lc({},r,{className:"recharts-reference-line-line"})),n},Z4=function(t,r,n,a,i,o,s,c,l){var f=i.x,d=i.y,p=i.width,m=i.height;if(n){var v=l.y,h=t.y.apply(v,{position:o});if(ft(l,"discard")&&!t.y.isInRange(h))return null;var g=[{x:f+p,y:h},{x:f,y:h}];return c==="left"?g.reverse():g}if(r){var _=l.x,x=t.x.apply(_,{position:o});if(ft(l,"discard")&&!t.x.isInRange(x))return null;var w=[{x,y:d+m},{x,y:d}];return s==="top"?w.reverse():w}if(a){var S=l.segment,b=S.map(function(y){return t.apply(y,{position:o})});return ft(l,"discard")&&w5(b,function(y){return!t.isInRange(y)})?null:b}return null};function J4(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,s=e.className,c=e.alwaysShow,l=k4(),f=Wg(a),d=Ug(i),p=I4();if(!l||!p)return null;xt(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Sl({x:f.scale,y:d.scale}),v=Ae(t),h=Ae(r),g=n&&n.length===2,_=Z4(m,v,h,g,p,e.position,f.orientation,d.orientation,e);if(!_)return null;var x=G4(_,2),w=x[0],S=w.x,b=w.y,y=x[1],j=y.x,O=y.y,P=ft(e,"hidden")?"url(#".concat(l,")"):void 0,k=cp(cp({clipPath:P},ne(e,!0)),{},{x1:S,y1:b,x2:j,y2:O});return $.createElement(we,{className:ae("recharts-reference-line",s)},X4(o,k),Me.renderCallByParent(e,l4({x1:S,y1:b,x2:j,y2:O})))}var Tl=function(e){function t(){return R4(this,t),F4(this,t,arguments)}return W4(t,e),B4(t,[{key:"render",value:function(){return $.createElement(J4,this.props)}}])}($.Component);$l(Tl,"displayName","ReferenceLine");$l(Tl,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function uc(){return uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uc.apply(this,arguments)}function Lr(e){"@babel/helpers - typeof";return Lr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lr(e)}function up(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?up(Object(r),!0).forEach(function(n){yo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):up(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vg(n.key),n)}}function tR(e,t,r){return t&&eR(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rR(e,t,r){return t=Oi(t),nR(e,Kg()?Reflect.construct(t,r||[],Oi(e).constructor):t.apply(e,r))}function nR(e,t){if(t&&(Lr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aR(e)}function aR(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kg=function(){return!!e})()}function Oi(e){return Oi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Oi(e)}function iR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fc(e,t)}function fc(e,t){return fc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fc(e,t)}function yo(e,t,r){return t=Vg(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vg(e){var t=oR(e,"string");return Lr(t)=="symbol"?t:t+""}function oR(e,t){if(Lr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sR=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=Sl({x:a.scale,y:i.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return ft(t,"discard")&&!o.isInRange(s)?null:s},vo=function(e){function t(){return Q4(this,t),rR(this,t,arguments)}return iR(t,e),tR(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,s=n.alwaysShow,c=n.clipPathId,l=Ae(a),f=Ae(i);if(xt(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!f)return null;var d=sR(this.props);if(!d)return null;var p=d.x,m=d.y,v=this.props,h=v.shape,g=v.className,_=ft(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=fp(fp({clipPath:_},ne(this.props,!0)),{},{cx:p,cy:m});return $.createElement(we,{className:ae("recharts-reference-dot",g)},t.renderDot(h,x),Me.renderCallByParent(this.props,{x:p-o,y:m-o,width:2*o,height:2*o}))}}])}($.Component);yo(vo,"displayName","ReferenceDot");yo(vo,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});yo(vo,"renderDot",function(e,t){var r;return $.isValidElement(e)?r=$.cloneElement(e,t):te(e)?r=e(t):r=$.createElement(jl,uc({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function dc(){return dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dc.apply(this,arguments)}function Br(e){"@babel/helpers - typeof";return Br=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Br(e)}function dp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dp(Object(r),!0).forEach(function(n){bo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xg(n.key),n)}}function uR(e,t,r){return t&&lR(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fR(e,t,r){return t=Ai(t),dR(e,Yg()?Reflect.construct(t,r||[],Ai(e).constructor):t.apply(e,r))}function dR(e,t){if(t&&(Br(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pR(e)}function pR(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yg=function(){return!!e})()}function Ai(e){return Ai=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ai(e)}function hR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pc(e,t)}function pc(e,t){return pc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pc(e,t)}function bo(e,t,r){return t=Xg(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xg(e){var t=mR(e,"string");return Br(t)=="symbol"?t:t+""}function mR(e,t){if(Br(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Br(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gR=function(t,r,n,a,i){var o=i.x1,s=i.x2,c=i.y1,l=i.y2,f=i.xAxis,d=i.yAxis;if(!f||!d)return null;var p=Sl({x:f.scale,y:d.scale}),m={x:t?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(c,{position:"start"}):p.y.rangeMin},v={x:r?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:a?p.y.apply(l,{position:"end"}):p.y.rangeMax};return ft(i,"discard")&&(!p.isInRange(m)||!p.isInRange(v))?null:Dg(m,v)},xo=function(e){function t(){return cR(this,t),fR(this,t,arguments)}return hR(t,e),uR(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,s=n.y2,c=n.className,l=n.alwaysShow,f=n.clipPathId;xt(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Ae(a),p=Ae(i),m=Ae(o),v=Ae(s),h=this.props.shape;if(!d&&!p&&!m&&!v&&!h)return null;var g=gR(d,p,m,v,this.props);if(!g&&!h)return null;var _=ft(this.props,"hidden")?"url(#".concat(f,")"):void 0;return $.createElement(we,{className:ae("recharts-reference-area",c)},t.renderRect(h,pp(pp({clipPath:_},ne(this.props,!0)),g)),Me.renderCallByParent(this.props,g))}}])}($.Component);bo(xo,"displayName","ReferenceArea");bo(xo,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});bo(xo,"renderRect",function(e,t){var r;return $.isValidElement(e)?r=$.cloneElement(e,t):te(e)?r=e(t):r=$.createElement(_l,dc({},t,{className:"recharts-reference-area-rect"})),r});function Zg(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function yR(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return f4(n,r)}function vR(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,s=e.height;return t===1?{start:n?a:i,end:n?a+o:i+s}:{start:n?a+o:i+s,end:n?a:i}}function Pi(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function bR(e,t){return Zg(e,t+1)}function xR(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,s=t.end,c=0,l=1,f=o,d=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:Zg(n,l)};var h=c,g,_=function(){return g===void 0&&(g=r(v,h)),g},x=v.coordinate,w=c===0||Pi(e,x,_,f,s);w||(c=0,f=o,l+=1),w&&(f=x+e*(_()/2+a),c+=l)},p;l<=i.length;)if(p=d(),p)return p.v;return[]}function aa(e){"@babel/helpers - typeof";return aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aa(e)}function hp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hp(Object(r),!0).forEach(function(n){wR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wR(e,t,r){return t=_R(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _R(e){var t=jR(e,"string");return aa(t)=="symbol"?t:t+""}function jR(e,t){if(aa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(aa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SR(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,s=t.start,c=t.end,l=function(p){var m=i[p],v,h=function(){return v===void 0&&(v=r(m,p)),v};if(p===o-1){var g=e*(m.coordinate+e*h()/2-c);i[p]=m=Ce(Ce({},m),{},{tickCoord:g>0?m.coordinate-g*e:m.coordinate})}else i[p]=m=Ce(Ce({},m),{},{tickCoord:m.coordinate});var _=Pi(e,m.tickCoord,h,s,c);_&&(c=m.tickCoord-e*(h()/2+a),i[p]=Ce(Ce({},m),{},{isShow:!0}))},f=o-1;f>=0;f--)l(f);return i}function OR(e,t,r,n,a,i){var o=(n||[]).slice(),s=o.length,c=t.start,l=t.end;if(i){var f=n[s-1],d=r(f,s-1),p=e*(f.coordinate+e*d/2-l);o[s-1]=f=Ce(Ce({},f),{},{tickCoord:p>0?f.coordinate-p*e:f.coordinate});var m=Pi(e,f.tickCoord,function(){return d},c,l);m&&(l=f.tickCoord-e*(d/2+a),o[s-1]=Ce(Ce({},f),{},{isShow:!0}))}for(var v=i?s-1:s,h=function(x){var w=o[x],S,b=function(){return S===void 0&&(S=r(w,x)),S};if(x===0){var y=e*(w.coordinate-e*b()/2-c);o[x]=w=Ce(Ce({},w),{},{tickCoord:y<0?w.coordinate-y*e:w.coordinate})}else o[x]=w=Ce(Ce({},w),{},{tickCoord:w.coordinate});var j=Pi(e,w.tickCoord,b,c,l);j&&(c=w.tickCoord+e*(b()/2+a),o[x]=Ce(Ce({},w),{},{isShow:!0}))},g=0;g<v;g++)h(g);return o}function El(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,s=e.orientation,c=e.interval,l=e.tickFormatter,f=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(G(c)||tn.isSsr)return bR(a,typeof c=="number"&&G(c)?c:0);var p=[],m=s==="top"||s==="bottom"?"width":"height",v=f&&m==="width"?wn(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},h=function(w,S){var b=te(l)?l(w.value,S):w.value;return m==="width"?yR(wn(b,{fontSize:t,letterSpacing:r}),v,d):wn(b,{fontSize:t,letterSpacing:r})[m]},g=a.length>=2?st(a[1].coordinate-a[0].coordinate):1,_=vR(i,g,m);return c==="equidistantPreserveStart"?xR(g,_,h,a,o):(c==="preserveStart"||c==="preserveStartEnd"?p=OR(g,_,h,a,o,c==="preserveStartEnd"):p=SR(g,_,h,a,o),p.filter(function(x){return x.isShow}))}var AR=["viewBox"],PR=["viewBox"],NR=["ticks"];function Fr(e){"@babel/helpers - typeof";return Fr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fr(e)}function br(){return br=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},br.apply(this,arguments)}function mp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Se(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mp(Object(r),!0).forEach(function(n){kl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vo(e,t){if(e==null)return{};var r=$R(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $R(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function TR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qg(n.key),n)}}function ER(e,t,r){return t&&gp(e.prototype,t),r&&gp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kR(e,t,r){return t=Ni(t),CR(e,Jg()?Reflect.construct(t,r||[],Ni(e).constructor):t.apply(e,r))}function CR(e,t){if(t&&(Fr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MR(e)}function MR(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jg=function(){return!!e})()}function Ni(e){return Ni=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ni(e)}function IR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hc(e,t)}function hc(e,t){return hc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hc(e,t)}function kl(e,t,r){return t=Qg(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qg(e){var t=DR(e,"string");return Fr(t)=="symbol"?t:t+""}function DR(e,t){if(Fr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var on=function(e){function t(r){var n;return TR(this,t),n=kR(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return IR(t,e),ER(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=Vo(n,AR),s=this.props,c=s.viewBox,l=Vo(s,PR);return!wr(i,c)||!wr(o,l)||!wr(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,s=a.width,c=a.height,l=a.orientation,f=a.tickSize,d=a.mirror,p=a.tickMargin,m,v,h,g,_,x,w=d?-1:1,S=n.tickSize||f,b=G(n.tickCoord)?n.tickCoord:n.coordinate;switch(l){case"top":m=v=n.coordinate,g=o+ +!d*c,h=g-w*S,x=h-w*p,_=b;break;case"left":h=g=n.coordinate,v=i+ +!d*s,m=v-w*S,_=m-w*p,x=b;break;case"right":h=g=n.coordinate,v=i+ +d*s,m=v+w*S,_=m+w*p,x=b;break;default:m=v=n.coordinate,g=o+ +d*c,h=g+w*S,x=h+w*p,_=b;break}return{line:{x1:m,y1:h,x2:v,y2:g},tick:{x:_,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,s=n.height,c=n.orientation,l=n.mirror,f=n.axisLine,d=Se(Se(Se({},ne(this.props,!1)),ne(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!l||c==="bottom"&&l);d=Se(Se({},d),{},{x1:a,y1:i+p*s,x2:a+o,y2:i+p*s})}else{var m=+(c==="left"&&!l||c==="right"&&l);d=Se(Se({},d),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+s})}return $.createElement("line",br({},d,{className:ae("recharts-cartesian-axis-line",Xe(f,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,s=this.props,c=s.tickLine,l=s.stroke,f=s.tick,d=s.tickFormatter,p=s.unit,m=El(Se(Se({},this.props),{},{ticks:n}),a,i),v=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),g=ne(this.props,!1),_=ne(f,!1),x=Se(Se({},g),{},{fill:"none"},ne(c,!1)),w=m.map(function(S,b){var y=o.getTickLineCoord(S),j=y.line,O=y.tick,P=Se(Se(Se(Se({textAnchor:v,verticalAnchor:h},g),{},{stroke:"none",fill:l},_),O),{},{index:b,payload:S,visibleTicksCount:m.length,tickFormatter:d});return $.createElement(we,br({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Da(o.props,S,b)),c&&$.createElement("line",br({},x,j,{className:ae("recharts-cartesian-axis-tick-line",Xe(c,"className"))})),f&&t.renderTickItem(f,P,"".concat(te(d)?d(S.value,b):S.value).concat(p||"")))});return $.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,s=a.height,c=a.ticksGenerator,l=a.className,f=a.hide;if(f)return null;var d=this.props,p=d.ticks,m=Vo(d,NR),v=p;return te(c)&&(v=p&&p.length>0?c(this.props):c(m)),o<=0||s<=0||!v||!v.length?null:$.createElement(we,{className:ae("recharts-cartesian-axis",l),ref:function(g){n.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Me.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,s=ae(a.className,"recharts-cartesian-axis-tick-value");return $.isValidElement(n)?o=$.cloneElement(n,Se(Se({},a),{},{className:s})):te(n)?o=n(Se(Se({},a),{},{className:s})):o=$.createElement(Xa,br({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(E.Component);kl(on,"displayName","CartesianAxis");kl(on,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var RR=["x1","y1","x2","y2","key"],LR=["offset"];function ir(e){"@babel/helpers - typeof";return ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ir(e)}function yp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yp(Object(r),!0).forEach(function(n){BR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BR(e,t,r){return t=FR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FR(e){var t=zR(e,"string");return ir(t)=="symbol"?t:t+""}function zR(e,t){if(ir(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ir(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zt(){return Zt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zt.apply(this,arguments)}function vp(e,t){if(e==null)return{};var r=qR(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qR(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var WR=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,s=t.height,c=t.ry;return $.createElement("rect",{x:a,y:i,ry:c,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function ey(e,t){var r;if($.isValidElement(e))r=$.cloneElement(e,t);else if(te(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,s=t.key,c=vp(t,RR),l=ne(c,!1);l.offset;var f=vp(l,LR);r=$.createElement("line",Zt({},f,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:s}))}return r}function UR(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,c){var l=Ie(Ie({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(c),index:c});return ey(a,l)});return $.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function GR(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(s,c){var l=Ie(Ie({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(c),index:c});return ey(a,l)});return $.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function HR(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,s=e.horizontalPoints,c=e.horizontal,l=c===void 0?!0:c;if(!l||!t||!t.length)return null;var f=s.map(function(p){return Math.round(p+a-a)}).sort(function(p,m){return p-m});a!==f[0]&&f.unshift(0);var d=f.map(function(p,m){var v=!f[m+1],h=v?a+o-p:f[m+1]-p;if(h<=0)return null;var g=m%t.length;return $.createElement("rect",{key:"react-".concat(m),y:p,x:n,height:h,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function KR(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,s=e.width,c=e.height,l=e.verticalPoints;if(!r||!n||!n.length)return null;var f=l.map(function(p){return Math.round(p+i-i)}).sort(function(p,m){return p-m});i!==f[0]&&f.unshift(0);var d=f.map(function(p,m){var v=!f[m+1],h=v?i+s-p:f[m+1]-p;if(h<=0)return null;var g=m%n.length;return $.createElement("rect",{key:"react-".concat(m),x:p,y:o,width:h,height:c,stroke:"none",fill:n[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var VR=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return lg(El(Ie(Ie(Ie({},on.defaultProps),n),{},{ticks:yt(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},YR=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return lg(El(Ie(Ie(Ie({},on.defaultProps),n),{},{ticks:yt(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},gr={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function $i(e){var t,r,n,a,i,o,s=Pl(),c=Nl(),l=D4(),f=Ie(Ie({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:gr.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:gr.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:gr.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:gr.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:gr.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:gr.verticalFill,x:G(e.x)?e.x:l.left,y:G(e.y)?e.y:l.top,width:G(e.width)?e.width:l.width,height:G(e.height)?e.height:l.height}),d=f.x,p=f.y,m=f.width,v=f.height,h=f.syncWithTicks,g=f.horizontalValues,_=f.verticalValues,x=C4(),w=M4();if(!G(m)||m<=0||!G(v)||v<=0||!G(d)||d!==+d||!G(p)||p!==+p)return null;var S=f.verticalCoordinatesGenerator||VR,b=f.horizontalCoordinatesGenerator||YR,y=f.horizontalPoints,j=f.verticalPoints;if((!y||!y.length)&&te(b)){var O=g&&g.length,P=b({yAxis:w?Ie(Ie({},w),{},{ticks:O?g:w.ticks}):void 0,width:s,height:c,offset:l},O?!0:h);xt(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ir(P),"]")),Array.isArray(P)&&(y=P)}if((!j||!j.length)&&te(S)){var k=_&&_.length,T=S({xAxis:x?Ie(Ie({},x),{},{ticks:k?_:x.ticks}):void 0,width:s,height:c,offset:l},k?!0:h);xt(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ir(T),"]")),Array.isArray(T)&&(j=T)}return $.createElement("g",{className:"recharts-cartesian-grid"},$.createElement(WR,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),$.createElement(UR,Zt({},f,{offset:l,horizontalPoints:y,xAxis:x,yAxis:w})),$.createElement(GR,Zt({},f,{offset:l,verticalPoints:j,xAxis:x,yAxis:w})),$.createElement(HR,Zt({},f,{horizontalPoints:y})),$.createElement(KR,Zt({},f,{verticalPoints:j})))}$i.displayName="CartesianGrid";var XR=["type","layout","connectNulls","ref"],ZR=["key"];function zr(e){"@babel/helpers - typeof";return zr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zr(e)}function bp(e,t){if(e==null)return{};var r=JR(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JR(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function On(){return On=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},On.apply(this,arguments)}function xp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xp(Object(r),!0).forEach(function(n){at(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yr(e){return rL(e)||tL(e)||eL(e)||QR()}function QR(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eL(e,t){if(e){if(typeof e=="string")return mc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mc(e,t)}}function tL(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rL(e){if(Array.isArray(e))return mc(e)}function mc(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ry(n.key),n)}}function aL(e,t,r){return t&&wp(e.prototype,t),r&&wp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iL(e,t,r){return t=Ti(t),oL(e,ty()?Reflect.construct(t,r||[],Ti(e).constructor):t.apply(e,r))}function oL(e,t){if(t&&(zr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sL(e)}function sL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ty(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ty=function(){return!!e})()}function Ti(e){return Ti=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ti(e)}function cL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gc(e,t)}function gc(e,t){return gc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gc(e,t)}function at(e,t,r){return t=ry(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ry(e){var t=lL(e,"string");return zr(t)=="symbol"?t:t+""}function lL(e,t){if(zr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vt=function(e){function t(){var r;nL(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=iL(this,t,[].concat(a)),at(r,"state",{isAnimationFinished:!0,totalLength:0}),at(r,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),at(r,"getStrokeDasharray",function(o,s,c){var l=c.reduce(function(_,x){return _+x});if(!l)return r.generateSimpleStrokeDasharray(s,o);for(var f=Math.floor(o/l),d=o%l,p=s-o,m=[],v=0,h=0;v<c.length;h+=c[v],++v)if(h+c[v]>d){m=[].concat(yr(c.slice(0,v)),[d-h]);break}var g=m.length%2===0?[0,p]:[p];return[].concat(yr(t.repeat(c,f)),yr(m),g).map(function(_){return"".concat(_,"px")}).join(", ")}),at(r,"id",la("recharts-line-")),at(r,"pathRef",function(o){r.mainCurve=o}),at(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),at(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return cL(t,e),aL(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,s=i.xAxis,c=i.yAxis,l=i.layout,f=i.children,d=Ze(f,ma);if(!d)return null;var p=function(h,g){return{x:h.x,y:h.y,value:h.value,errorVal:Ue(h.payload,g)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return $.createElement(we,m,d.map(function(v){return $.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:s,yAxis:c,layout:l,dataPointFormatter:p})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.dot,l=s.points,f=s.dataKey,d=ne(this.props,!1),p=ne(c,!0),m=l.map(function(h,g){var _=Fe(Fe(Fe({key:"dot-".concat(g),r:3},d),p),{},{index:g,cx:h.x,cy:h.y,value:h.value,dataKey:f,payload:h.payload,points:l});return t.renderDotItem(c,_)}),v={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return $.createElement(we,On({className:"recharts-line-dots",key:"dots"},v),m)}},{key:"renderCurveStatically",value:function(n,a,i,o){var s=this.props,c=s.type,l=s.layout,f=s.connectNulls;s.ref;var d=bp(s,XR),p=Fe(Fe(Fe({},ne(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:l,connectNulls:f});return $.createElement(Ks,On({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,s=o.points,c=o.strokeDasharray,l=o.isAnimationActive,f=o.animationBegin,d=o.animationDuration,p=o.animationEasing,m=o.animationId,v=o.animateNewValues,h=o.width,g=o.height,_=this.state,x=_.prevPoints,w=_.totalLength;return $.createElement(Ot,{begin:f,duration:d,isActive:l,easing:p,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var b=S.t;if(x){var y=x.length/s.length,j=s.map(function(A,C){var R=Math.floor(C*y);if(x[R]){var M=x[R],L=it(M.x,A.x),z=it(M.y,A.y);return Fe(Fe({},A),{},{x:L(b),y:z(b)})}if(v){var q=it(h*2,A.x),U=it(g/2,A.y);return Fe(Fe({},A),{},{x:q(b),y:U(b)})}return Fe(Fe({},A),{},{x:A.x,y:A.y})});return i.renderCurveStatically(j,n,a)}var O=it(0,w),P=O(b),k;if(c){var T="".concat(c).split(/[,\s]+/gim).map(function(A){return parseFloat(A)});k=i.getStrokeDasharray(P,w,T)}else k=i.generateSimpleStrokeDasharray(w,P);return i.renderCurveStatically(s,n,a,{strokeDasharray:k})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,s=i.isAnimationActive,c=this.state,l=c.prevPoints,f=c.totalLength;return s&&o&&o.length&&(!l&&f>0||!uo(l,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,s=a.points,c=a.className,l=a.xAxis,f=a.yAxis,d=a.top,p=a.left,m=a.width,v=a.height,h=a.isAnimationActive,g=a.id;if(i||!s||!s.length)return null;var _=this.state.isAnimationFinished,x=s.length===1,w=ae("recharts-line",c),S=l&&l.allowDataOverflow,b=f&&f.allowDataOverflow,y=S||b,j=re(g)?this.id:g,O=(n=ne(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=O.r,k=P===void 0?3:P,T=O.strokeWidth,A=T===void 0?2:T,C=jx(o)?o:{},R=C.clipDot,M=R===void 0?!0:R,L=k*2+A;return $.createElement(we,{className:w},S||b?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(j)},$.createElement("rect",{x:S?p:p-m/2,y:b?d:d-v/2,width:S?m:m*2,height:b?v:v*2})),!M&&$.createElement("clipPath",{id:"clipPath-dots-".concat(j)},$.createElement("rect",{x:p-L/2,y:d-L/2,width:m+L,height:v+L}))):null,!x&&this.renderCurve(y,j),this.renderErrorBar(y,j),(x||o)&&this.renderDots(y,M,j),(!h||_)&&It.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(yr(n),[0]):n,o=[],s=0;s<a;++s)o=[].concat(yr(o),yr(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if($.isValidElement(n))i=$.cloneElement(n,a);else if(te(n))i=n(a);else{var o=a.key,s=bp(a,ZR),c=ae("recharts-line-dot",typeof n!="boolean"?n.className:"");i=$.createElement(jl,On({key:o},s,{className:c}))}return i}}])}(E.PureComponent);at(vt,"displayName","Line");at(vt,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!tn.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});at(vt,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,s=e.bandSize,c=e.displayedData,l=e.offset,f=t.layout,d=c.map(function(p,m){var v=Ue(p,o);return f==="horizontal"?{x:td({axis:r,ticks:a,bandSize:s,entry:p,index:m}),y:re(v)?null:n.scale(v),value:v,payload:p}:{x:re(v)?null:r.scale(v),y:td({axis:n,ticks:i,bandSize:s,entry:p,index:m}),value:v,payload:p}});return Fe({points:d,layout:f},l)});function qr(e){"@babel/helpers - typeof";return qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qr(e)}function uL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iy(n.key),n)}}function dL(e,t,r){return t&&fL(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pL(e,t,r){return t=Ei(t),hL(e,ny()?Reflect.construct(t,r||[],Ei(e).constructor):t.apply(e,r))}function hL(e,t){if(t&&(qr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mL(e)}function mL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ny(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ny=function(){return!!e})()}function Ei(e){return Ei=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ei(e)}function gL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yc(e,t)}function yc(e,t){return yc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yc(e,t)}function ay(e,t,r){return t=iy(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iy(e){var t=yL(e,"string");return qr(t)=="symbol"?t:t+""}function yL(e,t){if(qr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function vc(){return vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vc.apply(this,arguments)}function vL(e){var t=e.xAxisId,r=Pl(),n=Nl(),a=Wg(t);return a==null?null:E.createElement(on,vc({},a,{className:ae("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return yt(o,!0)}}))}var or=function(e){function t(){return uL(this,t),pL(this,t,arguments)}return gL(t,e),dL(t,[{key:"render",value:function(){return E.createElement(vL,this.props)}}])}(E.Component);ay(or,"displayName","XAxis");ay(or,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Wr(e){"@babel/helpers - typeof";return Wr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wr(e)}function bL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cy(n.key),n)}}function wL(e,t,r){return t&&xL(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _L(e,t,r){return t=ki(t),jL(e,oy()?Reflect.construct(t,r||[],ki(e).constructor):t.apply(e,r))}function jL(e,t){if(t&&(Wr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SL(e)}function SL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oy=function(){return!!e})()}function ki(e){return ki=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ki(e)}function OL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bc(e,t)}function bc(e,t){return bc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bc(e,t)}function sy(e,t,r){return t=cy(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cy(e){var t=AL(e,"string");return Wr(t)=="symbol"?t:t+""}function AL(e,t){if(Wr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function xc(){return xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xc.apply(this,arguments)}var PL=function(t){var r=t.yAxisId,n=Pl(),a=Nl(),i=Ug(r);return i==null?null:E.createElement(on,xc({},i,{className:ae("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(s){return yt(s,!0)}}))},sr=function(e){function t(){return bL(this,t),_L(this,t,arguments)}return OL(t,e),wL(t,[{key:"render",value:function(){return E.createElement(PL,this.props)}}])}(E.Component);sy(sr,"displayName","YAxis");sy(sr,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function _p(e){return EL(e)||TL(e)||$L(e)||NL()}function NL(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $L(e,t){if(e){if(typeof e=="string")return wc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wc(e,t)}}function TL(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EL(e){if(Array.isArray(e))return wc(e)}function wc(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _c=function(t,r,n,a,i){var o=Ze(t,Tl),s=Ze(t,vo),c=[].concat(_p(o),_p(s)),l=Ze(t,xo),f="".concat(a,"Id"),d=a[0],p=r;if(c.length&&(p=c.reduce(function(h,g){if(g.props[f]===n&&ft(g.props,"extendDomain")&&G(g.props[d])){var _=g.props[d];return[Math.min(h[0],_),Math.max(h[1],_)]}return h},p)),l.length){var m="".concat(d,"1"),v="".concat(d,"2");p=l.reduce(function(h,g){if(g.props[f]===n&&ft(g.props,"extendDomain")&&G(g.props[m])&&G(g.props[v])){var _=g.props[m],x=g.props[v];return[Math.min(h[0],_,x),Math.max(h[1],_,x)]}return h},p)}return i&&i.length&&(p=i.reduce(function(h,g){return G(g)?[Math.min(h[0],g),Math.max(h[1],g)]:h},p)),p},ly={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,l,f){this.fn=c,this.context=l,this.once=f||!1}function i(c,l,f,d,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new a(f,d||c,p),v=r?r+l:l;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],m]:c._events[v].push(m):(c._events[v]=m,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new n:delete c._events[l]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],f,d;if(this._eventsCount===0)return l;for(d in f=this._events)t.call(f,d)&&l.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(f)):l},s.prototype.listeners=function(l){var f=r?r+l:l,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,m=d.length,v=new Array(m);p<m;p++)v[p]=d[p].fn;return v},s.prototype.listenerCount=function(l){var f=r?r+l:l,d=this._events[f];return d?d.fn?1:d.length:0},s.prototype.emit=function(l,f,d,p,m,v){var h=r?r+l:l;if(!this._events[h])return!1;var g=this._events[h],_=arguments.length,x,w;if(g.fn){switch(g.once&&this.removeListener(l,g.fn,void 0,!0),_){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,f),!0;case 3:return g.fn.call(g.context,f,d),!0;case 4:return g.fn.call(g.context,f,d,p),!0;case 5:return g.fn.call(g.context,f,d,p,m),!0;case 6:return g.fn.call(g.context,f,d,p,m,v),!0}for(w=1,x=new Array(_-1);w<_;w++)x[w-1]=arguments[w];g.fn.apply(g.context,x)}else{var S=g.length,b;for(w=0;w<S;w++)switch(g[w].once&&this.removeListener(l,g[w].fn,void 0,!0),_){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,f);break;case 3:g[w].fn.call(g[w].context,f,d);break;case 4:g[w].fn.call(g[w].context,f,d,p);break;default:if(!x)for(b=1,x=new Array(_-1);b<_;b++)x[b-1]=arguments[b];g[w].fn.apply(g[w].context,x)}}return!0},s.prototype.on=function(l,f,d){return i(this,l,f,d,!1)},s.prototype.once=function(l,f,d){return i(this,l,f,d,!0)},s.prototype.removeListener=function(l,f,d,p){var m=r?r+l:l;if(!this._events[m])return this;if(!f)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===f&&(!p||v.once)&&(!d||v.context===d)&&o(this,m);else{for(var h=0,g=[],_=v.length;h<_;h++)(v[h].fn!==f||p&&!v[h].once||d&&v[h].context!==d)&&g.push(v[h]);g.length?this._events[m]=g.length===1?g[0]:g:o(this,m)}return this},s.prototype.removeAllListeners=function(l){var f;return l?(f=r?r+l:l,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(ly);var kL=ly.exports;const CL=de(kL);var Yo=new CL,Xo="recharts.syncMouseEvents";function ia(e){"@babel/helpers - typeof";return ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ia(e)}function ML(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uy(n.key),n)}}function DL(e,t,r){return t&&IL(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zo(e,t,r){return t=uy(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uy(e){var t=RL(e,"string");return ia(t)=="symbol"?t:t+""}function RL(e,t){if(ia(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ia(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var LL=function(){function e(){ML(this,e),Zo(this,"activeIndex",0),Zo(this,"coordinateList",[]),Zo(this,"layout","horizontal")}return DL(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,s=o===void 0?null:o,c=r.layout,l=c===void 0?null:c,f=r.offset,d=f===void 0?null:f,p=r.mouseHandlerCallback,m=p===void 0?null:p;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=l??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,s=a.height,c=this.coordinateList[this.activeIndex].coordinate,l=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=i+c+l,p=o+this.offset.top+s/2+f;this.mouseHandlerCallback({pageX:d,pageY:p})}}}])}();function BL(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&G(n)&&G(a))return!0}return!1}function FL(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function fy(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=ke(t,r,n,a),s=ke(t,r,n,i);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function zL(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,c=t.cy,l=t.innerRadius,f=t.outerRadius,d=t.angle,p=ke(s,c,l,d),m=ke(s,c,f,d);n=p.x,a=p.y,i=m.x,o=m.y}else return fy(t);return[{x:n,y:a},{x:i,y:o}]}function oa(e){"@babel/helpers - typeof";return oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oa(e)}function jp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jp(Object(r),!0).forEach(function(n){qL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qL(e,t,r){return t=WL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WL(e){var t=UL(e,"string");return oa(t)=="symbol"?t:t+""}function UL(e,t){if(oa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(oa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GL(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,s=e.activePayload,c=e.offset,l=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,p=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||p!=="ScatterChart"&&a!=="axis")return null;var v,h=Ks;if(p==="ScatterChart")v=o,h=GD;else if(p==="BarChart")v=FL(d,o,c,f),h=_l;else if(d==="radial"){var g=fy(o),_=g.cx,x=g.cy,w=g.radius,S=g.startAngle,b=g.endAngle;v={cx:_,cy:x,startAngle:S,endAngle:b,innerRadius:w,outerRadius:w},h=hg}else v={points:zL(d,o,c)},h=Ks;var y=Ta(Ta(Ta(Ta({stroke:"#ccc",pointerEvents:"none"},c),v),ne(m,!1)),{},{payload:s,payloadIndex:l,className:ae("recharts-tooltip-cursor",m.className)});return E.isValidElement(m)?E.cloneElement(m,y):E.createElement(h,y)}var HL=["item"],KL=["children","className","width","height","style","compact","title","desc"];function Ur(e){"@babel/helpers - typeof";return Ur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ur(e)}function xr(){return xr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xr.apply(this,arguments)}function Sp(e,t){return XL(e)||YL(e,t)||py(e,t)||VL()}function VL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YL(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(f){l=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}function XL(e){if(Array.isArray(e))return e}function Op(e,t){if(e==null)return{};var r=ZL(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZL(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function JL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hy(n.key),n)}}function eB(e,t,r){return t&&QL(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tB(e,t,r){return t=Ci(t),rB(e,dy()?Reflect.construct(t,r||[],Ci(e).constructor):t.apply(e,r))}function rB(e,t){if(t&&(Ur(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nB(e)}function nB(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dy(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dy=function(){return!!e})()}function Ci(e){return Ci=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ci(e)}function aB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jc(e,t)}function jc(e,t){return jc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jc(e,t)}function Gr(e){return sB(e)||oB(e)||py(e)||iB()}function iB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function py(e,t){if(e){if(typeof e=="string")return Sc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sc(e,t)}}function oB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sB(e){if(Array.isArray(e))return Sc(e)}function Sc(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ap(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ap(Object(r),!0).forEach(function(n){Z(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ap(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z(e,t,r){return t=hy(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hy(e){var t=cB(e,"string");return Ur(t)=="symbol"?t:t+""}function cB(e,t){if(Ur(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ur(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lB={xAxis:["bottom","top"],yAxis:["left","right"]},uB={width:"100%",height:"100%"},my={x:0,y:0};function Ea(e){return e}var fB=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},dB=function(t,r,n,a){var i=r.find(function(f){return f&&f.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,s=a.radius;return D(D(D({},a),ke(a.cx,a.cy,s,o)),{},{angle:o,radius:s})}var c=i.coordinate,l=a.angle;return D(D(D({},a),ke(a.cx,a.cy,c,l)),{},{angle:l,radius:c})}return my},wo=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(s,c){var l=c.props.data;return l&&l.length?[].concat(Gr(s),Gr(l)):s},[]);return o.length>0?o:t&&t.length&&G(a)&&G(i)?t.slice(a,i+1):[]};function gy(e){return e==="number"?[0,"auto"]:void 0}var Oc=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,s=wo(r,t);return n<0||!i||!i.length||n>=s.length?null:i.reduce(function(c,l){var f,d=(f=l.props.data)!==null&&f!==void 0?f:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var m=d===void 0?s:d;p=Ma(m,o.dataKey,a)}else p=d&&d[n]||s[n];return p?[].concat(Gr(c),[fg(l,p)]):c},[])},Pp=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=fB(i,n),s=t.orderedTooltipTicks,c=t.tooltipAxis,l=t.tooltipTicks,f=AC(o,s,l,c);if(f>=0&&l){var d=l[f]&&l[f].value,p=Oc(t,r,f,d),m=dB(n,s,f,i);return{activeTooltipIndex:f,activeLabel:d,activePayload:p,activeCoordinate:m}}return null},pB=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,s=r.stackGroups,c=r.dataStartIndex,l=r.dataEndIndex,f=t.layout,d=t.children,p=t.stackOffset,m=cg(f,i);return n.reduce(function(v,h){var g,_=h.type.defaultProps!==void 0?D(D({},h.type.defaultProps),h.props):h.props,x=_.type,w=_.dataKey,S=_.allowDataOverflow,b=_.allowDuplicatedCategory,y=_.scale,j=_.ticks,O=_.includeHidden,P=_[o];if(v[P])return v;var k=wo(t.data,{graphicalItems:a.filter(function(K){var N,I=o in K.props?K.props[o]:(N=K.type.defaultProps)===null||N===void 0?void 0:N[o];return I===P}),dataStartIndex:c,dataEndIndex:l}),T=k.length,A,C,R;BL(_.domain,S,x)&&(A=qs(_.domain,null,S),m&&(x==="number"||y!=="auto")&&(R=jn(k,w,"category")));var M=gy(x);if(!A||A.length===0){var L,z=(L=_.domain)!==null&&L!==void 0?L:M;if(w){if(A=jn(k,w,x),x==="category"&&m){var q=px(A);b&&q?(C=A,A=bi(0,T)):b||(A=id(z,A,h).reduce(function(K,N){return K.indexOf(N)>=0?K:[].concat(Gr(K),[N])},[]))}else if(x==="category")b?A=A.filter(function(K){return K!==""&&!re(K)}):A=id(z,A,h).reduce(function(K,N){return K.indexOf(N)>=0||N===""||re(N)?K:[].concat(Gr(K),[N])},[]);else if(x==="number"){var U=EC(k,a.filter(function(K){var N,I,F=o in K.props?K.props[o]:(N=K.type.defaultProps)===null||N===void 0?void 0:N[o],W="hide"in K.props?K.props.hide:(I=K.type.defaultProps)===null||I===void 0?void 0:I.hide;return F===P&&(O||!W)}),w,i,f);U&&(A=U)}m&&(x==="number"||y!=="auto")&&(R=jn(k,w,"category"))}else m?A=bi(0,T):s&&s[P]&&s[P].hasStack&&x==="number"?A=p==="expand"?[0,1]:ug(s[P].stackGroups,c,l):A=sg(k,a.filter(function(K){var N=o in K.props?K.props[o]:K.type.defaultProps[o],I="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return N===P&&(O||!I)}),x,f,!0);if(x==="number")A=_c(d,A,P,i,j),z&&(A=qs(z,A,S));else if(x==="category"&&z){var V=z,X=A.every(function(K){return V.indexOf(K)>=0});X&&(A=V)}}return D(D({},v),{},Z({},P,D(D({},_),{},{axisType:i,domain:A,categoricalDomain:R,duplicateDomain:C,originalDomain:(g=_.domain)!==null&&g!==void 0?g:M,isCategorical:m,layout:f})))},{})},hB=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,s=r.stackGroups,c=r.dataStartIndex,l=r.dataEndIndex,f=t.layout,d=t.children,p=wo(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:l}),m=p.length,v=cg(f,i),h=-1;return n.reduce(function(g,_){var x=_.type.defaultProps!==void 0?D(D({},_.type.defaultProps),_.props):_.props,w=x[o],S=gy("number");if(!g[w]){h++;var b;return v?b=bi(0,m):s&&s[w]&&s[w].hasStack?(b=ug(s[w].stackGroups,c,l),b=_c(d,b,w,i)):(b=qs(S,sg(p,n.filter(function(y){var j,O,P=o in y.props?y.props[o]:(j=y.type.defaultProps)===null||j===void 0?void 0:j[o],k="hide"in y.props?y.props.hide:(O=y.type.defaultProps)===null||O===void 0?void 0:O.hide;return P===w&&!k}),"number",f),a.defaultProps.allowDataOverflow),b=_c(d,b,w,i)),D(D({},g),{},Z({},w,D(D({axisType:i},a.defaultProps),{},{hide:!0,orientation:Xe(lB,"".concat(i,".").concat(h%2),null),domain:b,originalDomain:S,isCategorical:v,layout:f})))}return g},{})},mB=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,c=r.dataStartIndex,l=r.dataEndIndex,f=t.children,d="".concat(a,"Id"),p=Ze(f,i),m={};return p&&p.length?m=pB(t,{axes:p,graphicalItems:o,axisType:a,axisIdKey:d,stackGroups:s,dataStartIndex:c,dataEndIndex:l}):o&&o.length&&(m=hB(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:d,stackGroups:s,dataStartIndex:c,dataEndIndex:l})),m},gB=function(t){var r=kt(t),n=yt(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Yc(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ui(r,n)}},Np=function(t){var r=t.children,n=t.defaultShowTooltip,a=qe(r,Ir),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},yB=function(t){return!t||!t.length?!1:t.some(function(r){var n=bt(r&&r.type);return n&&n.indexOf("Bar")>=0})},$p=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},vB=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,s=t.yAxisMap,c=s===void 0?{}:s,l=n.width,f=n.height,d=n.children,p=n.margin||{},m=qe(d,Ir),v=qe(d,Jt),h=Object.keys(c).reduce(function(b,y){var j=c[y],O=j.orientation;return!j.mirror&&!j.hide?D(D({},b),{},Z({},O,b[O]+j.width)):b},{left:p.left||0,right:p.right||0}),g=Object.keys(o).reduce(function(b,y){var j=o[y],O=j.orientation;return!j.mirror&&!j.hide?D(D({},b),{},Z({},O,Xe(b,"".concat(O))+j.height)):b},{top:p.top||0,bottom:p.bottom||0}),_=D(D({},g),h),x=_.bottom;m&&(_.bottom+=m.props.height||Ir.defaultProps.height),v&&r&&(_=$C(_,a,n,r));var w=l-_.left-_.right,S=f-_.top-_.bottom;return D(D({brushBottom:x},_),{},{width:Math.max(w,0),height:Math.max(S,0)})},bB=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},yy=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,c=t.axisComponents,l=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,p=function(_,x){var w=x.graphicalItems,S=x.stackGroups,b=x.offset,y=x.updateId,j=x.dataStartIndex,O=x.dataEndIndex,P=_.barSize,k=_.layout,T=_.barGap,A=_.barCategoryGap,C=_.maxBarSize,R=$p(k),M=R.numericAxisName,L=R.cateAxisName,z=yB(w),q=[];return w.forEach(function(U,V){var X=wo(_.data,{graphicalItems:[U],dataStartIndex:j,dataEndIndex:O}),K=U.type.defaultProps!==void 0?D(D({},U.type.defaultProps),U.props):U.props,N=K.dataKey,I=K.maxBarSize,F=K["".concat(M,"Id")],W=K["".concat(L,"Id")],De={},be=c.reduce(function(zt,qt){var _o=x["".concat(qt.axisType,"Map")],Il=K["".concat(qt.axisType,"Id")];_o&&_o[Il]||qt.axisType==="zAxis"||ar();var Dl=_o[Il];return D(D({},zt),{},Z(Z({},qt.axisType,Dl),"".concat(qt.axisType,"Ticks"),yt(Dl)))},De),H=be[L],Q=be["".concat(L,"Ticks")],ee=S&&S[F]&&S[F].hasStack&&WC(U,S[F].stackGroups),B=bt(U.type).indexOf("Bar")>=0,pe=ui(H,Q),J=[],ge=z&&PC({barSize:P,stackGroups:S,totalSize:bB(be,L)});if(B){var ye,Ne,$t=re(I)?C:I,pr=(ye=(Ne=ui(H,Q,!0))!==null&&Ne!==void 0?Ne:$t)!==null&&ye!==void 0?ye:0;J=NC({barGap:T,barCategoryGap:A,bandSize:pr!==pe?pr:pe,sizeList:ge[W],maxBarSize:$t}),pr!==pe&&(J=J.map(function(zt){return D(D({},zt),{},{position:D(D({},zt.position),{},{offset:zt.position.offset-pr/2})})}))}var ga=U&&U.type&&U.type.getComposedData;ga&&q.push({props:D(D({},ga(D(D({},be),{},{displayedData:X,props:_,dataKey:N,item:U,bandSize:pe,barPosition:J,offset:b,stackedData:ee,layout:k,dataStartIndex:j,dataEndIndex:O}))),{},Z(Z(Z({key:U.key||"item-".concat(V)},M,be[M]),L,be[L]),"animationId",y)),childIndex:Ax(U,_.children),item:U})}),q},m=function(_,x){var w=_.props,S=_.dataStartIndex,b=_.dataEndIndex,y=_.updateId;if(!Zl({props:w}))return null;var j=w.children,O=w.layout,P=w.stackOffset,k=w.data,T=w.reverseStackOrder,A=$p(O),C=A.numericAxisName,R=A.cateAxisName,M=Ze(j,n),L=FC(k,M,"".concat(C,"Id"),"".concat(R,"Id"),P,T),z=c.reduce(function(K,N){var I="".concat(N.axisType,"Map");return D(D({},K),{},Z({},I,mB(w,D(D({},N),{},{graphicalItems:M,stackGroups:N.axisType===C&&L,dataStartIndex:S,dataEndIndex:b}))))},{}),q=vB(D(D({},z),{},{props:w,graphicalItems:M}),x==null?void 0:x.legendBBox);Object.keys(z).forEach(function(K){z[K]=f(w,z[K],q,K.replace("Map",""),r)});var U=z["".concat(R,"Map")],V=gB(U),X=p(w,D(D({},z),{},{dataStartIndex:S,dataEndIndex:b,updateId:y,graphicalItems:M,stackGroups:L,offset:q}));return D(D({formattedGraphicalItems:X,graphicalItems:M,offset:q,stackGroups:L},V),z)},v=function(g){function _(x){var w,S,b;return JL(this,_),b=tB(this,_,[x]),Z(b,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Z(b,"accessibilityManager",new LL),Z(b,"handleLegendBBoxUpdate",function(y){if(y){var j=b.state,O=j.dataStartIndex,P=j.dataEndIndex,k=j.updateId;b.setState(D({legendBBox:y},m({props:b.props,dataStartIndex:O,dataEndIndex:P,updateId:k},D(D({},b.state),{},{legendBBox:y}))))}}),Z(b,"handleReceiveSyncEvent",function(y,j,O){if(b.props.syncId===y){if(O===b.eventEmitterSymbol&&typeof b.props.syncMethod!="function")return;b.applySyncEvent(j)}}),Z(b,"handleBrushChange",function(y){var j=y.startIndex,O=y.endIndex;if(j!==b.state.dataStartIndex||O!==b.state.dataEndIndex){var P=b.state.updateId;b.setState(function(){return D({dataStartIndex:j,dataEndIndex:O},m({props:b.props,dataStartIndex:j,dataEndIndex:O,updateId:P},b.state))}),b.triggerSyncEvent({dataStartIndex:j,dataEndIndex:O})}}),Z(b,"handleMouseEnter",function(y){var j=b.getMouseInfo(y);if(j){var O=D(D({},j),{},{isTooltipActive:!0});b.setState(O),b.triggerSyncEvent(O);var P=b.props.onMouseEnter;te(P)&&P(O,y)}}),Z(b,"triggeredAfterMouseMove",function(y){var j=b.getMouseInfo(y),O=j?D(D({},j),{},{isTooltipActive:!0}):{isTooltipActive:!1};b.setState(O),b.triggerSyncEvent(O);var P=b.props.onMouseMove;te(P)&&P(O,y)}),Z(b,"handleItemMouseEnter",function(y){b.setState(function(){return{isTooltipActive:!0,activeItem:y,activePayload:y.tooltipPayload,activeCoordinate:y.tooltipPosition||{x:y.cx,y:y.cy}}})}),Z(b,"handleItemMouseLeave",function(){b.setState(function(){return{isTooltipActive:!1}})}),Z(b,"handleMouseMove",function(y){y.persist(),b.throttleTriggeredAfterMouseMove(y)}),Z(b,"handleMouseLeave",function(y){b.throttleTriggeredAfterMouseMove.cancel();var j={isTooltipActive:!1};b.setState(j),b.triggerSyncEvent(j);var O=b.props.onMouseLeave;te(O)&&O(j,y)}),Z(b,"handleOuterEvent",function(y){var j=Ox(y),O=Xe(b.props,"".concat(j));if(j&&te(O)){var P,k;/.*touch.*/i.test(j)?k=b.getMouseInfo(y.changedTouches[0]):k=b.getMouseInfo(y),O((P=k)!==null&&P!==void 0?P:{},y)}}),Z(b,"handleClick",function(y){var j=b.getMouseInfo(y);if(j){var O=D(D({},j),{},{isTooltipActive:!0});b.setState(O),b.triggerSyncEvent(O);var P=b.props.onClick;te(P)&&P(O,y)}}),Z(b,"handleMouseDown",function(y){var j=b.props.onMouseDown;if(te(j)){var O=b.getMouseInfo(y);j(O,y)}}),Z(b,"handleMouseUp",function(y){var j=b.props.onMouseUp;if(te(j)){var O=b.getMouseInfo(y);j(O,y)}}),Z(b,"handleTouchMove",function(y){y.changedTouches!=null&&y.changedTouches.length>0&&b.throttleTriggeredAfterMouseMove(y.changedTouches[0])}),Z(b,"handleTouchStart",function(y){y.changedTouches!=null&&y.changedTouches.length>0&&b.handleMouseDown(y.changedTouches[0])}),Z(b,"handleTouchEnd",function(y){y.changedTouches!=null&&y.changedTouches.length>0&&b.handleMouseUp(y.changedTouches[0])}),Z(b,"handleDoubleClick",function(y){var j=b.props.onDoubleClick;if(te(j)){var O=b.getMouseInfo(y);j(O,y)}}),Z(b,"handleContextMenu",function(y){var j=b.props.onContextMenu;if(te(j)){var O=b.getMouseInfo(y);j(O,y)}}),Z(b,"triggerSyncEvent",function(y){b.props.syncId!==void 0&&Yo.emit(Xo,b.props.syncId,y,b.eventEmitterSymbol)}),Z(b,"applySyncEvent",function(y){var j=b.props,O=j.layout,P=j.syncMethod,k=b.state.updateId,T=y.dataStartIndex,A=y.dataEndIndex;if(y.dataStartIndex!==void 0||y.dataEndIndex!==void 0)b.setState(D({dataStartIndex:T,dataEndIndex:A},m({props:b.props,dataStartIndex:T,dataEndIndex:A,updateId:k},b.state)));else if(y.activeTooltipIndex!==void 0){var C=y.chartX,R=y.chartY,M=y.activeTooltipIndex,L=b.state,z=L.offset,q=L.tooltipTicks;if(!z)return;if(typeof P=="function")M=P(q,y);else if(P==="value"){M=-1;for(var U=0;U<q.length;U++)if(q[U].value===y.activeLabel){M=U;break}}var V=D(D({},z),{},{x:z.left,y:z.top}),X=Math.min(C,V.x+V.width),K=Math.min(R,V.y+V.height),N=q[M]&&q[M].value,I=Oc(b.state,b.props.data,M),F=q[M]?{x:O==="horizontal"?q[M].coordinate:X,y:O==="horizontal"?K:q[M].coordinate}:my;b.setState(D(D({},y),{},{activeLabel:N,activeCoordinate:F,activePayload:I,activeTooltipIndex:M}))}else b.setState(y)}),Z(b,"renderCursor",function(y){var j,O=b.state,P=O.isTooltipActive,k=O.activeCoordinate,T=O.activePayload,A=O.offset,C=O.activeTooltipIndex,R=O.tooltipAxisBandSize,M=b.getTooltipEventType(),L=(j=y.props.active)!==null&&j!==void 0?j:P,z=b.props.layout,q=y.key||"_recharts-cursor";return $.createElement(GL,{key:q,activeCoordinate:k,activePayload:T,activeTooltipIndex:C,chartName:r,element:y,isActive:L,layout:z,offset:A,tooltipAxisBandSize:R,tooltipEventType:M})}),Z(b,"renderPolarAxis",function(y,j,O){var P=Xe(y,"type.axisType"),k=Xe(b.state,"".concat(P,"Map")),T=y.type.defaultProps,A=T!==void 0?D(D({},T),y.props):y.props,C=k&&k[A["".concat(P,"Id")]];return E.cloneElement(y,D(D({},C),{},{className:ae(P,C.className),key:y.key||"".concat(j,"-").concat(O),ticks:yt(C,!0)}))}),Z(b,"renderPolarGrid",function(y){var j=y.props,O=j.radialLines,P=j.polarAngles,k=j.polarRadius,T=b.state,A=T.radiusAxisMap,C=T.angleAxisMap,R=kt(A),M=kt(C),L=M.cx,z=M.cy,q=M.innerRadius,U=M.outerRadius;return E.cloneElement(y,{polarAngles:Array.isArray(P)?P:yt(M,!0).map(function(V){return V.coordinate}),polarRadius:Array.isArray(k)?k:yt(R,!0).map(function(V){return V.coordinate}),cx:L,cy:z,innerRadius:q,outerRadius:U,key:y.key||"polar-grid",radialLines:O})}),Z(b,"renderLegend",function(){var y=b.state.formattedGraphicalItems,j=b.props,O=j.children,P=j.width,k=j.height,T=b.props.margin||{},A=P-(T.left||0)-(T.right||0),C=ig({children:O,formattedGraphicalItems:y,legendWidth:A,legendContent:l});if(!C)return null;var R=C.item,M=Op(C,HL);return E.cloneElement(R,D(D({},M),{},{chartWidth:P,chartHeight:k,margin:T,onBBoxUpdate:b.handleLegendBBoxUpdate}))}),Z(b,"renderTooltip",function(){var y,j=b.props,O=j.children,P=j.accessibilityLayer,k=qe(O,Ve);if(!k)return null;var T=b.state,A=T.isTooltipActive,C=T.activeCoordinate,R=T.activePayload,M=T.activeLabel,L=T.offset,z=(y=k.props.active)!==null&&y!==void 0?y:A;return E.cloneElement(k,{viewBox:D(D({},L),{},{x:L.left,y:L.top}),active:z,label:M,payload:z?R:[],coordinate:C,accessibilityLayer:P})}),Z(b,"renderBrush",function(y){var j=b.props,O=j.margin,P=j.data,k=b.state,T=k.offset,A=k.dataStartIndex,C=k.dataEndIndex,R=k.updateId;return E.cloneElement(y,{key:y.key||"_recharts-brush",onChange:Aa(b.handleBrushChange,y.props.onChange),data:P,x:G(y.props.x)?y.props.x:T.left,y:G(y.props.y)?y.props.y:T.top+T.height+T.brushBottom-(O.bottom||0),width:G(y.props.width)?y.props.width:T.width,startIndex:A,endIndex:C,updateId:"brush-".concat(R)})}),Z(b,"renderReferenceElement",function(y,j,O){if(!y)return null;var P=b,k=P.clipPathId,T=b.state,A=T.xAxisMap,C=T.yAxisMap,R=T.offset,M=y.type.defaultProps||{},L=y.props,z=L.xAxisId,q=z===void 0?M.xAxisId:z,U=L.yAxisId,V=U===void 0?M.yAxisId:U;return E.cloneElement(y,{key:y.key||"".concat(j,"-").concat(O),xAxis:A[q],yAxis:C[V],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:k})}),Z(b,"renderActivePoints",function(y){var j=y.item,O=y.activePoint,P=y.basePoint,k=y.childIndex,T=y.isRange,A=[],C=j.props.key,R=j.item.type.defaultProps!==void 0?D(D({},j.item.type.defaultProps),j.item.props):j.item.props,M=R.activeDot,L=R.dataKey,z=D(D({index:k,dataKey:L,cx:O.x,cy:O.y,r:4,fill:wl(j.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},ne(M,!1)),Ia(M));return A.push(_.renderActiveDot(M,z,"".concat(C,"-activePoint-").concat(k))),P?A.push(_.renderActiveDot(M,D(D({},z),{},{cx:P.x,cy:P.y}),"".concat(C,"-basePoint-").concat(k))):T&&A.push(null),A}),Z(b,"renderGraphicChild",function(y,j,O){var P=b.filterFormatItem(y,j,O);if(!P)return null;var k=b.getTooltipEventType(),T=b.state,A=T.isTooltipActive,C=T.tooltipAxis,R=T.activeTooltipIndex,M=T.activeLabel,L=b.props.children,z=qe(L,Ve),q=P.props,U=q.points,V=q.isRange,X=q.baseLine,K=P.item.type.defaultProps!==void 0?D(D({},P.item.type.defaultProps),P.item.props):P.item.props,N=K.activeDot,I=K.hide,F=K.activeBar,W=K.activeShape,De=!!(!I&&A&&z&&(N||F||W)),be={};k!=="axis"&&z&&z.props.trigger==="click"?be={onClick:Aa(b.handleItemMouseEnter,y.props.onClick)}:k!=="axis"&&(be={onMouseLeave:Aa(b.handleItemMouseLeave,y.props.onMouseLeave),onMouseEnter:Aa(b.handleItemMouseEnter,y.props.onMouseEnter)});var H=E.cloneElement(y,D(D({},P.props),be));function Q(qt){return typeof C.dataKey=="function"?C.dataKey(qt.payload):null}if(De)if(R>=0){var ee,B;if(C.dataKey&&!C.allowDuplicatedCategory){var pe=typeof C.dataKey=="function"?Q:"payload.".concat(C.dataKey.toString());ee=Ma(U,pe,M),B=V&&X&&Ma(X,pe,M)}else ee=U==null?void 0:U[R],B=V&&X&&X[R];if(W||F){var J=y.props.activeIndex!==void 0?y.props.activeIndex:R;return[E.cloneElement(y,D(D(D({},P.props),be),{},{activeIndex:J})),null,null]}if(!re(ee))return[H].concat(Gr(b.renderActivePoints({item:P,activePoint:ee,basePoint:B,childIndex:R,isRange:V})))}else{var ge,ye=(ge=b.getItemByXY(b.state.activeCoordinate))!==null&&ge!==void 0?ge:{graphicalItem:H},Ne=ye.graphicalItem,$t=Ne.item,pr=$t===void 0?y:$t,ga=Ne.childIndex,zt=D(D(D({},P.props),be),{},{activeIndex:ga});return[E.cloneElement(pr,zt),null,null]}return V?[H,null,null]:[H,null]}),Z(b,"renderCustomized",function(y,j,O){return E.cloneElement(y,D(D({key:"recharts-customized-".concat(O)},b.props),b.state))}),Z(b,"renderMap",{CartesianGrid:{handler:Ea,once:!0},ReferenceArea:{handler:b.renderReferenceElement},ReferenceLine:{handler:Ea},ReferenceDot:{handler:b.renderReferenceElement},XAxis:{handler:Ea},YAxis:{handler:Ea},Brush:{handler:b.renderBrush,once:!0},Bar:{handler:b.renderGraphicChild},Line:{handler:b.renderGraphicChild},Area:{handler:b.renderGraphicChild},Radar:{handler:b.renderGraphicChild},RadialBar:{handler:b.renderGraphicChild},Scatter:{handler:b.renderGraphicChild},Pie:{handler:b.renderGraphicChild},Funnel:{handler:b.renderGraphicChild},Tooltip:{handler:b.renderCursor,once:!0},PolarGrid:{handler:b.renderPolarGrid,once:!0},PolarAngleAxis:{handler:b.renderPolarAxis},PolarRadiusAxis:{handler:b.renderPolarAxis},Customized:{handler:b.renderCustomized}}),b.clipPathId="".concat((w=x.id)!==null&&w!==void 0?w:la("recharts"),"-clip"),b.throttleTriggeredAfterMouseMove=am(b.triggeredAfterMouseMove,(S=x.throttleDelay)!==null&&S!==void 0?S:1e3/60),b.state={},b}return aB(_,g),eB(_,[{key:"componentDidMount",value:function(){var w,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,S=w.children,b=w.data,y=w.height,j=w.layout,O=qe(S,Ve);if(O){var P=O.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,T=Oc(this.state,b,P,k),A=this.state.tooltipTicks[P].coordinate,C=(this.state.offset.top+y)/2,R=j==="horizontal",M=R?{x:A,y:C}:{y:A,x:C},L=this.state.formattedGraphicalItems.find(function(q){var U=q.item;return U.type.name==="Scatter"});L&&(M=D(D({},M),L.props.points[P].tooltipPosition),T=L.props.points[P].tooltipPayload);var z={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:k,activePayload:T,activeCoordinate:M};this.setState(z),this.renderCursor(O),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var b,y;this.accessibilityManager.setDetails({offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(y=this.props.margin.top)!==null&&y!==void 0?y:0}})}return null}},{key:"componentDidUpdate",value:function(w){rs([qe(w.children,Ve)],[qe(this.props.children,Ve)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=qe(this.props.children,Ve);if(w&&typeof w.props.shared=="boolean"){var S=w.props.shared?"axis":"item";return s.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var S=this.container,b=S.getBoundingClientRect(),y=JN(b),j={chartX:Math.round(w.pageX-y.left),chartY:Math.round(w.pageY-y.top)},O=b.width/S.offsetWidth||1,P=this.inRange(j.chartX,j.chartY,O);if(!P)return null;var k=this.state,T=k.xAxisMap,A=k.yAxisMap,C=this.getTooltipEventType(),R=Pp(this.state,this.props.data,this.props.layout,P);if(C!=="axis"&&T&&A){var M=kt(T).scale,L=kt(A).scale,z=M&&M.invert?M.invert(j.chartX):null,q=L&&L.invert?L.invert(j.chartY):null;return D(D({},j),{},{xValue:z,yValue:q},R)}return R?D(D({},j),R):null}},{key:"inRange",value:function(w,S){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,y=this.props.layout,j=w/b,O=S/b;if(y==="horizontal"||y==="vertical"){var P=this.state.offset,k=j>=P.left&&j<=P.left+P.width&&O>=P.top&&O<=P.top+P.height;return k?{x:j,y:O}:null}var T=this.state,A=T.angleAxisMap,C=T.radiusAxisMap;if(A&&C){var R=kt(A);return cd({x:j,y:O},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,S=this.getTooltipEventType(),b=qe(w,Ve),y={};b&&S==="axis"&&(b.props.trigger==="click"?y={onClick:this.handleClick}:y={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var j=Ia(this.props,this.handleOuterEvent);return D(D({},j),y)}},{key:"addListener",value:function(){Yo.on(Xo,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Yo.removeListener(Xo,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,S,b){for(var y=this.state.formattedGraphicalItems,j=0,O=y.length;j<O;j++){var P=y[j];if(P.item===w||P.props.key===w.key||S===bt(P.item.type)&&b===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,S=this.state.offset,b=S.left,y=S.top,j=S.height,O=S.width;return $.createElement("defs",null,$.createElement("clipPath",{id:w},$.createElement("rect",{x:b,y,height:j,width:O})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(S,b){var y=Sp(b,2),j=y[0],O=y[1];return D(D({},S),{},Z({},j,O.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(S,b){var y=Sp(b,2),j=y[0],O=y[1];return D(D({},S),{},Z({},j,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(w){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(w){var S=this.state,b=S.formattedGraphicalItems,y=S.activeItem;if(b&&b.length)for(var j=0,O=b.length;j<O;j++){var P=b[j],k=P.props,T=P.item,A=T.type.defaultProps!==void 0?D(D({},T.type.defaultProps),T.props):T.props,C=bt(T.type);if(C==="Bar"){var R=(k.data||[]).find(function(q){return ID(w,q)});if(R)return{graphicalItem:P,payload:R}}else if(C==="RadialBar"){var M=(k.data||[]).find(function(q){return cd(w,q)});if(M)return{graphicalItem:P,payload:M}}else if(ho(P,y)||mo(P,y)||ea(P,y)){var L=L3({graphicalItem:P,activeTooltipItem:y,itemData:A.data}),z=A.activeIndex===void 0?L:A.activeIndex;return{graphicalItem:D(D({},P),{},{childIndex:z}),payload:ea(P,y)?A.data[L]:P.props.data[L]}}}return null}},{key:"render",value:function(){var w=this;if(!Zl(this))return null;var S=this.props,b=S.children,y=S.className,j=S.width,O=S.height,P=S.style,k=S.compact,T=S.title,A=S.desc,C=Op(S,KL),R=ne(C,!1);if(k)return $.createElement(op,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement(as,xr({},R,{width:j,height:O,title:T,desc:A}),this.renderClipPath(),Ql(b,this.renderMap)));if(this.props.accessibilityLayer){var M,L;R.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,R.role=(L=this.props.role)!==null&&L!==void 0?L:"application",R.onKeyDown=function(q){w.accessibilityManager.keyboardEvent(q)},R.onFocus=function(){w.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return $.createElement(op,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement("div",xr({className:ae("recharts-wrapper",y),style:D({position:"relative",cursor:"default",width:j,height:O},P)},z,{ref:function(U){w.container=U}}),$.createElement(as,xr({},R,{width:j,height:O,title:T,desc:A,style:uB}),this.renderClipPath(),Ql(b,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(E.Component);Z(v,"displayName",r),Z(v,"defaultProps",D({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Z(v,"getDerivedStateFromProps",function(g,_){var x=g.dataKey,w=g.data,S=g.children,b=g.width,y=g.height,j=g.layout,O=g.stackOffset,P=g.margin,k=_.dataStartIndex,T=_.dataEndIndex;if(_.updateId===void 0){var A=Np(g);return D(D(D({},A),{},{updateId:0},m(D(D({props:g},A),{},{updateId:0}),_)),{},{prevDataKey:x,prevData:w,prevWidth:b,prevHeight:y,prevLayout:j,prevStackOffset:O,prevMargin:P,prevChildren:S})}if(x!==_.prevDataKey||w!==_.prevData||b!==_.prevWidth||y!==_.prevHeight||j!==_.prevLayout||O!==_.prevStackOffset||!wr(P,_.prevMargin)){var C=Np(g),R={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},M=D(D({},Pp(_,w,j)),{},{updateId:_.updateId+1}),L=D(D(D({},C),R),M);return D(D(D({},L),m(D({props:g},L),_)),{},{prevDataKey:x,prevData:w,prevWidth:b,prevHeight:y,prevLayout:j,prevStackOffset:O,prevMargin:P,prevChildren:S})}if(!rs(S,_.prevChildren)){var z,q,U,V,X=qe(S,Ir),K=X&&(z=(q=X.props)===null||q===void 0?void 0:q.startIndex)!==null&&z!==void 0?z:k,N=X&&(U=(V=X.props)===null||V===void 0?void 0:V.endIndex)!==null&&U!==void 0?U:T,I=K!==k||N!==T,F=!re(w),W=F&&!I?_.updateId:_.updateId+1;return D(D({updateId:W},m(D(D({props:g},_),{},{updateId:W,dataStartIndex:K,dataEndIndex:N}),_)),{},{prevChildren:S,dataStartIndex:K,dataEndIndex:N})}return null}),Z(v,"renderActiveDot",function(g,_,x){var w;return E.isValidElement(g)?w=E.cloneElement(g,_):te(g)?w=g(_):w=$.createElement(jl,_),$.createElement(we,{className:"recharts-active-dot",key:x},w)});var h=E.forwardRef(function(_,x){return $.createElement(v,xr({},_,{ref:x}))});return h.displayName=v.displayName,h},vy=yy({chartName:"LineChart",GraphicalChild:vt,axisComponents:[{axisType:"xAxis",AxisComp:or},{axisType:"yAxis",AxisComp:sr}],formatAxisMap:Ig}),xB=yy({chartName:"BarChart",GraphicalChild:dr,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:or},{axisType:"yAxis",AxisComp:sr}],formatAxisMap:Ig});async function wB(e,t="Pop"){const r=[];for(const h of e)if(h.analysis)r.push(h);else if(h.audio_features){const g={file_info:{name:h.name,size_bytes:0,format:"streaming"},mixing_stage:"mastered",audio_features:h.audio_features,benchmarks_used:{genre:t,tempo_bpm:[80,140],danceability:[.4,.9],energy:[.4,.9],valence:[.3,.8],loudness_db:[-10,-4],dynamic_range_db:[6,14],stereo_width:[.5,.9],typical_intro_seconds:[0,30],typical_duration_seconds:[150,300]},score:{overall:Tp(h.audio_features,t),breakdown:{loudness:70,dynamics:70,frequency_balance:70,stereo_imaging:70,genre_alignment:by(h.audio_features,t),commercial_readiness:xy(h.audio_features)}},issues:[],strengths:[`High energy track (${Math.round(h.audio_features.energy*100)}%)`,`Good danceability (${Math.round(h.audio_features.danceability*100)}%)`],overall_assessment:`This track from ${h.artist||"streaming service"} scores ${Tp(h.audio_features,t)}/100 for ${t}.`,next_steps:[],stage_appropriate_tips:[],analysis_timestamp:new Date().toISOString()};r.push({...h,analysis:g})}else if(h.file){const g=await Oy(h.file,t,"not-sure");r.push({...h,analysis:g})}else throw new Error(`Track ${h.name} has no file or audio features`);const n=r.map(h=>h.analysis.score.overall),a=n.reduce((h,g)=>h+g,0)/n.length,i=_B(r),o=jB(r),s=SB(r),c=OB(r),l=AB(r,i,o,s),f=[...r].sort((h,g)=>g.analysis.score.overall-h.analysis.score.overall),d=f[0],p=f.slice(-2),m=PB(i,o,s,c),v=NB(d,i,s);return{total_tracks:r.length,analysis_date:new Date().toISOString(),average_score:Math.round(a),score_trend:i.trend==="inconsistent"?"stable":i.trend,tracks:r,quality_progression:i,genre_consistency:o,sonic_identity:s,trends:c,insights:l,best_performing_track:{name:d.name,score:d.analysis.score.overall,strengths:d.analysis.strengths},needs_improvement:p.map(h=>({name:h.name,score:h.analysis.score.overall,issues:h.analysis.issues.slice(0,3).map(g=>g.title)})),overall_recommendations:m,next_release_guidance:v}}function _B(e){const t=e.map(s=>s.analysis.score.overall),r=Math.round(t.reduce((s,c)=>s+c,0)/t.length);let n="inconsistent";if(t.length>=3){const s=t.slice(0,Math.floor(t.length/2)),c=t.slice(Math.floor(t.length/2)),l=s.reduce((p,m)=>p+m,0)/s.length,d=c.reduce((p,m)=>p+m,0)/c.length-l;d>5?n="improving":d<-5?n="declining":n="inconsistent"}const a=[...t].sort((s,c)=>s-c),i=[a[0],a[a.length-1]],o=[...e].sort((s,c)=>c.analysis.score.overall-s.analysis.score.overall);return{trend:n,average_score:r,score_range:i,best_track:o[0].name,weakest_track:o[o.length-1].name,improvement_rate:n==="improving"?Math.abs(t[t.length-1]-t[0])/t.length:void 0}}function jB(e){const t={};e.forEach(c=>{const l=c.analysis.benchmarks_used.genre;t[l]=(t[l]||0)+1});const r=Object.entries(t).sort((c,l)=>l[1]-c[1]),n=r[0][0],a=r[0][1],i=Math.round(a/e.length*100),o=Object.fromEntries(Object.entries(t).map(([c,l])=>[c,Math.round(l/e.length*100)]));let s="";return i>=80?s=`Strong ${n} identity. Fans know what to expect from your music.`:i>=60?s=`Mostly ${n} but with some variety. Consider clarifying your sound or embracing genre-blending.`:s="Very diverse sound. Consider whether you want to be known for versatility or focus on one genre.",{primary_genre:n,consistency_score:i,genre_distribution:o,recommendation:s}}function SB(e){const t=e.map(h=>h.analysis.audio_features.tempo_bpm),r=e.map(h=>h.analysis.audio_features.energy),n=t.reduce((h,g)=>h+g,0)/t.length,a=r.reduce((h,g)=>h+g,0)/r.length,i=Math.sqrt(t.reduce((h,g)=>h+Math.pow(g-n,2),0)/t.length),o=Math.sqrt(r.reduce((h,g)=>h+Math.pow(g-a,2),0)/r.length),s=[Math.round(n-i),Math.round(n+i)],c=[Math.max(0,a-o),Math.min(1,a+o)],l=[];n<90?l.push("Slow, deliberate tempos"):n>130?l.push("Upbeat, energetic tempos"):l.push("Mid-tempo grooves"),a>.7?l.push("High-energy production"):a<.5?l.push("Laid-back, chill vibe"):l.push("Balanced energy");const f=[];e.forEach(h=>{const g=h.analysis.audio_features.tempo_bpm,_=h.analysis.audio_features.energy;(Math.abs(g-n)>i*2||Math.abs(_-a)>o*2)&&f.push(h.name)});const d=Math.max(0,100-i/n*100),p=Math.max(0,100-o*100),m=Math.round((d+p)/2);let v="";return m>=75?v="Strong sonic signature. Your tracks have a recognizable sound.":m>=50?v="Moderate consistency. Consider developing a more distinct sonic identity.":v="Very diverse sonic palette. Decide if you want a signature sound or embrace variety.",{signature_sound:{tempo_range:s,energy_range:c,common_traits:l},consistency_score:m,outlier_tracks:f,recommendation:v}}function OB(e){const t=[];if(e.length<3)return t;const r=e.map(c=>c.analysis.audio_features.loudness_db),n=Jo(r);Math.abs(n.change)>1&&t.push({metric:"Loudness",direction:n.direction,change_percentage:Math.abs(n.change),description:n.direction==="improving"?"Your mixes are getting louder over time":"Your mixes are getting quieter over time"});const a=e.map(c=>c.analysis.score.breakdown.dynamics*100),i=Jo(a);Math.abs(i.change)>5&&t.push({metric:"Dynamics",direction:i.direction,change_percentage:Math.abs(i.change),description:i.direction==="improving"?"Your dynamic range control is improving":"Your dynamic range control is declining"});const o=e.map(c=>c.analysis.score.breakdown.frequency_balance*100),s=Jo(o);return Math.abs(s.change)>5&&t.push({metric:"Frequency Balance",direction:s.direction,change_percentage:Math.abs(s.change),description:s.direction==="improving"?"Your frequency balance is improving":"Your frequency balance needs attention"}),t}function Jo(e){const t=e.slice(0,Math.floor(e.length/2)),r=e.slice(Math.floor(e.length/2)),n=t.reduce((s,c)=>s+c,0)/t.length,i=(r.reduce((s,c)=>s+c,0)/r.length-n)/n*100;let o;return i>3?o="improving":i<-3?o="declining":o="stable",{direction:o,change:i}}function AB(e,t,r,n){var i;const a=[];return t.trend==="improving"?a.push({type:"strength",title:"Consistent Growth",description:`Your production quality has improved by an average of ${(i=t.improvement_rate)==null?void 0:i.toFixed(1)}% per release. Keep up the momentum!`}):t.trend==="declining"&&a.push({type:"weakness",title:"Quality Inconsistency",description:"Recent releases score lower than earlier work. Review what made your best tracks successful.",tracks_affected:e.slice(-2).map(o=>o.name)}),r.consistency_score<60&&a.push({type:"opportunity",title:"Genre Exploration",description:`You're experimenting with multiple genres (${Object.keys(r.genre_distribution).join(", ")}). Consider whether to specialize or embrace genre-blending as your brand.`}),n.consistency_score>=75&&a.push({type:"strength",title:"Strong Sonic Identity",description:`You have a recognizable sound (${n.signature_sound.common_traits.join(", ")}). This helps with fan retention.`}),n.outlier_tracks.length>0&&a.push({type:"trend",title:"Sonic Experimentation",description:"Some tracks deviate from your typical sound. These could be creative risks or genre exploration.",tracks_affected:n.outlier_tracks}),a}function PB(e,t,r,n){const a=[];(e.trend==="declining"||e.score_range[1]-e.score_range[0]>20)&&a.push("Focus on consistency. Study your highest-scoring tracks and replicate their production approach."),t.consistency_score<70&&a.push(`Consider establishing yourself in ${t.primary_genre} before branching out, or embrace genre-blending as your unique brand.`),r.consistency_score<60&&a.push("Develop a signature sound. Consistent tempo ranges, production techniques, and sonic choices help fans recognize your music instantly.");const i=n.filter(o=>o.direction==="declining");return i.length>0&&a.push(`Pay attention to ${i.map(o=>o.metric.toLowerCase()).join(" and ")} - these metrics are declining across recent releases.`),e.average_score<70&&a.push("Consider investing in better mixing/mastering or taking additional production courses to elevate overall quality."),a}function NB(e,t,r){const n=[];n.push(`Model your next release after "${e.name}" - your highest-scoring track (${e.analysis.score.overall}/100).`);const a=e.analysis.audio_features;return n.push(`Target tempo: ${Math.round(a.tempo_bpm)} BPM (±10), Energy: ${(a.energy*100).toFixed(0)}%`),r.consistency_score>=70&&n.push(`Stay within your sonic signature: ${r.signature_sound.common_traits.join(", ")}`),t.trend==="improving"?n.push("Continue your upward trajectory - you're on the right path!"):n.push("Focus on quality over quantity for your next release."),n}function $B(e){return e.map((t,r)=>({track_name:t.name.length>20?t.name.substring(0,17)+"...":t.name,track_number:r+1,overall_score:t.analysis.score.overall,loudness:Math.round(t.analysis.score.breakdown.loudness*100),dynamics:Math.round(t.analysis.score.breakdown.dynamics*100),frequency_balance:Math.round(t.analysis.score.breakdown.frequency_balance*100),stereo_imaging:Math.round(t.analysis.score.breakdown.stereo_imaging*100),genre_alignment:Math.round(t.analysis.score.breakdown.genre_alignment*100),commercial_readiness:Math.round(t.analysis.score.breakdown.commercial_readiness*100)}))}function Tp(e,t){const r=by(e,t),n=xy(e),a=TB(e);return Math.round(r*.4+n*.3+a*.3)}function by(e,t){const r=t.toLowerCase();let n=50;return r.includes("pop")?(e.energy>=.5&&e.energy<=.8&&(n+=15),e.danceability>=.6&&(n+=15),e.tempo_bpm>=100&&e.tempo_bpm<=130&&(n+=10),e.valence>=.4&&(n+=10)):r.includes("r&b")||r.includes("r & b")?(e.energy>=.4&&e.energy<=.7&&(n+=15),e.danceability>=.5&&e.danceability<=.8&&(n+=15),e.tempo_bpm>=70&&e.tempo_bpm<=110&&(n+=15),e.speechiness<.33&&(n+=5)):r.includes("hip")?(e.danceability>=.6&&(n+=15),e.tempo_bpm>=70&&e.tempo_bpm<=110&&(n+=15),e.speechiness>=.33&&(n+=15),e.energy>=.5&&(n+=5)):r.includes("electronic")||r.includes("edm")?(e.energy>=.7&&(n+=15),e.danceability>=.7&&(n+=15),e.tempo_bpm>=120&&e.tempo_bpm<=140&&(n+=15),e.instrumentalness>=.3&&(n+=5)):(r.includes("alternative")||r.includes("indie"))&&(e.energy>=.4&&e.energy<=.8&&(n+=15),e.acousticness>=.2&&(n+=10),e.tempo_bpm>=90&&e.tempo_bpm<=140&&(n+=10),n+=15),Math.min(100,Math.max(0,n))}function xy(e){let t=50;const r=e.duration_seconds;return r>=180&&r<=240?t+=15:r>=150&&r<=300?t+=10:t+=5,e.energy>=.4&&e.energy<=.8?t+=15:t+=8,e.danceability>=.5?t+=15:t+=8,e.loudness_db>=-8&&e.loudness_db<=-4?t+=10:e.loudness_db>=-10&&e.loudness_db<=-3&&(t+=5),Math.min(100,Math.max(0,t))}function TB(e){let t=60;return e.loudness_db>=-10&&e.loudness_db<=-3?t+=15:t+=5,e.stereo_width!==void 0?e.stereo_width>=.5&&e.stereo_width<=.8?t+=10:t+=5:t+=7,e.dynamic_range_db!==void 0?e.dynamic_range_db>=6&&e.dynamic_range_db<=12?t+=15:e.dynamic_range_db>=4&&(t+=8):t+=10,Math.min(100,Math.max(0,t))}const Cl="fe434cc7ce2241938a9440d2026c4302",wy="https://trentbecknell.github.io/soundsexpensive/",EB=["playlist-read-private","playlist-read-collaborative","user-library-read","user-read-email"].join(" ");async function kB(){const e=Ep(16),t=Ep(128);localStorage.setItem("spotify_auth_state",e),localStorage.setItem("spotify_code_verifier",t);const r=await RB(t);return`https://accounts.spotify.com/authorize?${new URLSearchParams({client_id:Cl,response_type:"code",redirect_uri:wy,state:e,scope:EB,code_challenge_method:"S256",code_challenge:r}).toString()}`}async function CB(e,t){const r=localStorage.getItem("spotify_auth_state"),n=localStorage.getItem("spotify_code_verifier");if(!r||t!==r)throw new Error("State mismatch - possible CSRF attack");if(!n)throw new Error("Code verifier not found");const a=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"authorization_code",code:e,redirect_uri:wy,client_id:Cl,code_verifier:n})});if(!a.ok)throw new Error("Failed to exchange code for token");const i=await a.json();return localStorage.setItem("spotify_access_token",i.access_token),localStorage.setItem("spotify_refresh_token",i.refresh_token),localStorage.setItem("spotify_token_expiry",String(Date.now()+i.expires_in*1e3)),localStorage.removeItem("spotify_auth_state"),localStorage.removeItem("spotify_code_verifier"),i.access_token}async function Ml(){const e=localStorage.getItem("spotify_access_token"),t=localStorage.getItem("spotify_refresh_token"),r=localStorage.getItem("spotify_token_expiry");if(!e)return null;if(r&&Date.now()>=parseInt(r)){if(!t)return null;try{const n=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"refresh_token",refresh_token:t,client_id:Cl})});if(!n.ok)return localStorage.removeItem("spotify_access_token"),localStorage.removeItem("spotify_refresh_token"),localStorage.removeItem("spotify_token_expiry"),null;const a=await n.json();return localStorage.setItem("spotify_access_token",a.access_token),localStorage.setItem("spotify_token_expiry",String(Date.now()+a.expires_in*1e3)),a.access_token}catch(n){return console.error("Failed to refresh token:",n),null}}return e}async function MB(e){const t=await Ml();if(!t)throw new Error("Not authenticated");const r=await fetch(`https://api.spotify.com/v1/playlists/${e}`,{headers:{Authorization:`Bearer ${t}`}});if(!r.ok)throw new Error(`Failed to fetch playlist: ${r.statusText}`);const n=await r.json(),a=n.tracks.items.filter(i=>i.track!==null).map(i=>({id:i.track.id,name:i.track.name,artists:i.track.artists.map(o=>o.name),album:i.track.album.name,duration_ms:i.track.duration_ms,preview_url:i.track.preview_url}));return{id:n.id,name:n.name,description:n.description||"",tracks:a,total_tracks:a.length}}async function IB(e){const t=await Ml();if(!t)throw new Error("Not authenticated");const r=[];for(let a=0;a<e.length;a+=100)r.push(e.slice(a,a+100));const n=[];for(const a of r){const i=await fetch(`https://api.spotify.com/v1/audio-features?ids=${a.join(",")}`,{headers:{Authorization:`Bearer ${t}`}});if(!i.ok)throw new Error(`Failed to fetch audio features: ${i.statusText}`);const o=await i.json();n.push(...o.audio_features.filter(s=>s!==null))}return n}function DB(e){return{tempo_bpm:e.tempo,danceability:e.danceability,energy:e.energy,valence:e.valence,acousticness:e.acousticness,instrumentalness:e.instrumentalness,speechiness:e.speechiness,loudness_db:e.loudness,duration_seconds:e.duration_ms/1e3,key:e.key,mode:e.mode===1?"major":"minor",key_confidence:1,dynamic_range_db:8,stereo_width:.7,peak_db:-1,rms_db:e.loudness+3,crest_factor:8}}function Ep(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return crypto.getRandomValues(new Uint8Array(e)).reduce((n,a)=>n+t[a%t.length],"")}async function RB(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r);return LB(n)}function LB(e){const t=new Uint8Array(e);let r="";for(const n of t)r+=String.fromCharCode(n);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function BB({onAnalysisComplete:e}={}){const[t,r]=E.useState([]),[n,a]=E.useState("Pop"),[i,o]=E.useState(!1),[s,c]=E.useState(null),[l,f]=E.useState(null),[d,p]=E.useState(""),[m,v]=E.useState("upload"),[h,g]=E.useState(!1),[_,x]=E.useState(!1),w=["Pop","R&B","Hip Hop","Electronic","Alternative"];E.useEffect(()=>{(async()=>{try{const C=await Ml();g(!!C)}catch{g(!1)}})()},[]);const S=async()=>{x(!0);try{const A=await kB();window.location.href=A}catch(A){f(A instanceof Error?A.message:"Failed to connect to Spotify"),x(!1)}},b=()=>{localStorage.removeItem("spotify_access_token"),localStorage.removeItem("spotify_refresh_token"),localStorage.removeItem("spotify_token_expiry"),g(!1)},y=E.useCallback(A=>{const C=Array.from(A.target.files||[]);if(C.length===0)return;if(C.length>20){f("Maximum 20 tracks allowed");return}const R=C.map((M,L)=>({id:`track-${Date.now()}-${L}`,file:M,name:M.name.replace(/\.[^/.]+$/,""),upload_order:t.length+L+1}));r(M=>[...M,...R]),f(null)},[t.length]),j=E.useCallback(A=>{r(C=>C.filter(R=>R.id!==A))},[]),O=E.useCallback(()=>{r([]),c(null),f(null),p("")},[]),P=E.useCallback(async()=>{if(!d.trim()){f("Please enter a playlist URL");return}o(!0),f(null);try{const A=d.toLowerCase();if(A.includes("spotify.com")){const C=A.match(/playlist\/([a-zA-Z0-9]+)/);if(!C)throw new Error("Invalid Spotify playlist URL. Please use a link like: https://open.spotify.com/playlist/...");const R=C[1],M=await MB(R);if(M.tracks.length===0)throw new Error("Playlist is empty or could not be accessed");if(M.tracks.length>20)throw new Error(`Playlist has ${M.tracks.length} tracks. Maximum 20 tracks allowed. Please use a smaller playlist.`);const L=M.tracks.map(V=>V.id),z=await IB(L),q={};z.forEach(V=>{V&&V.id&&(q[V.id]=V)});const U=M.tracks.map((V,X)=>{const K=q[V.id];if(!K)throw new Error(`Could not fetch audio features for track: ${V.name}`);return{id:V.id,name:V.name,artist:V.artists.join(", "),upload_order:X+1,audio_features:DB(K)}});r(U),p(""),o(!1);return}else if(A.includes("samply.app")){f(`🎹 Samply Integration Note:

Direct URL imports from Samply are blocked by browser security (CORS).

✅ Easy Workaround:
1. Download your tracks from Samply.app
2. Switch to "Upload Files" method above
3. Upload your tracks (you'll get REAL audio analysis!)

This actually gives better results than URL import would! 🎉`),o(!1);return}else if(A.includes("bandcamp.com")){f("🎸 Bandcamp Integration Coming Soon! Please download your tracks from Bandcamp and upload them manually for now. Direct Bandcamp album/playlist analysis is in development."),o(!1);return}else if(A.includes("soundcloud.com")){f("☁️ SoundCloud Integration Coming Soon! Please download your tracks and upload them manually for now."),o(!1);return}else if(A.includes("apple.com")||A.includes("music.apple")){f("🍎 Apple Music Integration Coming Soon! Please download your tracks and upload them manually for now."),o(!1);return}else{f("Unsupported URL. Currently supported: Spotify (connected), Bandcamp, SoundCloud, Apple Music (coming soon). For now, please upload files directly for non-Spotify playlists."),o(!1);return}}catch(A){f(A instanceof Error?A.message:"Failed to import playlist"),console.error("Playlist import error:",A)}finally{o(!1)}},[d]),k=E.useCallback(async()=>{if(t.length<2){f("Please upload at least 2 tracks for catalog analysis");return}o(!0),f(null);try{const A=await wB(t,n);c(A),e&&e(A)}catch(A){f(A instanceof Error?A.message:"Analysis failed"),console.error("Catalog analysis error:",A)}finally{o(!1)}},[t,n,e]),T=A=>A>=80?"text-green-400":A>=60?"text-yellow-400":"text-orange-400";return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-surface-900 via-surface-800 to-surface-900 p-6 space-y-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-3xl font-bold text-primary-100 mb-2",children:"📊 Catalog Analyzer"}),u.jsx("p",{className:"text-surface-300 text-sm max-w-2xl mx-auto",children:"Upload tracks or import from Spotify/Bandcamp to analyze your artistic growth, consistency, and sonic identity over time"})]}),u.jsxs("section",{className:"rounded-2xl border border-surface-700 bg-surface-800/80 p-6 backdrop-blur",children:[u.jsx("h2",{className:"text-lg font-semibold text-primary-100 mb-4",children:"Import Your Catalog"}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-surface-300 mb-2",children:"Target Genre"}),u.jsx("select",{value:n,onChange:A=>a(A.target.value),className:"w-full rounded-lg bg-surface-700/50 px-3 py-2 text-surface-100",children:w.map(A=>u.jsx("option",{value:A,children:A},A))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm text-surface-300 mb-2",children:"Import Method"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>v("upload"),className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="upload"?"bg-primary-600 text-white":"bg-surface-700/50 text-surface-300 hover:bg-surface-700"}`,children:"📁 Upload Files"}),u.jsx("button",{onClick:()=>v("url"),className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m==="url"?"bg-primary-600 text-white":"bg-surface-700/50 text-surface-300 hover:bg-surface-700"}`,children:"🔗 Playlist URL"})]})]})]}),m==="upload"?u.jsx("div",{children:u.jsxs("label",{htmlFor:"catalog-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-surface-600 rounded-2xl cursor-pointer hover:border-primary-500 transition-colors",children:[u.jsxs("div",{className:"flex flex-col items-center justify-center",children:[u.jsx("svg",{className:"w-10 h-10 mb-2 text-surface-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),u.jsxs("p",{className:"text-sm text-surface-300",children:[u.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),u.jsx("p",{className:"text-xs text-surface-400",children:"MP3, WAV, M4A, AAC (including Voice Memos) • 2-20 tracks • Max 500MB each"})]}),u.jsx("input",{id:"catalog-upload",type:"file",className:"hidden",accept:"audio/*,.mp3,.wav,.m4a,.aac,.ogg,.flac,.wma",multiple:!0,onChange:y})]})}):u.jsxs("div",{children:[u.jsxs("div",{className:`mb-4 p-4 rounded-lg border ${h?"bg-green-500/10 border-green-500/30":"bg-yellow-500/10 border-yellow-500/30"}`,children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"flex items-center gap-2",children:h?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-green-400 text-lg",children:"✓"}),u.jsx("span",{className:"text-sm font-medium text-green-300",children:"Spotify Connected"})]}):u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-yellow-400 text-lg",children:"⚠"}),u.jsx("span",{className:"text-sm font-medium text-yellow-300",children:"Spotify Not Connected"})]})}),h?u.jsx("button",{onClick:b,className:"text-xs text-red-300 hover:text-red-200 underline",children:"Disconnect"}):u.jsx("button",{onClick:S,disabled:_,className:"px-4 py-1.5 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white text-xs font-medium rounded transition-colors",children:_?"Connecting...":"Connect Spotify"})]}),!h&&u.jsx("p",{className:"text-xs text-yellow-200 mt-2",children:"Connect your Spotify account to import playlists directly"})]}),u.jsxs("div",{className:"mb-3",children:[u.jsx("label",{className:"block text-sm text-surface-300 mb-2",children:"Playlist/Album URL"}),u.jsx("input",{type:"text",value:d,onChange:A=>p(A.target.value),placeholder:"https://open.spotify.com/playlist/... (Samply: use Upload Files method)",className:"w-full rounded-lg bg-surface-700/50 px-4 py-3 text-surface-100 placeholder-surface-500 focus:ring-2 focus:ring-primary-500 transition-colors"})]}),u.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 mb-3",children:[u.jsx("div",{className:"text-xs font-medium text-blue-300 mb-2",children:"✨ Supported Platforms"}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2 text-xs text-blue-200",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{children:"🎵"})," Spotify ",h&&u.jsx("span",{className:"text-green-400",children:"✓"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{children:"🎹"})," Samply ",u.jsx("span",{className:"text-blue-300",children:"(Upload)"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{children:"🎸"})," Bandcamp ",u.jsx("span",{className:"text-yellow-300",children:"(Soon)"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{children:"☁️"})," SoundCloud ",u.jsx("span",{className:"text-yellow-300",children:"(Soon)"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("span",{children:"🍎"})," Apple Music ",u.jsx("span",{className:"text-yellow-300",children:"(Soon)"})]})]}),h?u.jsx("p",{className:"text-xs text-green-300 mt-2",children:'✓ Spotify connected! For Samply tracks, download them and use "Upload Files" method.'}):u.jsx("p",{className:"text-xs text-blue-300 mt-2",children:'💡 Pro Tip: For Samply tracks, download them from Samply.app and use "Upload Files" method for the best analysis. Connect Spotify for direct streaming imports.'})]}),u.jsx("button",{onClick:P,disabled:i||!d.trim()||!h&&d.toLowerCase().includes("spotify"),className:"w-full py-3 px-4 bg-primary-500 hover:bg-primary-600 disabled:bg-surface-700 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-colors",children:i?"🔄 Importing...":"🔗 Import from URL"})]}),t.length>0&&u.jsxs("div",{className:"mt-4 space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"text-sm text-surface-300",children:[t.length," track",t.length>1?"s":""," uploaded"]}),u.jsx("button",{onClick:O,className:"text-xs text-red-400 hover:text-red-300",children:"Clear all"})]}),u.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:t.map((A,C)=>u.jsxs("div",{className:"flex items-center justify-between bg-surface-700/30 rounded px-3 py-2",children:[u.jsxs("span",{className:"text-xs text-surface-200 flex items-center gap-2",children:[u.jsxs("span",{className:"text-surface-500",children:["#",C+1]}),A.name]}),u.jsx("button",{onClick:()=>j(A.id),className:"text-surface-400 hover:text-red-400",children:u.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},A.id))})]}),l&&u.jsx("div",{className:"mt-4 p-3 bg-red-500/10 border border-red-500/50 rounded-lg",children:u.jsx("p",{className:"text-sm text-red-200",children:l})}),m==="upload"&&u.jsx("button",{onClick:k,disabled:i||t.length<2,className:"mt-4 w-full py-3 px-4 bg-primary-500 hover:bg-primary-600 disabled:bg-surface-700 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-colors",children:i?"🔄 Analyzing Catalog...":`📊 Analyze ${t.length} Track${t.length>1?"s":""}`})]}),s&&u.jsxs(u.Fragment,{children:[u.jsxs("section",{className:"rounded-2xl border border-surface-700 bg-surface-800/80 p-6 backdrop-blur",children:[u.jsx("h3",{className:"text-lg font-semibold text-primary-100 mb-4",children:"Catalog Overview"}),u.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-surface-700/30 rounded-lg p-4",children:[u.jsx("div",{className:"text-xs text-surface-400 mb-1",children:"Average Score"}),u.jsx("div",{className:`text-3xl font-bold ${T(s.average_score)}`,children:s.average_score})]}),u.jsxs("div",{className:"bg-surface-700/30 rounded-lg p-4",children:[u.jsx("div",{className:"text-xs text-surface-400 mb-1",children:"Quality Trend"}),u.jsx("div",{className:`text-lg font-semibold ${s.score_trend==="improving"?"text-green-400":s.score_trend==="declining"?"text-red-400":"text-yellow-400"}`,children:s.score_trend==="improving"?"📈 Improving":s.score_trend==="declining"?"📉 Declining":"→ Stable"})]}),u.jsxs("div",{className:"bg-surface-700/30 rounded-lg p-4",children:[u.jsx("div",{className:"text-xs text-surface-400 mb-1",children:"Genre Consistency"}),u.jsxs("div",{className:"text-lg font-semibold text-surface-200",children:[s.genre_consistency.consistency_score,"%"]}),u.jsx("div",{className:"text-xs text-surface-400 mt-1",children:s.genre_consistency.primary_genre})]}),u.jsxs("div",{className:"bg-surface-700/30 rounded-lg p-4",children:[u.jsx("div",{className:"text-xs text-surface-400 mb-1",children:"Sonic Identity"}),u.jsxs("div",{className:"text-lg font-semibold text-surface-200",children:[s.sonic_identity.consistency_score,"%"]}),u.jsx("div",{className:"text-xs text-surface-400 mt-1",children:"Consistency"})]})]})]}),u.jsxs("section",{className:"rounded-2xl border border-surface-700 bg-surface-800/80 p-6 backdrop-blur",children:[u.jsx("h3",{className:"text-lg font-semibold text-primary-100 mb-4",children:"Quality Over Time"}),u.jsx(Os,{width:"100%",height:300,children:u.jsxs(vy,{data:$B(s.tracks),children:[u.jsx($i,{strokeDasharray:"3 3",stroke:"#374151"}),u.jsx(or,{dataKey:"track_name",stroke:"#9CA3AF",style:{fontSize:"12px"}}),u.jsx(sr,{stroke:"#9CA3AF",domain:[0,100]}),u.jsx(Ve,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px"},labelStyle:{color:"#E5E7EB"}}),u.jsx(Jt,{}),u.jsx(vt,{type:"monotone",dataKey:"overall_score",stroke:"#8B5CF6",strokeWidth:2,name:"Overall Score"}),u.jsx(vt,{type:"monotone",dataKey:"loudness",stroke:"#10B981",strokeWidth:1.5,name:"Loudness"}),u.jsx(vt,{type:"monotone",dataKey:"dynamics",stroke:"#F59E0B",strokeWidth:1.5,name:"Dynamics"}),u.jsx(vt,{type:"monotone",dataKey:"frequency_balance",stroke:"#3B82F6",strokeWidth:1.5,name:"Frequency"})]})})]}),s.insights.length>0&&u.jsxs("section",{className:"rounded-2xl border border-blue-700/50 bg-blue-900/20 p-6 backdrop-blur",children:[u.jsx("h3",{className:"text-lg font-semibold text-blue-100 mb-4",children:"💡 Key Insights"}),u.jsx("div",{className:"space-y-3",children:s.insights.map((A,C)=>u.jsx("div",{className:"bg-surface-800/50 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-lg",children:A.type==="strength"?"✅":A.type==="weakness"?"⚠️":A.type==="opportunity"?"💡":"📊"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"text-sm font-semibold text-surface-100 mb-1",children:A.title}),u.jsx("p",{className:"text-sm text-surface-300",children:A.description}),A.tracks_affected&&A.tracks_affected.length>0&&u.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:A.tracks_affected.map(R=>u.jsx("span",{className:"text-xs bg-surface-700/50 text-surface-400 px-2 py-1 rounded",children:R},R))})]})]})},C))})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[u.jsxs("section",{className:"rounded-2xl border border-green-700/50 bg-green-900/20 p-6 backdrop-blur",children:[u.jsx("h3",{className:"text-lg font-semibold text-green-100 mb-4",children:"🏆 Best Performing Track"}),u.jsxs("div",{className:"bg-surface-800/50 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h4",{className:"text-md font-semibold text-surface-100",children:s.best_performing_track.name}),u.jsx("span",{className:`text-2xl font-bold ${T(s.best_performing_track.score)}`,children:s.best_performing_track.score})]}),u.jsx("div",{className:"space-y-1",children:s.best_performing_track.strengths.slice(0,3).map((A,C)=>u.jsxs("div",{className:"text-sm text-green-200",children:["✓ ",A]},C))})]})]}),u.jsxs("section",{className:"rounded-2xl border border-orange-700/50 bg-orange-900/20 p-6 backdrop-blur",children:[u.jsx("h3",{className:"text-lg font-semibold text-orange-100 mb-4",children:"📝 Needs Improvement"}),u.jsx("div",{className:"space-y-2",children:s.needs_improvement.map((A,C)=>u.jsxs("div",{className:"bg-surface-800/50 rounded-lg p-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("span",{className:"text-sm font-medium text-surface-200",children:A.name}),u.jsx("span",{className:`text-lg font-bold ${T(A.score)}`,children:A.score})]}),u.jsx("div",{className:"text-xs text-surface-400",children:A.issues.slice(0,2).join(", ")})]},C))})]})]}),u.jsxs("section",{className:"rounded-2xl border border-purple-700/50 bg-purple-900/20 p-6 backdrop-blur",children:[u.jsx("h3",{className:"text-lg font-semibold text-purple-100 mb-4",children:"🎯 Recommendations"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-semibold text-purple-200 mb-2",children:"Overall Strategy"}),u.jsx("div",{className:"space-y-2",children:s.overall_recommendations.map((A,C)=>u.jsxs("div",{className:"flex items-start gap-2 text-sm text-surface-300",children:[u.jsx("span",{className:"text-purple-400 mt-0.5",children:"→"}),u.jsx("span",{children:A})]},C))})]}),u.jsxs("div",{className:"border-t border-surface-700 pt-4",children:[u.jsx("h4",{className:"text-sm font-semibold text-purple-200 mb-2",children:"Next Release Guidance"}),u.jsx("div",{className:"space-y-2",children:s.next_release_guidance.map((A,C)=>u.jsxs("div",{className:"flex items-start gap-2 text-sm text-surface-300",children:[u.jsx("span",{className:"text-blue-400 mt-0.5",children:"💡"}),u.jsx("span",{children:A})]},C))})]})]})]})]})]})}function FB({onStart:e,onSkip:t,hasExistingData:r}){return u.jsx("div",{className:"min-h-[80vh] flex items-center justify-center p-6",children:u.jsxs("div",{className:"max-w-3xl w-full",children:[u.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-surface-700 banner-studio p-8 md:p-12 shadow-2xl",children:[u.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 bg-gradient-to-b from-surface-900/40 via-transparent to-surface-900/40"}),u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br from-primary-500 to-primary-600 mb-6 shadow-lg",children:u.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),u.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-surface-50 mb-4",children:"Artist Roadmap PRO"}),u.jsx("p",{className:"text-lg text-surface-300 max-w-2xl mx-auto",children:"Professional A&R platform for data-driven artist development and strategic release planning"})]}),u.jsxs("div",{className:"mb-10",children:[u.jsx("h2",{className:"text-xl font-semibold text-primary-300 mb-6 text-center",children:"Artist Development Workflow"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex gap-4 p-5 rounded-xl bg-surface-800/50 border border-surface-700 hover:border-primary-600/50 transition-colors",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"w-12 h-12 rounded-full bg-primary-600/20 border-2 border-primary-600 flex items-center justify-center",children:u.jsx("span",{className:"text-xl font-bold text-primary-400",children:"1"})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-lg font-semibold text-surface-100 mb-2",children:"Baseline Assessment"}),u.jsx("p",{className:"text-surface-400 text-sm leading-relaxed",children:"Analyze artist catalog with objective metrics. Spotify integration or direct upload provides quality scores, consistency analysis, sonic identity, and trend detection. Establish data-driven baseline."}),u.jsxs("div",{className:"mt-3 flex gap-2 text-xs",children:[u.jsx("span",{className:"px-2 py-1 rounded bg-primary-600/20 text-primary-300",children:"Quality Metrics"}),u.jsx("span",{className:"px-2 py-1 rounded bg-primary-600/20 text-primary-300",children:"Consistency Scoring"}),u.jsx("span",{className:"px-2 py-1 rounded bg-primary-600/20 text-primary-300",children:"Trend Analysis"})]})]})]}),u.jsxs("div",{className:"flex gap-4 p-5 rounded-xl bg-surface-800/50 border border-surface-700 hover:border-accent-600/50 transition-colors",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"w-12 h-12 rounded-full bg-accent-600/20 border-2 border-accent-600 flex items-center justify-center",children:u.jsx("span",{className:"text-xl font-bold text-accent-400",children:"2"})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-lg font-semibold text-surface-100 mb-2",children:"Strategic Planning"}),u.jsx("p",{className:"text-surface-400 text-sm leading-relaxed",children:"Define release strategy based on catalog data. AI assistant guides format selection (EP/Album/Singles), timeline planning, budget allocation, and goal setting. Evidence-based recommendations."}),u.jsxs("div",{className:"mt-3 flex gap-2 text-xs",children:[u.jsx("span",{className:"px-2 py-1 rounded bg-accent-600/20 text-accent-300",children:"Format Selection"}),u.jsx("span",{className:"px-2 py-1 rounded bg-accent-600/20 text-accent-300",children:"Timeline Planning"}),u.jsx("span",{className:"px-2 py-1 rounded bg-accent-600/20 text-accent-300",children:"Budget Modeling"})]})]})]}),u.jsxs("div",{className:"flex gap-4 p-5 rounded-xl bg-surface-800/50 border border-surface-700 hover:border-green-600/50 transition-colors",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"w-12 h-12 rounded-full bg-green-600/20 border-2 border-green-600 flex items-center justify-center",children:u.jsx("span",{className:"text-xl font-bold text-green-400",children:"3"})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-lg font-semibold text-surface-100 mb-2",children:"Roadmap Generation"}),u.jsx("p",{className:"text-surface-400 text-sm leading-relaxed",children:"System generates comprehensive roadmap from catalog + planning data. Includes realistic timelines, budget estimates by phase, task management, and grant opportunities. Fully customizable post-generation."}),u.jsxs("div",{className:"mt-3 flex gap-2 text-xs",children:[u.jsx("span",{className:"px-2 py-1 rounded bg-green-600/20 text-green-300",children:"Phase Planning"}),u.jsx("span",{className:"px-2 py-1 rounded bg-green-600/20 text-green-300",children:"Budget Breakdown"}),u.jsx("span",{className:"px-2 py-1 rounded bg-green-600/20 text-green-300",children:"Grant Matching"})]})]})]})]})]}),u.jsxs("div",{className:"mb-8 p-6 rounded-xl bg-primary-600/10 border border-primary-600/30",children:[u.jsx("h3",{className:"text-lg font-semibold text-primary-200 mb-3",children:"Evidence-Based Artist Development"}),u.jsxs("p",{className:"text-surface-300 text-sm leading-relaxed",children:["Traditional A&R relies on subjective assessment and generic templates. This platform provides",u.jsx("strong",{children:" objective catalog metrics first"}),", then builds custom strategies based on actual data. Results: More accurate artist positioning, realistic timelines, better resource allocation, and higher probability of successful launches."]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-center",children:[u.jsx("button",{onClick:e,className:"group w-full sm:w-auto px-8 py-4 bg-gradient-to-r from-primary-600 to-primary-500 hover:from-primary-500 hover:to-primary-400 text-surface-50 rounded-xl font-semibold text-lg transition-all shadow-lg hover:shadow-primary-500/50 hover:scale-105",children:u.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Begin Artist Assessment",u.jsx("svg",{className:"w-5 h-5 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})}),r&&u.jsx("button",{onClick:t,className:"w-full sm:w-auto px-6 py-4 border border-surface-600 hover:border-surface-500 text-surface-300 hover:text-surface-200 rounded-xl text-sm transition-colors",children:"Skip to Existing Data"})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-xs text-surface-500",children:[u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsx("span",{children:"⏱️"})," Takes about 5-10 minutes"]})," • ",u.jsx("span",{children:"Your data is saved automatically"})]})})]}),u.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[u.jsxs("div",{className:"relative overflow-hidden p-4 rounded-xl border border-surface-700/50 banner-studio",children:[u.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 bg-gradient-to-b from-surface-900/30 via-transparent to-surface-900/30"}),u.jsxs("div",{className:"relative flex flex-col items-center",children:[u.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary-600/20 flex items-center justify-center mb-2",children:u.jsx("svg",{className:"w-5 h-5 text-primary-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6l4 2"})})}),u.jsx("div",{className:"text-sm font-medium text-surface-200 mb-1",children:"Data-Driven"}),u.jsx("div",{className:"text-xs text-surface-400",children:"Decisions based on real analysis"})]})]}),u.jsxs("div",{className:"relative overflow-hidden p-4 rounded-xl border border-surface-700/50 banner-studio",children:[u.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 bg-gradient-to-b from-surface-900/30 via-transparent to-surface-900/30"}),u.jsxs("div",{className:"relative flex flex-col items-center",children:[u.jsx("div",{className:"w-10 h-10 rounded-lg bg-accent-600/20 flex items-center justify-center mb-2",children:u.jsx("svg",{className:"w-5 h-5 text-accent-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-4.197-2.42A1 1 0 009 9.618v4.764a1 1 0 001.555.832l4.197-2.42a1 1 0 000-1.726z"})})}),u.jsx("div",{className:"text-sm font-medium text-surface-200 mb-1",children:"AI-Powered"}),u.jsx("div",{className:"text-xs text-surface-400",children:"Smart recommendations for your stage"})]})]}),u.jsxs("div",{className:"relative overflow-hidden p-4 rounded-xl border border-surface-700/50 banner-studio",children:[u.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 bg-gradient-to-b from-surface-900/30 via-transparent to-surface-900/30"}),u.jsxs("div",{className:"relative flex flex-col items-center",children:[u.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-600/20 flex items-center justify-center mb-2",children:u.jsx("svg",{className:"w-5 h-5 text-green-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),u.jsx("div",{className:"text-sm font-medium text-surface-200 mb-1",children:"Auto-Saved"}),u.jsx("div",{className:"text-xs text-surface-400",children:"Never lose your progress"})]})]})]})]})})}function zB({catalogAnalysisData:e,roadmapGenerated:t,projectType:r,projectUnits:n,savedGrantsCount:a,applicationsCount:i,onContinue:o,onReAnalyze:s,onViewRoadmap:c,onViewGrants:l}){const f=()=>{const d=new Date().getHours();return d<12?"Good morning":d<18?"Good afternoon":"Good evening"};return u.jsx("div",{className:"min-h-[80vh] flex items-center justify-center p-6",children:u.jsxs("div",{className:"max-w-5xl w-full",children:[u.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-surface-700 p-6 mb-8 banner-studio text-center",children:[u.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 bg-gradient-to-r from-surface-900/50 via-surface-900/30 to-transparent"}),u.jsxs("div",{className:"relative",children:[u.jsx("h1",{className:"text-4xl font-bold text-surface-50 mb-2",children:f()}),u.jsx("p",{className:"text-sm text-surface-300",children:"Artist Development Session"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[u.jsxs("div",{className:"rounded-2xl border border-surface-700 bg-surface-800/50 p-6 backdrop-blur",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-surface-400 mb-1",children:"Catalog Analysis"}),u.jsx("div",{className:"text-2xl font-bold text-surface-50",children:e?u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-green-400",children:"✓"}),e.total_tracks," tracks"]}):u.jsx("span",{className:"text-surface-500",children:"Not yet"})})]}),u.jsx("div",{className:"w-12 h-12 rounded-full bg-primary-600/20 flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-primary-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]}),e&&u.jsxs("div",{className:"space-y-1 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-surface-400",children:"Avg Score:"}),u.jsxs("span",{className:"text-surface-200 font-medium",children:[e.average_score.toFixed(0),"/100"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-surface-400",children:"Consistency:"}),u.jsxs("span",{className:"text-surface-200 font-medium",children:[e.sonic_identity.consistency_score.toFixed(0),"%"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-surface-400",children:"Trend:"}),u.jsx("span",{className:`font-medium ${e.score_trend==="improving"?"text-green-400":e.score_trend==="declining"?"text-orange-400":"text-surface-300"}`,children:e.score_trend==="improving"?"↗ Improving":e.score_trend==="declining"?"↘ Declining":"→ Stable"})]})]})]}),u.jsxs("div",{className:"rounded-2xl border border-surface-700 bg-surface-800/50 p-6 backdrop-blur",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-surface-400 mb-1",children:"Project Roadmap"}),u.jsx("div",{className:"text-2xl font-bold text-surface-50",children:t?u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-green-400",children:"✓"}),r]}):u.jsx("span",{className:"text-surface-500",children:"Not set"})})]}),u.jsx("div",{className:"w-12 h-12 rounded-full bg-accent-600/20 flex items-center justify-center",children:u.jsx("span",{className:"text-2xl",children:"📋"})})]}),t&&u.jsxs("div",{className:"space-y-1 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-surface-400",children:"Tracks:"}),u.jsx("span",{className:"text-surface-200 font-medium",children:n})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-surface-400",children:"Status:"}),u.jsx("span",{className:"text-accent-300 font-medium",children:"In Progress"})]})]})]}),u.jsxs("div",{className:"rounded-2xl border border-surface-700 bg-surface-800/50 p-6 backdrop-blur",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm text-surface-400 mb-1",children:"Grant Opportunities"}),u.jsx("div",{className:"text-2xl font-bold text-surface-50",children:a>0?u.jsxs("span",{className:"flex items-center gap-2",children:[a," saved"]}):u.jsx("span",{className:"text-surface-500",children:"Explore"})})]}),u.jsx("div",{className:"w-12 h-12 rounded-full bg-green-600/20 flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),u.jsxs("div",{className:"space-y-1 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-surface-400",children:"Applications:"}),u.jsx("span",{className:"text-surface-200 font-medium",children:i})]}),a>0&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-surface-400",children:"Status:"}),u.jsx("span",{className:"text-green-300 font-medium",children:"Active"})]})]})]})]}),u.jsxs("div",{className:"rounded-2xl border border-surface-700 bg-surface-800/50 p-8 backdrop-blur mb-6",children:[u.jsx("h2",{className:"text-xl font-semibold text-surface-100 mb-6",children:"Actions"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("button",{onClick:o,className:"group p-6 rounded-xl border-2 border-primary-600 bg-primary-600/10 hover:bg-primary-600/20 transition-all text-left",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-primary-600/30 flex items-center justify-center",children:u.jsx("svg",{className:"w-6 h-6 text-primary-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 9l3 3m0 0l-3 3m3-3H8m13 0a9 9 0 11-18 0 9 9 0 0118 0z"})})}),u.jsx("div",{className:"text-xs px-2 py-1 rounded bg-primary-600/30 text-primary-200",children:"Resume"})]}),u.jsx("h3",{className:"text-lg font-semibold text-surface-100 mb-2 group-hover:text-primary-200 transition-colors",children:"Continue Session"}),u.jsx("p",{className:"text-sm text-surface-400",children:"Resume artist development planning from last checkpoint"})]}),u.jsxs("button",{onClick:c,className:"group p-6 rounded-xl border border-surface-600 hover:border-accent-600 bg-surface-800/30 hover:bg-accent-600/10 transition-all text-left",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-accent-600/20 flex items-center justify-center mb-3",children:u.jsx("svg",{className:"w-6 h-6 text-accent-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),u.jsx("h3",{className:"text-lg font-semibold text-surface-100 mb-2 group-hover:text-accent-200 transition-colors",children:t?"View Roadmap":"Generate Roadmap"}),u.jsx("p",{className:"text-sm text-surface-400",children:t?"Review timeline, budget, and tasks":"Start planning your next release"})]}),u.jsxs("button",{onClick:s,className:"group p-6 rounded-xl border border-surface-600 hover:border-primary-600 bg-surface-800/30 hover:bg-primary-600/10 transition-all text-left",children:[u.jsx("div",{className:"text-3xl mb-3",children:"🔄"}),u.jsx("h3",{className:"text-lg font-semibold text-surface-100 mb-2 group-hover:text-primary-200 transition-colors",children:e?"Update Catalog Analysis":"Analyze Your Catalog"}),u.jsx("p",{className:"text-sm text-surface-400",children:e?"Add new tracks or refresh your analysis":"Upload tracks to get data-driven insights"})]}),u.jsxs("button",{onClick:l,className:"group p-6 rounded-xl border border-surface-600 hover:border-green-600 bg-surface-800/30 hover:bg-green-600/10 transition-all text-left",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-green-600/20 flex items-center justify-center mb-3",children:u.jsx("svg",{className:"w-6 h-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),u.jsx("h3",{className:"text-lg font-semibold text-surface-100 mb-2 group-hover:text-green-200 transition-colors",children:"Explore Grant Opportunities"}),u.jsx("p",{className:"text-sm text-surface-400",children:a>0?`${a} saved funding opportunities`:"Identify funding opportunities for artist development"})]})]})]}),u.jsx("div",{className:"text-center",children:u.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-surface-800/50 border border-surface-700 text-sm text-surface-400",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),u.jsx("span",{children:"All data is automatically saved. Resume artist development planning anytime."})]})})]})})}const qB=[{id:"the-weeknd",name:"The Weeknd",personality:{experimentalness:.8,genreFluidity:.9,productionStyle:.9,workflowPreference:.7,performanceEnergy:.8,collaborationStyle:.6,commercialAppeal:.9,audienceConnection:.8,emotionalDepth:.9,artisticIntensity:.9},maturity:{creative:"Innovating",technical:"Established",business:"Transforming",audience:"Transforming",brand:"Transforming"},sonics:{danceability:.8,energy:.7,valence:.4,instrumentalness:.1,acousticness:.2,speechiness:.1,tempo:.6,complexity:.8,dynamics:.7,textureDepth:.9},primaryGenres:["R&B","Pop"],secondaryGenres:["New Wave","Dance","Alternative"],keyInfluences:["Michael Jackson","Prince","Depeche Mode"],targetAudience:{demographics:["18-34","Urban","Global"],psychographics:["Trend-conscious","Night life","Fashion-forward"],platforms:["Spotify","TikTok","Instagram","YouTube"]}},{id:"taylor-swift",name:"Taylor Swift",personality:{experimentalness:.7,genreFluidity:.8,productionStyle:.9,workflowPreference:.9,performanceEnergy:.8,collaborationStyle:.7,commercialAppeal:1,audienceConnection:1,emotionalDepth:.9,artisticIntensity:.8},maturity:{creative:"Transforming",technical:"Established",business:"Transforming",audience:"Transforming",brand:"Transforming"},sonics:{danceability:.7,energy:.6,valence:.6,instrumentalness:.1,acousticness:.4,speechiness:.2,tempo:.6,complexity:.7,dynamics:.8,textureDepth:.8},primaryGenres:["Pop","Country Pop"],secondaryGenres:["Folk","Alternative","Rock"],keyInfluences:["Shania Twain","Stevie Nicks","Paul McCartney"],targetAudience:{demographics:["13-34","Female-leaning","Global"],psychographics:["Story-focused","Relationship-oriented","Personal growth"],platforms:["Spotify","Instagram","TikTok","YouTube"]}},{id:"kendrick-lamar",name:"Kendrick Lamar",personality:{experimentalness:.9,genreFluidity:.8,productionStyle:.9,workflowPreference:.8,performanceEnergy:.9,collaborationStyle:.7,commercialAppeal:.8,audienceConnection:.9,emotionalDepth:1,artisticIntensity:1},maturity:{creative:"Transforming",technical:"Innovating",business:"Established",audience:"Transforming",brand:"Transforming"},sonics:{danceability:.6,energy:.8,valence:.4,instrumentalness:.2,acousticness:.3,speechiness:.9,tempo:.7,complexity:1,dynamics:.9,textureDepth:.9},primaryGenres:["Hip Hop","Conscious Rap"],secondaryGenres:["Jazz Rap","West Coast Hip Hop","Soul"],keyInfluences:["Tupac","Eminem","Andre 3000"],targetAudience:{demographics:["16-35","Urban","Global"],psychographics:["Socially conscious","Lyric-focused","Cultural"],platforms:["Spotify","YouTube","Twitter"]}}],_y={experimentalness:{high:["experiment","innovative","unique","different","new","boundary","push"],low:["traditional","classic","proven","established","conventional"]},genreFluidity:{high:["blend","mix","fusion","cross-genre","diverse"],low:["pure","authentic","traditional","classic"]},productionStyle:{high:["polished","pristine","clean","refined","detailed"],low:["raw","rough","natural","organic","unfiltered"]},workflowPreference:{high:["structured","organized","planned","methodical"],low:["spontaneous","freestyle","improvised","organic"]},performanceEnergy:{high:["energetic","powerful","intense","dynamic","explosive"],low:["subtle","gentle","soft","delicate","understated"]},collaborationStyle:{high:["collaborative","team","together","collective","band"],low:["solo","independent","alone","personal"]},commercialAppeal:{high:["mainstream","popular","accessible","universal","broad"],low:["underground","alternative","niche","experimental"]},audienceConnection:{high:["interactive","engaging","connecting","community"],low:["introspective","personal","private","intimate"]},emotionalDepth:{high:["deep","emotional","intense","passionate","raw"],low:["light","fun","playful","casual","simple"]},artisticIntensity:{high:["focused","dedicated","serious","committed","driven"],low:["relaxed","casual","easy-going","flexible"]}},jy={danceability:{high:["dance","groove","rhythm","beat","movement"],low:["ambient","atmospheric","floating","abstract"]},energy:{high:["energetic","powerful","intense","driving","strong"],low:["calm","gentle","soft","mellow","subtle"]},valence:{high:["happy","uplifting","positive","bright","joyful"],low:["dark","moody","melancholic","sad","somber"]},instrumentalness:{high:["instrumental","orchestral","symphonic","acoustic"],low:["vocal","lyrics","singing","voice"]},acousticness:{high:["acoustic","unplugged","organic","natural"],low:["electronic","digital","synthetic","processed"]},speechiness:{high:["rap","spoken","words","lyrical","poetry"],low:["melodic","singing","instrumental","humming"]},tempo:{high:["fast","quick","uptempo","rapid","energetic"],low:["slow","downtempo","relaxed","steady"]},complexity:{high:["complex","intricate","layered","sophisticated"],low:["simple","minimal","straightforward","basic"]},dynamics:{high:["dynamic","contrast","varied","range"],low:["consistent","steady","even","stable"]},textureDepth:{high:["rich","dense","layered","textured","full"],low:["minimal","sparse","simple","clean"]}};function kp(e){const t={personality:{},sonics:{}};return e=e.toLowerCase(),Object.entries(_y).forEach(([r,n])=>{const a=r,i=n.high.filter(s=>e.includes(s)).length,o=n.low.filter(s=>e.includes(s)).length;if(i>0||o>0){const s=(i-o+n.high.length)/(n.high.length*2);t.personality[a]=s}}),Object.entries(jy).forEach(([r,n])=>{const a=r,i=n.high.filter(s=>e.includes(s)).length,o=n.low.filter(s=>e.includes(s)).length;if(i>0||o>0){const s=(i-o+n.high.length)/(n.high.length*2);t.sonics[a]=s}}),t}function WB(e){return qB.map(r=>{let n=0,a=0;Object.entries(e.personality).forEach(([o,s])=>{const c=o;r.personality[c]&&(n+=1-Math.abs(r.personality[c]-s),a++)}),Object.entries(e.sonics).forEach(([o,s])=>{const c=o;r.sonics[c]&&(n+=1-Math.abs(r.sonics[c]-s),a++)});const i=a>0?n/a:0;return{artist:r,score:i}}).sort((r,n)=>n.score-r.score).map(r=>r.artist).slice(0,3)}function Cp(e){const t=Object.entries(_y).filter(([n])=>!e.personality[n]).map(([n])=>`Tell me more about your ${n}...`),r=Object.entries(jy).filter(([n])=>!e.sonics[n]).map(([n])=>`How ${n} is your music?`);return[...t,...r]}function UB(e,t,r){const a=t.filter(f=>f.type==="user").map(f=>f.content).join(" ").toLowerCase(),i={tempo_bpm:GB(e.sonics),danceability:e.sonics.danceability||.5,energy:e.sonics.energy||.5,valence:e.sonics.valence||.5,acousticness:e.sonics.acousticness,instrumentalness:e.sonics.instrumentalness,speechiness:e.sonics.speechiness,vocal_prominence:HB(a)},o={positioning:KB(e,a),themes:VB(a),audience_problem_solved:YB(a)},s={artist_name:(r==null?void 0:r.artistName)||"",primary_genres:XB(a),home_market:(r==null?void 0:r.city)||"",subgenres_tags:ZB(a)},c={vision_statement:JB(a),time_horizon_months:12,success_kpis:QB(a)},l={reference_artists:e6(a),adjacency_focus:t6(e)};return{identity:s,goals:c,influences:l,audio_profile:i,brand_narrative:o,catalog_plan:{planned_releases:4,collaboration_ratio:.3},release_strategy:{cadence_weeks:8,pre_save_push_days:14}}}function GB(e){return e.tempo?e.tempo*200:e.energy>.7?120:e.energy<.3?80:100}function HB(e){const t=["vocals","singing","voice","lyrics","storytelling"],r=["instrumental","beat","production","synth"],n=t.filter(i=>e.includes(i)).length,a=r.filter(i=>e.includes(i)).length;return Math.min(1,Math.max(0,(n-a+3)/6))}function KB(e,t){const r=Object.keys(e.personality),n=Object.keys(e.sonics);let a="";return r.includes("emotionalDepth")&&(a+="emotional "),n.includes("danceability")&&e.sonics.danceability>.6&&(a+="danceable "),n.includes("energy")&&e.sonics.energy>.7&&(a+="energetic "),(t.includes("atmospheric")||t.includes("dreamy"))&&(a+="atmospheric "),a.trim()+" artist with authentic storytelling"}function VB(e){const t=[];return(e.includes("love")||e.includes("relationship"))&&t.push("Love & Relationships"),(e.includes("empowerment")||e.includes("strength"))&&t.push("Empowerment"),(e.includes("story")||e.includes("personal"))&&t.push("Personal Storytelling"),(e.includes("social")||e.includes("change"))&&t.push("Social Commentary"),(e.includes("healing")||e.includes("uplift"))&&t.push("Healing & Wellness"),(e.includes("fun")||e.includes("party"))&&t.push("Celebration & Joy"),t.length>0?t:["Authentic Expression"]}function YB(e){return e.includes("healing")||e.includes("comfort")?"Seeking emotional healing and comfort":e.includes("empowerment")||e.includes("strength")?"Need for empowerment and self-confidence":e.includes("dance")||e.includes("energy")?"Desire for uplifting, energetic experiences":e.includes("story")||e.includes("connection")?"Craving authentic connection and relatability":"Seeking authentic artistic expression and emotional connection"}function XB(e){const t=[];return(e.includes("r&b")||e.includes("soul"))&&t.push("R&B","Soul"),e.includes("pop")&&t.push("Pop"),(e.includes("hip hop")||e.includes("rap"))&&t.push("Hip Hop"),(e.includes("electronic")||e.includes("synth"))&&t.push("Electronic"),e.includes("dance")&&t.push("Dance"),(e.includes("indie")||e.includes("alternative"))&&t.push("Indie","Alternative"),e.includes("folk")&&t.push("Other"),e.includes("jazz")&&t.push("Jazz"),e.includes("gospel")&&t.push("Gospel"),t.length>0?[...new Set(t)]:["Pop"]}function ZB(e){const t=[];return e.includes("neo-soul")&&t.push("Neo-Soul"),e.includes("alternative r&b")&&t.push("Alternative R&B"),e.includes("bedroom pop")&&t.push("Bedroom Pop"),e.includes("indie pop")&&t.push("Indie Pop"),e.includes("dream pop")&&t.push("Dream Pop"),e.includes("afrobeats")&&t.push("Afrobeats"),e.includes("contemporary")&&t.push("Contemporary"),t}function JB(e){const t=["want to","hope to","dream","vision","goal","aspire"],r=e.split(/[.!?]+/);for(const n of r)if(t.some(a=>n.includes(a)))return n.trim();return"Create authentic music that resonates with listeners and builds meaningful connections"}function QB(e){const t=[];return(e.includes("stream")||e.includes("spotify"))&&t.push("MonthlyListeners","StreamsPerRelease"),(e.includes("live")||e.includes("concert")||e.includes("show"))&&t.push("TicketSales"),e.includes("playlist")&&t.push("PlaylistAdds"),(e.includes("social")||e.includes("follow"))&&t.push("SocialFollowers"),(e.includes("sync")||e.includes("tv")||e.includes("film"))&&t.push("SyncPlacements"),e.includes("chart")&&t.push("ChartPosition"),t.length>0?t:["MonthlyListeners","StreamsPerRelease"]}function e6(e){const r=["Beyoncé","SZA","H.E.R.","The Weeknd","Frank Ocean","Solange","Billie Eilish","Lorde","FKA twigs","Jhené Aiko","Summer Walker","Kali Uchis","Daniel Caesar","Tyler Cole","Blood Orange"].filter(n=>e.toLowerCase().includes(n.toLowerCase()));return r.length>0?r:["SZA","H.E.R."]}function t6(e){const t=[];return e.personality.emotionalDepth>.6&&t.push("H.E.R."),e.sonics.danceability>.7&&t.push("Beyoncé"),e.personality.experimentalness>.6&&t.push("FKA twigs"),e.sonics.valence<.4&&t.push("SZA"),t}function Mp(e){var t;return{identity:{artist_name:e.profile.artistName||"",primary_genres:e.profile.genres?e.profile.genres.split(",").map(r=>r.trim()).slice(0,3):["Pop"],home_market:e.profile.city||""},goals:{vision_statement:e.profile.elevatorPitch||"Create authentic music that connects with audiences",time_horizon_months:Math.round(e.project.targetWeeks/4)||12,target_markets:e.project.targetMarkets||[]},influences:{reference_artists:["SZA","H.E.R."]},audio_profile:{tempo_bpm:100,danceability:.5,energy:.5,valence:.5},catalog_plan:{planned_releases:e.project.units||3,collaboration_ratio:.3},release_strategy:{cadence_weeks:Math.round(e.project.targetWeeks/e.project.units)||8,pre_save_push_days:14},brand_narrative:{positioning:e.profile.elevatorPitch||"Authentic artist with unique voice",themes:["Authentic Expression"]},resources:{budget_total_usd:((t=e.budget)==null?void 0:t.reduce((r,n)=>r+n.qty*n.unitCost,0))||0}}}const Sy={"R&B":{audio_feature_targets:{tempo_bpm:[70,110],danceability:[.4,.8],energy:[.3,.7],valence:[.2,.7]},release_cadence_weeks:[6,12],engagement_targets:{skip_rate_pct_max:25,save_rate_pct_min:15},adjacent_artist_clusters:["SZA","H.E.R.","Summer Walker","Jhené Aiko"]},Pop:{audio_feature_targets:{tempo_bpm:[90,130],danceability:[.5,.9],energy:[.5,.9],valence:[.4,.8]},release_cadence_weeks:[4,8],engagement_targets:{skip_rate_pct_max:20,save_rate_pct_min:20},adjacent_artist_clusters:["Dua Lipa","The Weeknd","Billie Eilish","Ariana Grande"]},Soul:{audio_feature_targets:{tempo_bpm:[60,100],danceability:[.3,.7],energy:[.2,.6],valence:[.3,.8]},release_cadence_weeks:[8,16],engagement_targets:{skip_rate_pct_max:20,save_rate_pct_min:25},adjacent_artist_clusters:["Solange","Daniel Caesar","Blood Orange","Frank Ocean"]},"Hip Hop":{audio_feature_targets:{tempo_bpm:[70,140],danceability:[.6,.9],energy:[.6,.9],valence:[.3,.8]},release_cadence_weeks:[2,6],engagement_targets:{skip_rate_pct_max:30,save_rate_pct_min:12},adjacent_artist_clusters:["Drake","Kendrick Lamar","J. Cole","Tyler, The Creator"]},Electronic:{audio_feature_targets:{tempo_bpm:[100,150],danceability:[.7,.95],energy:[.7,.95],valence:[.4,.9]},release_cadence_weeks:[3,8],engagement_targets:{skip_rate_pct_max:25,save_rate_pct_min:18},adjacent_artist_clusters:["FKA twigs","ODESZA","Disclosure","Flume"]},Alternative:{audio_feature_targets:{tempo_bpm:[80,120],danceability:[.3,.7],energy:[.4,.8],valence:[.2,.7]},release_cadence_weeks:[6,12],engagement_targets:{skip_rate_pct_max:22,save_rate_pct_min:22},adjacent_artist_clusters:["Lorde","Phoebe Bridgers","Tame Impala","Glass Animals"]}},Ip=Sy.Pop;function r6(e){if(e.length===0)return Ip;const t=e[0];return Sy[t]||Ip}function n6(e,t){var a,i;let r=0,n=0;if(e.audio_profile&&t.audio_feature_targets){const o=a6(e.audio_profile,t.audio_feature_targets);r+=o*.3,n+=.3}if(e.release_strategy&&t.release_cadence_weeks){const o=i6(e.release_strategy.cadence_weeks,t.release_cadence_weeks)?1:.5;r+=o*.2,n+=.2}if(e.brand_narrative){const o=o6(e.brand_narrative);r+=o*.25,n+=.25}if((a=e.identity)!=null&&a.team||e.resources){const o=s6((i=e.identity)==null?void 0:i.team,e.resources);r+=o*.15,n+=.15}if(e.current_metrics){const o=c6(e.current_metrics);r+=o*.1,n+=.1}return n>0?Math.min(1,r/n):.5}function a6(e,t){let r=0,n=0;for(const[a,i]of Object.entries(t))if(e[a]!==void 0&&Array.isArray(i)){const[o,s]=i,c=e[a];if(c>=o&&c<=s)r+=1;else{const l=Math.min(Math.abs(c-o),Math.abs(c-s)),f=(s-o)*.2;r+=Math.max(0,1-l/f)}n++}return n>0?r/n:.5}function i6(e,t){return e>=t[0]&&e<=t[1]}function o6(e){let t=0;return e.positioning&&e.positioning.length>=10&&(t+=.3),e.themes&&e.themes.length>=2&&(t+=.3),e.audience_problem_solved&&(t+=.2),e.visual_style_tags&&e.visual_style_tags.length>0&&(t+=.2),t}function s6(e,t){let r=0;if(e){const n=Object.values(e).filter(Boolean).length;r+=Math.min(.5,n*.1)}return t!=null&&t.budget_total_usd&&(t.budget_total_usd>=1e4?r+=.3:t.budget_total_usd>=5e3?r+=.2:t.budget_total_usd>=1e3&&(r+=.1)),t!=null&&t.hours_available_per_week&&(t.hours_available_per_week>=20?r+=.2:t.hours_available_per_week>=10&&(r+=.1)),r}function c6(e){let t=0;return e.spotify_monthly_listeners&&(e.spotify_monthly_listeners>=1e4?t+=.4:e.spotify_monthly_listeners>=1e3?t+=.2:e.spotify_monthly_listeners>=100&&(t+=.1)),e.avg_save_rate_pct&&e.avg_save_rate_pct>=15&&(t+=.3),e.avg_skip_rate_pct&&e.avg_skip_rate_pct<=25&&(t+=.3),t}function l6(e,t){var n;const r=[];if(e.audio_profile&&t.audio_feature_targets){const{tempo_bpm:a,danceability:i,energy:o,valence:s}=e.audio_profile,c=t.audio_feature_targets;c.tempo_bpm&&(a<c.tempo_bpm[0]||a>c.tempo_bpm[1])&&r.push(`Consider adjusting tempo to ${c.tempo_bpm[0]}-${c.tempo_bpm[1]} BPM for better genre alignment`),c.danceability&&i<c.danceability[0]&&r.push("Increase danceability with stronger rhythm and groove elements"),c.energy&&o<c.energy[0]&&r.push("Boost energy with dynamic arrangements and compelling hooks")}if(e.release_strategy&&t.release_cadence_weeks){const a=e.release_strategy.cadence_weeks,[i,o]=t.release_cadence_weeks;a>o?r.push(`Release more frequently - aim for every ${o} weeks to maintain momentum`):a<i&&r.push(`Allow more time between releases - ${i} weeks minimum for quality and promotion`)}return e.brand_narrative&&((!e.brand_narrative.themes||e.brand_narrative.themes.length<2)&&r.push("Develop 2-3 core themes to strengthen brand narrative and audience connection"),(!e.brand_narrative.visual_style_tags||e.brand_narrative.visual_style_tags.length===0)&&r.push("Define visual style elements for consistent brand presentation across platforms")),(!((n=e.identity)!=null&&n.team)||Object.values(e.identity.team).filter(Boolean).length<3)&&r.push("Build core team: prioritize producer, mix engineer, and manager relationships"),r}function u6(e){const t=(e.craft+e.catalog+e.brand+e.team+e.audience+e.ops)/6;return t<2?"Emerging":t<3?"Developing":t<4?"Established":"Breakout"}const ka=["Discovery","Pre‑Production","Production","Post‑Production","Release","Growth"],Qo={artistName:"",genres:"",city:"",elevatorPitch:"",stage:"Emerging",stageScores:{craft:2,catalog:2,brand:1,team:1,audience:1,ops:1}},Ut={projectType:"EP",units:3,startWeeks:0,targetWeeks:16,hasGrant:!1,grantAmount:0,targetMarkets:["DSP","TikTok/Shorts","Live","Sync"]},se=()=>Math.random().toString(36).slice(2,9),Dp=e=>e.reduce((t,r)=>t+r,0),Hr=(e,t,r)=>Math.max(t,Math.min(r,e)),Tt=e=>e.toLocaleString(void 0,{style:"currency",currency:"USD",maximumFractionDigits:0}),Rp=e=>{if(e){const t=e.average_score.toFixed(0),r=e.sonic_identity.consistency_score.toFixed(0),n=e.total_tracks,a=e.score_trend==="improving"?"improving":e.score_trend==="declining"?"declining":"stable";return[{id:se(),type:"system",content:`Catalog analysis complete. We've assessed ${n} tracks with an average quality score of ${t}/100 and ${r}% sonic consistency. Quality trend: ${a}.`},{id:se(),type:"system",content:"Let's build a strategic roadmap. Consider: What's the optimal release format given this catalog strength? What timeline aligns with the artist's current momentum? What budget constraints should we account for?"}]}else return[{id:se(),type:"system",content:"Welcome to the Artist Roadmap Builder. This tool helps A&R professionals and label teams create data-driven release strategies for emerging artists."},{id:se(),type:"system",content:"To begin: What's the artist's release format? (EP, Album, Singles) What's their timeline constraint? What are their primary career goals at this stage?"}]};se(),se();const f6=["Planning a 4-5 track EP to showcase the artist's core sound","Considering a full album (10-12 tracks) for comprehensive market positioning","Singles release strategy - one track every 6-8 weeks to build momentum","Mixtape/compilation format for rapid market testing","Artist needs to release within 3-4 months (fast-track timeline)","Standard 6-9 month development cycle for optimal marketing build","Extended 12+ month timeline for maximum quality and positioning","Specific deadline tied to tour, sync opportunity, or label milestone","Working with limited budget ($2-5K total investment)","Mid-tier budget available ($10-20K for professional production)","DIY/lean approach to minimize risk and maximize learning","Need budget recommendations based on industry standards","Priority: Build streaming presence and playlist placement","Focus: Live performance and touring to develop fanbase","Target: Sync licensing opportunities for film/TV placement","Goal: Position artist for label interest and A&R attention"];function Lp(e){const t=e.stageScores;return u6({craft:t.craft,catalog:t.catalog,brand:t.brand,team:t.team,audience:t.audience,ops:t.ops})}function d6(e,t,r){const n={Discovery:1,"Pre‑Production":2,Production:Math.max(2,Math.ceil(r/2)),"Post‑Production":Math.max(2,Math.ceil(r/2)),Release:2,Growth:6},a={Emerging:1.2,Developing:1,Established:.9,Breakout:.8};return Math.max(1,Math.round(n[e]*a[t]))}const bn=e=>[{id:se(),category:"Songwriting",description:"Co‑writing sessions",qty:e,unitCost:300,phase:"Discovery",required:!0},{id:se(),category:"Pre‑Prod",description:"Producer pre‑pro & charts",qty:e,unitCost:250,phase:"Pre‑Production",required:!0},{id:se(),category:"Recording",description:"Studio day rate",qty:Math.ceil(e/2),unitCost:600,phase:"Production",required:!0},{id:se(),category:"Musicians",description:"Session players",qty:e*2,unitCost:200,phase:"Production",required:!1},{id:se(),category:"Mixing",description:"Per song mix",qty:e,unitCost:400,phase:"Post‑Production",required:!0},{id:se(),category:"Mastering",description:"Per song master",qty:e,unitCost:100,phase:"Post‑Production",required:!0},{id:se(),category:"Artwork",description:"Cover + alt assets",qty:1,unitCost:500,phase:"Release",required:!0},{id:se(),category:"Video",description:"Performance/visualizer",qty:1,unitCost:750,phase:"Release",required:!1},{id:se(),category:"PR/Marketing",description:"3‑month sprint",qty:1,unitCost:3e3,phase:"Growth",required:!0},{id:se(),category:"Ads",description:"DSP/social ads",qty:1,unitCost:1500,phase:"Growth",required:!1}],Ca=e=>[{id:se(),phase:"Discovery",title:"Vision & references workshop",owner:"Artist/Producer",weeks:1},{id:se(),phase:"Pre‑Production",title:"Demos & arrangements",owner:"Artist/Producer",weeks:2},{id:se(),phase:"Production",title:`Track ${Math.min(3,e)} songs (core instruments)`,owner:"Producer",weeks:Hr(Math.ceil(e/2),1,4)},{id:se(),phase:"Post‑Production",title:"Edits, mixing, mastering",owner:"Mix/Master",weeks:Hr(Math.ceil(e/1.5),1,4)},{id:se(),phase:"Release",title:"DSP delivery & pre‑save setup",owner:"Mgmt",weeks:1},{id:se(),phase:"Growth",title:"PR, content calendar, ad flights",owner:"Marketing",weeks:4}],Bp=(e,t)=>{let r="EP",n=3,a=16,i="Default configuration for emerging artists";const o=(t==null?void 0:t.map(l=>l.content.toLowerCase()).join(" "))||"";if(o.includes("album")||o.includes("10-12 tracks")||o.includes("full album")?(r="Album",n=10,a=24):o.includes("singles")||o.includes("single strategy")||o.includes("one track")?(r="Singles",n=1,a=12):(o.includes("ep")||o.includes("4-5 track"))&&(r="EP",n=4,a=16),o.includes("3-4 months")||o.includes("fast timeline")||o.includes("quick")?a=Math.min(a,16):o.includes("6-9 months")?a=Hr(a,20,36):(o.includes("12+ months")||o.includes("take my time"))&&(a=Math.max(a,40)),e){const l=e.average_score,f=e.total_tracks,d=e.sonic_identity.consistency_score,p=e.score_trend;l>=75&&f>=8&&d>=70&&r==="EP"?(r="Album",n=Math.min(f,12),i=`Your catalog shows ${f} high-quality tracks (${l.toFixed(0)}/100) with ${d.toFixed(0)}% consistency. Perfect for an album!`):l>=65&&f>=3&&f<=6?(r="EP",n=Math.min(f,5),i=`Your ${f} tracks (${l.toFixed(0)}/100 avg) are strong - ideal for a focused EP showcasing your best work.`):l<65||d<60?(r="Singles",n=1,a=12,i="Based on your catalog analysis, starting with singles lets you test and refine your sound before a larger release."):p==="improving"&&f>=5?(r=f>=8?"Album":"EP",n=f>=8?10:5,i=`Your quality is improving (${p}) - capitalize on this momentum with a ${r.toLowerCase()}!`):(n=Hr(f,3,6),i=`Based on your ${f}-track catalog with ${l.toFixed(0)}/100 quality, starting with a ${n}-track EP.`)}const c=bn(n).reduce((l,f)=>l+f.qty*f.unitCost,0);return{projectType:r,units:n,targetWeeks:a,estimatedBudget:c,rationale:i}},Fp="artist-roadmap-vite-v1";function p6(e){if(!e.length)return"";const t=Object.keys(e[0]),r=[t.join(",")];for(const n of e){const a=t.map(i=>{const o=n[i],s=typeof o=="string"?o:JSON.stringify(o);return`"${String(s).replaceAll('"','""')}"`}).join(",");r.push(a)}return r.join("\\n")}function zp(e,t,r="text/plain"){const n=new Blob([t],{type:r}),a=URL.createObjectURL(n),i=document.createElement("a");i.href=a,i.download=e,i.click(),URL.revokeObjectURL(a)}function h6(e){const t=JSON.stringify(e),r=btoa(unescape(encodeURIComponent(t))),n=new URL(window.location.href);return n.hash=`#s=${r}`,n.toString()}function m6(){try{const e=window.location.hash;if(!e.startsWith("#s="))return null;const t=e.slice(3),r=decodeURIComponent(escape(atob(t)));return JSON.parse(r)}catch{return null}}function g6(){var X,K;const[e,t]=E.useState(()=>{const N=m6();if(N)return N.savedGrants||(N.savedGrants=[]),N.grantApplications||(N.grantApplications=[]),N.onboardingComplete===void 0&&(N.onboardingComplete=!0),N.catalogAnalysisComplete===void 0&&(N.catalogAnalysisComplete=!1),N.chatPlanningComplete===void 0&&(N.chatPlanningComplete=!1),N.roadmapGenerated===void 0&&(N.roadmapGenerated=!0),N.lastActiveTab||(N.lastActiveTab="roadmap"),N.firstVisitDate||(N.firstVisitDate=new Date().toISOString()),N.catalogAnalysisData===void 0&&(N.catalogAnalysisData=void 0),N;const I=localStorage.getItem(Fp),F=I?JSON.parse(I):{profile:Qo,project:Ut,budget:bn(Ut.units),tasks:Ca(Ut.units),savedGrants:[],grantApplications:[],onboardingComplete:!1,catalogAnalysisComplete:!1,chatPlanningComplete:!1,roadmapGenerated:!1,lastActiveTab:"catalog-analyzer",firstVisitDate:new Date().toISOString(),catalogAnalysisData:void 0};if(F.savedGrants||(F.savedGrants=[]),F.grantApplications||(F.grantApplications=[]),F.onboardingComplete===void 0){const W=F.profile.artistName||F.budget.length>0;F.onboardingComplete=W,F.catalogAnalysisComplete=!1,F.chatPlanningComplete=W,F.roadmapGenerated=W,F.lastActiveTab=W?"roadmap":"catalog-analyzer",F.firstVisitDate=new Date().toISOString(),F.catalogAnalysisData=void 0}return F.assessment||(F.assessment=Mp(F)),F}),[r,n]=E.useState(!1),[a,i]=E.useState(()=>Rp(e.catalogAnalysisData)),[o,s]=E.useState({personality:0,sonics:0,total:0,detailedAnalysis:{personality:{},sonics:{}}}),[c,l]=E.useState(()=>e.onboardingComplete&&(e.catalogAnalysisComplete||e.roadmapGenerated)),[f,d]=E.useState(()=>e.lastActiveTab);E.useEffect(()=>{e.lastActiveTab!==f&&t(N=>({...N,lastActiveTab:f}))},[f]);const p=N=>{const I={id:se(),type:"user",content:N},F=[...a,I];i(F);const W=kp(N),De=Object.keys(W.personality).length,be=Object.keys(W.sonics).length,H=F.filter(B=>B.type==="user").length;s({personality:De,sonics:be,total:H,detailedAnalysis:W});const Q=De>=2||be>=2,ee=H>=2;setTimeout(()=>{let B;const pe=["Noted. This information helps establish baseline positioning.","Good data point. This clarifies the strategic direction.","Understood. This informs the resource allocation model.","Acknowledged. This helps calibrate timeline expectations.","Recorded. This provides context for budget planning.","Clear. This shapes the go-to-market approach.","Confirmed. This influences the development strategy.","Captured. This affects the launch positioning."];if(Q){const J=WB(W);if(J.length>0){const ge=J[0],ye=Cp(W),Ne=ye.length>0?ye[0]:"What additional factors should we consider in the strategic planning?";B={id:se(),type:"system",content:`Artist profile shows alignment with ${ge.name}'s positioning strategy. ${Ne}`}}else{const ge=Cp(W),ye=ge.length>0?ge[0]:"What other strategic factors should inform this roadmap?",Ne=pe[Math.floor(Math.random()*pe.length)];B={id:se(),type:"system",content:`${Ne} ${ye}`}}}else if(ee){const J=["Please clarify: What's the production approach? What's the intended emotional impact on the target audience?","Additional context needed: Is this artist positioned as electronic/digital or organic/acoustic? What's the energy profile?","For accurate planning: What's the sonic identity? What's the tempo and intensity range we're working with?"];B={id:se(),type:"system",content:J[Math.floor(Math.random()*J.length)]}}else{const J=["Initial input received. For strategic planning: What's the core sonic identity? What production style defines this artist?","Processing artist profile. Clarify: What's the primary genre positioning? What's the energy and tempo range?","Beginning assessment. Define: What's the production aesthetic? What's the intended audience emotional response?"];B={id:se(),type:"system",content:J[Math.floor(Math.random()*J.length)]}}i(J=>[...J,B])},800+Math.random()*400)},m=()=>{const N=kp(a.filter(W=>W.type==="user").map(W=>W.content).join(" ")),I=UB(N,a,e.profile),F=Bp(e.catalogAnalysisData,a);t(W=>{var De,be;return{...W,assessment:{...W.assessment,...I},profile:{...W.profile,genres:((De=I.identity.primary_genres)==null?void 0:De.join(", "))||W.profile.genres,elevatorPitch:((be=I.brand_narrative)==null?void 0:be.positioning)||W.profile.elevatorPitch},project:{...W.project,projectType:F.projectType,units:F.units,targetWeeks:F.targetWeeks},budget:bn(F.units),tasks:Ca(F.units),chatPlanningComplete:!0,roadmapGenerated:!0}}),n(!0),x(`✓ Roadmap generated: ${F.projectType} (${F.units} tracks, ${F.targetWeeks} weeks, ~${Tt(F.estimatedBudget)})`),d("roadmap")};E.useEffect(()=>{localStorage.setItem(Fp,JSON.stringify(e))},[e]);const[v,h]=E.useState(!1),[g,_]=E.useState(null),x=N=>{_(N),setTimeout(()=>_(null),3500)},w=E.useMemo(()=>Lp(e.profile),[e.profile.stageScores]);E.useEffect(()=>{w!==e.profile.stage&&t(N=>({...N,profile:{...N.profile,stage:w}}))},[w]);const S=E.useMemo(()=>{const N={Discovery:0,"Pre‑Production":0,Production:0,"Post‑Production":0,Release:0,Growth:0};for(const W of e.budget)N[W.phase]+=W.qty*W.unitCost;const I=Dp(Object.values(N)),F=I-(e.project.hasGrant?e.project.grantAmount:0);return{byPhase:N,grand:I,afterGrant:F}},[e.budget,e.project.hasGrant,e.project.grantAmount]),b=E.useMemo(()=>{const N=[];let I=e.project.startWeeks;for(const F of ka){const W=d6(F,e.profile.stage,e.project.units),De=e.tasks.filter(H=>H.phase===F),be=Math.max(W,Dp(De.map(H=>H.weeks))||W);N.push({name:F,start:I,end:I+be,phase:F}),I+=be}return N},[e.tasks,e.project.startWeeks,e.project.units,e.profile.stage]),y=N=>t(I=>({...I,budget:[...I.budget,{id:se(),category:"Custom",description:"",qty:1,unitCost:0,phase:N,required:!1}]})),j=N=>t(I=>({...I,budget:I.budget.filter(F=>F.id!==N)})),O=N=>t(I=>({...I,tasks:[...I.tasks,{id:se(),phase:N,title:"New task",owner:"",weeks:1}]})),P=N=>t(I=>({...I,tasks:I.tasks.filter(F=>F.id!==N)})),k=N=>{t(I=>({...I,savedGrants:I.savedGrants.includes(N.id)?I.savedGrants.filter(F=>F!==N.id):[...I.savedGrants,N.id]})),x(e.savedGrants.includes(N.id)?"Grant removed from saved":"Grant saved successfully")},T=N=>{const I={id:se(),grant_id:N.id,artist_id:"current_user",status:"not_started",project_title:`${e.profile.artistName||"Untitled"} Project`,project_description:e.profile.elevatorPitch||"",requested_amount:Math.min(N.award_amount.typical_amount||N.award_amount.min,N.award_amount.max),project_timeline:{start_date:new Date().toISOString().split("T")[0],end_date:new Date(Date.now()+31536e6).toISOString().split("T")[0]},completed_materials:[],remaining_materials:N.requirements.application_materials,last_updated:new Date().toISOString(),notes:"",reminders:[]};t(F=>({...F,grantApplications:[...F.grantApplications,I]})),d("applications"),x("Grant application started successfully")},A=(N,I)=>{t(F=>({...F,grantApplications:F.grantApplications.map(W=>W.id===N?{...W,...I}:W)}))},C=N=>{t(I=>({...I,grantApplications:I.grantApplications.filter(F=>F.id!==N)})),x("Grant application deleted")},R=(N,I)=>{t(F=>({...F,grantApplications:F.grantApplications.map(W=>W.id===N?{...W,reminders:[...W.reminders,{...I,completed:!1}],last_updated:new Date().toISOString()}:W)})),x("Reminder added successfully")},M=N=>{t(I=>({...I,catalogAnalysisComplete:!0,catalogAnalysisData:N})),i(Rp(N)),x(`✓ Catalog analyzed: ${N.total_tracks} tracks with ${N.average_score.toFixed(0)}/100 average score`)},L=()=>zp(`${(e.profile.artistName||"artist").replaceAll(" ","-")}-roadmap.json`,JSON.stringify(e,null,2),"application/json"),z=N=>{const I=new FileReader;I.onload=()=>{try{t(JSON.parse(String(I.result))),alert("Imported settings.")}catch{alert("Invalid JSON file.")}},I.readAsText(N)},q=()=>{const N=e.budget.map(I=>({phase:I.phase,category:I.category,description:I.description,qty:I.qty,unitCost:I.unitCost,total:I.qty*I.unitCost}));zp("budget.csv",p6(N),"text/csv")},U=()=>{const N=h6(e);navigator.clipboard.writeText(N),alert("Sharable link copied to clipboard.")},V=()=>{const N={profile:Qo,project:Ut,budget:bn(Ut.units),tasks:Ca(Ut.units),assessment:Mp({profile:Qo,project:Ut}),savedGrants:[],grantApplications:[],onboardingComplete:!1,catalogAnalysisComplete:!1,chatPlanningComplete:!1,roadmapGenerated:!1,lastActiveTab:"catalog-analyzer",firstVisitDate:new Date().toISOString(),catalogAnalysisData:void 0};t(N),window.history.replaceState({},"",window.location.pathname)};return u.jsxs("div",{className:"relative min-h-screen w-full",children:[u.jsx("div",{"aria-hidden":!0,className:"fixed inset-0 -z-10 bg-studio"}),e.onboardingComplete?c?u.jsx(zB,{catalogAnalysisData:e.catalogAnalysisData,roadmapGenerated:e.roadmapGenerated,projectType:e.project.projectType,projectUnits:e.project.units,savedGrantsCount:e.savedGrants.length,applicationsCount:e.grantApplications.length,onContinue:()=>{l(!1)},onReAnalyze:()=>{l(!1),d("catalog-analyzer")},onViewRoadmap:()=>{l(!1),d("roadmap")},onViewGrants:()=>{l(!1),d("grants")}}):u.jsxs("div",{className:"mx-auto max-w-7xl px-6 py-8",children:[u.jsxs("header",{className:"mb-6 relative overflow-hidden rounded-2xl border border-surface-700 p-5 banner-studio",children:[u.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 bg-gradient-to-r from-surface-900/60 via-surface-900/40 to-transparent"}),u.jsxs("div",{className:"relative flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-2xl font-semibold tracking-tight text-surface-50",children:["Artist Roadmap ",u.jsx("span",{className:"text-surface-400",children:"PRO"})]}),u.jsx("p",{className:"text-sm text-surface-300",children:"Professional A&R tool for baseline assessment, strategic planning, and career development."})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx("button",{className:"rounded-lg border border-primary-600 px-3 py-2 text-sm text-primary-100 hover:bg-primary-800/50 transition-colors",onClick:U,children:"Share"}),u.jsx("button",{className:"rounded-lg border border-primary-600 px-3 py-2 text-sm text-primary-100 hover:bg-primary-800/50 transition-colors",onClick:q,children:"Export CSV"}),u.jsx("button",{className:"rounded-lg border border-primary-600 px-3 py-2 text-sm text-primary-100 hover:bg-primary-800/50 transition-colors",onClick:L,children:"Export Data"}),u.jsxs("label",{className:"rounded-lg border border-primary-600 px-3 py-2 text-sm text-primary-100 hover:bg-primary-800/50 transition-colors cursor-pointer",children:["Import Data",u.jsx("input",{type:"file",accept:"application/json",className:"hidden",onChange:N=>N.target.files&&z(N.target.files[0])})]}),u.jsx("button",{className:"rounded-lg border border-accent-600 px-3 py-2 text-sm text-accent-100 hover:bg-accent-800/50 transition-colors",onClick:V,children:"New Artist"}),u.jsx("button",{className:"rounded-lg border border-red-600 px-3 py-2 text-sm text-red-100 hover:bg-red-800/50 transition-colors",onClick:()=>{localStorage.removeItem("artist-roadmap-vite-v1"),window.location.reload()},children:"Clear All Data"})]})]})]}),u.jsx("div",{className:"space-y-6",children:r?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mb-6",children:u.jsxs("div",{className:"flex flex-wrap gap-2 p-1 bg-surface-800/50 rounded-xl border border-surface-700",children:[u.jsxs("button",{onClick:()=>d("catalog-analyzer"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors relative ${f==="catalog-analyzer"?"bg-primary-600 text-primary-50":"text-surface-300 hover:text-surface-200 hover:bg-surface-700"}`,children:[u.jsxs("span",{className:"flex items-center gap-2",children:[e.catalogAnalysisComplete?"✓":"1."," 📊 Catalog Analysis"]}),e.catalogAnalysisComplete&&!f.includes("catalog")&&u.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full"})]}),u.jsxs("button",{onClick:()=>{!r&&!e.chatPlanningComplete&&n(!1),d("roadmap")},className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors relative ${!r&&!e.chatPlanningComplete,"text-surface-300 hover:text-surface-200 hover:bg-surface-700"}`,children:[u.jsxs("span",{className:"flex items-center gap-2",children:[e.chatPlanningComplete?"✓":"2."," 💬 AI Planning"]}),e.chatPlanningComplete&&u.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full"})]}),u.jsxs("button",{onClick:()=>d("roadmap"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors relative ${f==="roadmap"?"bg-primary-600 text-primary-50":"text-surface-300 hover:text-surface-200 hover:bg-surface-700"}`,children:[u.jsxs("span",{className:"flex items-center gap-2",children:[e.roadmapGenerated?"✓":"3."," 📋 Roadmap"]}),e.roadmapGenerated&&f!=="roadmap"&&u.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full"})]}),u.jsx("button",{onClick:()=>d("mix-analyzer"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${f==="mix-analyzer"?"bg-primary-600 text-primary-50":"text-surface-300 hover:text-surface-200 hover:bg-surface-700"}`,children:"🎚️ Mix Analyzer"}),u.jsxs("button",{onClick:()=>d("grants"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${f==="grants"?"bg-primary-600 text-primary-50":"text-surface-300 hover:text-surface-200 hover:bg-surface-700"}`,children:["🎯 Grants",e.savedGrants.length>0&&u.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-primary-500/30 text-primary-200 rounded text-xs",children:e.savedGrants.length})]}),u.jsxs("button",{onClick:()=>d("applications"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${f==="applications"?"bg-primary-600 text-primary-50":"text-surface-300 hover:text-surface-200 hover:bg-surface-700"}`,children:["📝 Applications",e.grantApplications.length>0&&u.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-accent-500/30 text-accent-200 rounded text-xs",children:e.grantApplications.length})]})]})}),f==="mix-analyzer"&&u.jsxs("div",{children:[u.jsxs("div",{className:"mb-6 rounded-2xl border border-primary-700 bg-primary-900/20 p-6 backdrop-blur",children:[u.jsx("h2",{className:"text-xl font-semibold text-primary-100 mb-2",children:"🎚️ Mix Analyzer"}),u.jsx("p",{className:"text-surface-300 text-sm",children:"Upload your mix and get professional diagnostic feedback based on industry benchmarks for your genre. Identify technical issues, compare against reference tracks, and get actionable recommendations to improve your sound."})]}),u.jsx(Ay,{})]}),f==="catalog-analyzer"&&u.jsxs("div",{id:"catalog-analysis",children:[u.jsxs("div",{className:"mb-6 rounded-2xl border border-primary-700 bg-primary-900/20 p-6 backdrop-blur",children:[u.jsx("h2",{className:"text-xl font-semibold text-primary-100 mb-2",children:"📊 Catalog Analyzer"}),u.jsx("p",{className:"text-surface-300 text-sm",children:"Upload multiple released tracks to analyze your artistic growth and consistency over time. Get insights on quality progression, sonic identity, genre consistency, and recommendations for your next release."}),e.catalogAnalysisComplete&&e.catalogAnalysisData&&u.jsx("div",{className:"mt-4 p-3 rounded-lg bg-green-600/10 border border-green-600/30",children:u.jsxs("div",{className:"text-sm text-green-300",children:["✓ Last analysis: ",e.catalogAnalysisData.total_tracks," tracks • ",e.catalogAnalysisData.average_score.toFixed(0),"/100 avg score • ",e.catalogAnalysisData.sonic_identity.consistency_score.toFixed(0),"% consistency"]})})]}),u.jsx(BB,{onAnalysisComplete:M})]}),f==="grants"&&u.jsx(Cy,{profile:e.profile,assessment:e.assessment,savedGrants:e.savedGrants,applications:e.grantApplications,onSaveGrant:k,onStartApplication:T}),f==="applications"&&u.jsx(My,{applications:e.grantApplications,grants:xn,onUpdateApplication:A,onDeleteApplication:C,onAddReminder:R}),f==="roadmap"&&u.jsxs(u.Fragment,{children:[e.roadmapGenerated&&e.catalogAnalysisData&&u.jsx("section",{className:"mb-6 rounded-2xl border border-accent-700 bg-accent-900/20 p-6 backdrop-blur",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-accent-600/20 flex items-center justify-center",children:u.jsx("span",{className:"text-2xl",children:"✨"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h2",{className:"text-lg font-semibold text-accent-100 mb-2",children:"Smart Roadmap Generated"}),u.jsx("p",{className:"text-surface-300 text-sm leading-relaxed",children:Bp(e.catalogAnalysisData,a).rationale}),u.jsxs("div",{className:"mt-4 flex flex-wrap gap-3 text-sm",children:[u.jsxs("div",{className:"px-3 py-1.5 rounded-lg bg-surface-800/50 border border-surface-700",children:[u.jsx("span",{className:"text-surface-400",children:"Project: "}),u.jsx("span",{className:"text-surface-100 font-medium",children:e.project.projectType})]}),u.jsxs("div",{className:"px-3 py-1.5 rounded-lg bg-surface-800/50 border border-surface-700",children:[u.jsx("span",{className:"text-surface-400",children:"Tracks: "}),u.jsx("span",{className:"text-surface-100 font-medium",children:e.project.units})]}),u.jsxs("div",{className:"px-3 py-1.5 rounded-lg bg-surface-800/50 border border-surface-700",children:[u.jsx("span",{className:"text-surface-400",children:"Timeline: "}),u.jsxs("span",{className:"text-surface-100 font-medium",children:[e.project.targetWeeks," weeks"]})]}),u.jsxs("div",{className:"px-3 py-1.5 rounded-lg bg-surface-800/50 border border-surface-700",children:[u.jsx("span",{className:"text-surface-400",children:"Est. Budget: "}),u.jsx("span",{className:"text-surface-100 font-medium",children:Tt(S.grand)})]})]}),u.jsx("p",{className:"mt-3 text-xs text-surface-400",children:"💡 These are smart defaults based on your data. Feel free to customize below!"})]})]})}),e.assessment&&u.jsxs("section",{className:"rounded-2xl border border-primary-700 bg-primary-900/20 p-6 backdrop-blur",children:[u.jsx("h2",{className:"mb-4 text-lg font-semibold text-primary-100",children:"Assessment Insights"}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[u.jsxs("div",{className:"bg-surface-800/50 rounded-lg p-4",children:[u.jsx("h3",{className:"text-sm font-medium text-surface-200 mb-2",children:"Genre Profile"}),u.jsx("div",{className:"space-y-2",children:(X=e.assessment.identity.primary_genres)==null?void 0:X.map(N=>u.jsx("span",{className:"inline-block bg-primary-500/20 text-primary-300 px-2 py-1 rounded text-xs mr-1",children:N},N))}),e.assessment.identity.subgenres_tags&&e.assessment.identity.subgenres_tags.length>0&&u.jsxs("div",{className:"mt-2",children:[u.jsx("div",{className:"text-xs text-surface-400 mb-1",children:"Subgenres:"}),e.assessment.identity.subgenres_tags.map(N=>u.jsx("span",{className:"inline-block bg-surface-700 text-surface-300 px-2 py-1 rounded text-xs mr-1",children:N},N))]})]}),u.jsxs("div",{className:"bg-surface-800/50 rounded-lg p-4",children:[u.jsx("h3",{className:"text-sm font-medium text-surface-200 mb-2",children:"Audio Profile"}),u.jsx("div",{className:"space-y-2 text-xs",children:e.assessment.audio_profile&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-surface-400",children:"Tempo:"}),u.jsxs("span",{className:"text-surface-200",children:[Math.round(e.assessment.audio_profile.tempo_bpm)," BPM"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-surface-400",children:"Danceability:"}),u.jsxs("span",{className:"text-surface-200",children:[Math.round(e.assessment.audio_profile.danceability*100),"%"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-surface-400",children:"Energy:"}),u.jsxs("span",{className:"text-surface-200",children:[Math.round(e.assessment.audio_profile.energy*100),"%"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-surface-400",children:"Valence:"}),u.jsxs("span",{className:"text-surface-200",children:[Math.round(e.assessment.audio_profile.valence*100),"%"]})]})]})})]}),u.jsxs("div",{className:"bg-surface-800/50 rounded-lg p-4",children:[u.jsx("h3",{className:"text-sm font-medium text-surface-200 mb-2",children:"Success Indicators"}),(()=>{const N=r6(e.assessment.identity.primary_genres||[]),I=n6(e.assessment,N),F=l6(e.assessment,N);return u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"text-xs text-surface-400",children:"Market Fit:"}),u.jsxs("div",{className:`text-xs font-medium ${I>.7?"text-green-400":I>.5?"text-yellow-400":"text-red-400"}`,children:[Math.round(I*100),"%"]})]}),F.length>0&&u.jsxs("div",{className:"mt-2",children:[u.jsx("div",{className:"text-xs text-surface-400 mb-1",children:"Top Recommendation:"}),u.jsx("div",{className:"text-xs text-surface-200 bg-surface-700/50 p-2 rounded",children:F[0]})]})]})})()]})]}),((K=e.assessment.brand_narrative)==null?void 0:K.themes)&&u.jsxs("div",{className:"mt-4 bg-surface-800/30 rounded-lg p-4",children:[u.jsx("h3",{className:"text-sm font-medium text-surface-200 mb-2",children:"Brand Themes"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:e.assessment.brand_narrative.themes.map(N=>u.jsx("span",{className:"bg-accent-500/20 text-accent-300 px-3 py-1 rounded-full text-sm",children:N},N))}),e.assessment.brand_narrative.positioning&&u.jsxs("div",{className:"mt-3",children:[u.jsx("div",{className:"text-xs text-surface-400 mb-1",children:"Positioning:"}),u.jsxs("div",{className:"text-sm text-surface-200 italic",children:['"',e.assessment.brand_narrative.positioning,'"']})]})]})]}),u.jsxs("section",{className:"rounded-2xl border border-surface-700 bg-surface-800/80 p-6 backdrop-blur",children:[u.jsx("h2",{className:"mb-4 text-lg font-semibold text-primary-100",children:"Profile"}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm text-surface-300",children:"Artist / Project Name"}),u.jsx("input",{className:"w-full rounded-lg bg-surface-700/50 px-3 py-2 text-surface-100 placeholder-surface-500 focus:bg-surface-700 focus:ring-2 focus:ring-primary-500 transition-colors",value:e.profile.artistName,onChange:N=>t({...e,profile:{...e.profile,artistName:N.target.value}}),placeholder:"e.g., Super Star"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm text-surface-300",children:"Genres"}),u.jsx("input",{className:"w-full rounded-lg bg-surface-700/50 px-3 py-2 text-surface-100 placeholder-surface-500 focus:bg-surface-700 focus:ring-2 focus:ring-primary-500 transition-colors",value:e.profile.genres,onChange:N=>t({...e,profile:{...e.profile,genres:N.target.value}}),placeholder:"Soul, R&B, Hip‑hop"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm text-surface-300",children:"Home base"}),u.jsx("input",{className:"w-full rounded-lg bg-surface-700/50 px-3 py-2 text-surface-100 placeholder-surface-500 focus:bg-surface-700 focus:ring-2 focus:ring-primary-500 transition-colors",value:e.profile.city,onChange:N=>t({...e,profile:{...e.profile,city:N.target.value}}),placeholder:"City, State"})]}),u.jsxs("div",{className:"space-y-2 md:col-span-2",children:[u.jsx("label",{className:"text-sm text-surface-300",children:"Elevator pitch"}),u.jsx("textarea",{rows:3,className:"w-full rounded-lg bg-surface-700/50 px-3 py-2 text-surface-100 placeholder-surface-500 focus:bg-surface-700 focus:ring-2 focus:ring-primary-500 transition-colors",value:e.profile.elevatorPitch,onChange:N=>t({...e,profile:{...e.profile,elevatorPitch:N.target.value}}),placeholder:"One or two sentences defining the sound, story, and audience."})]})]}),u.jsxs("div",{className:"mt-6",children:[u.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-base font-semibold",children:"Maturity self‑assessment"}),u.jsx("p",{className:"text-xs text-surface-400 mt-0.5",children:"Optional — used to calibrate timelines and budgets"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-md bg-surface-700/60 px-2 py-1 text-xs text-surface-200 border border-surface-600",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary-400"}),"Stage: ",e.profile.stage]}),u.jsx("button",{className:"text-xs rounded px-2 py-1 border border-primary-600 text-primary-100 hover:bg-primary-700/30 transition-colors",onClick:()=>{h(!0)},children:"Refine assessment"})]})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:["craft","catalog","brand","team","audience","ops"].map(N=>u.jsxs("span",{className:"text-xs rounded-md border border-surface-700 bg-surface-800/60 px-2 py-1 text-surface-300",children:[N,": ",e.profile.stageScores[N],"/5"]},N))})]}),u.jsx("div",{className:"mt-6 pt-4 border-t border-surface-700/50",children:u.jsxs("button",{onClick:()=>{d("catalog-analyzer"),setTimeout(()=>{const N=document.getElementById("catalog-analysis");N&&N.scrollIntoView({behavior:"smooth",block:"start"})},100)},className:"w-full md:w-auto px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:["Continue to Catalog Analysis",u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})]}),v&&u.jsx(Ny,{initialAnswers:e.profile.stageScores,onCancel:()=>h(!1),onFinish:N=>{t(W=>({...W,profile:{...W.profile,stageScores:{...W.profile.stageScores,...N}}}));const I={...e.profile,stageScores:{...e.profile.stageScores,...N}},F=Lp(I);x(`Assessment saved — stage: ${F}`),h(!1)}}),g&&u.jsx($y,{message:g}),u.jsxs("section",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6",children:[u.jsx("h2",{className:"mb-4 text-lg font-semibold",children:"Project"}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm",children:"Project type"}),u.jsxs("select",{className:"w-full rounded-lg bg-slate-800 px-3 py-2",value:e.project.projectType,onChange:N=>t({...e,project:{...e.project,projectType:N.target.value}}),children:[u.jsx("option",{value:"EP",children:"EP"}),u.jsx("option",{value:"Album",children:"Album"}),u.jsx("option",{value:"Singles",children:"Singles"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm",children:"# Songs"}),u.jsx("input",{type:"number",min:1,className:"w-full rounded-lg bg-slate-800 px-3 py-2",value:e.project.units,onChange:N=>{const I=Hr(parseInt(N.target.value||"1"),1,30);t({...e,project:{...e.project,units:I},budget:bn(I),tasks:Ca(I)})}})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm",children:"Total timeline (weeks)"}),u.jsx("input",{type:"number",min:6,className:"w-full rounded-lg bg-slate-800 px-3 py-2",value:e.project.targetWeeks,onChange:N=>t({...e,project:{...e.project,targetWeeks:Hr(parseInt(N.target.value||"6"),6,104)}})})]}),u.jsxs("div",{className:"space-y-2 md:col-span-2",children:[u.jsx("label",{className:"text-sm",children:"Target markets (comma separated)"}),u.jsx("input",{className:"w-full rounded-lg bg-slate-800 px-3 py-2",value:e.project.targetMarkets.join(", "),onChange:N=>t({...e,project:{...e.project,targetMarkets:N.target.value.split(",").map(I=>I.trim()).filter(Boolean)}}),placeholder:"DSP, TikTok/Shorts, Live, Sync"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm",children:"Grant support"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("input",{type:"checkbox",checked:e.project.hasGrant,onChange:N=>t({...e,project:{...e.project,hasGrant:N.target.checked}})}),u.jsx("input",{type:"number",min:0,className:"w-full rounded-lg bg-slate-800 px-3 py-2",value:e.project.grantAmount,onChange:N=>t({...e,project:{...e.project,grantAmount:Math.max(0,parseInt(N.target.value||"0"))}})})]})]})]}),u.jsxs("div",{className:"mt-4 rounded-xl bg-indigo-600/10 p-4",children:[u.jsx("div",{className:"text-sm text-indigo-300",children:"Current est. budget"}),u.jsxs("div",{className:"text-2xl font-semibold",children:[Tt(S.grand)," ",u.jsxs("span",{className:"text-sm text-slate-400",children:["(",Tt(Math.max(0,S.afterGrant))," after grants)"]})]})]})]}),u.jsx("section",{className:"space-y-4",children:ka.map(N=>u.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6",children:[u.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[u.jsx("h3",{className:"font-semibold",children:N}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("span",{className:"rounded-lg border border-slate-700 px-2 py-1 text-xs",children:["Total: ",Tt(e.budget.filter(I=>I.phase===N).reduce((I,F)=>I+F.qty*F.unitCost,0))]}),u.jsx("button",{className:"rounded-lg border border-slate-700 px-3 py-2 text-sm hover:bg-slate-800",onClick:()=>y(N),children:"Add item"})]})]}),u.jsx("div",{className:"grid gap-2",children:e.budget.filter(I=>I.phase===N).map(I=>u.jsxs("div",{className:"grid grid-cols-12 items-center gap-2 rounded-xl bg-slate-800/60 p-3",children:[u.jsx("input",{className:"col-span-2 rounded bg-slate-900 px-2 py-1",value:I.category,onChange:F=>t({...e,budget:e.budget.map(W=>W.id===I.id?{...W,category:F.target.value}:W)})}),u.jsx("input",{className:"col-span-5 rounded bg-slate-900 px-2 py-1",value:I.description,onChange:F=>t({...e,budget:e.budget.map(W=>W.id===I.id?{...W,description:F.target.value}:W)})}),u.jsx("input",{type:"number",min:1,className:"col-span-1 rounded bg-slate-900 px-2 py-1",value:I.qty,onChange:F=>t({...e,budget:e.budget.map(W=>W.id===I.id?{...W,qty:Math.max(1,parseInt(F.target.value||"1"))}:W)})}),u.jsx("input",{type:"number",min:0,className:"col-span-2 rounded bg-slate-900 px-2 py-1",value:I.unitCost,onChange:F=>t({...e,budget:e.budget.map(W=>W.id===I.id?{...W,unitCost:Math.max(0,parseInt(F.target.value||"0"))}:W)})}),u.jsx("div",{className:"col-span-1 text-right text-sm",children:Tt(I.qty*I.unitCost)}),u.jsx("div",{className:"col-span-1 flex justify-end",children:u.jsx("button",{className:"rounded-lg border border-slate-700 px-3 py-2 text-sm hover:bg-slate-800",onClick:()=>j(I.id),children:"X"})})]},I.id))})]},N))}),u.jsx("style",{children:".fixdelbtn{display:none}"}),u.jsxs("section",{className:"grid gap-6 md:grid-cols-2",children:[u.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6",children:[u.jsx("h3",{className:"mb-3 font-semibold",children:"Phase board"}),u.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:ka.map(N=>u.jsxs("div",{className:"rounded-2xl border border-slate-800 p-3",children:[u.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[u.jsx("span",{className:"text-sm font-medium",children:N}),u.jsx("button",{className:"rounded-lg border border-slate-700 px-2 py-1 text-xs hover:bg-slate-800",onClick:()=>O(N),children:"Add"})]}),u.jsx("div",{className:"space-y-2",children:e.tasks.filter(I=>I.phase===N).map(I=>u.jsxs("div",{className:"rounded-xl bg-slate-800/60 p-3",children:[u.jsx("input",{className:"w-full rounded bg-slate-900 px-2 py-1",value:I.title,onChange:F=>t({...e,tasks:e.tasks.map(W=>W.id===I.id?{...W,title:F.target.value}:W)})}),u.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-2 text-sm",children:[u.jsx("input",{className:"col-span-2 rounded bg-slate-900 px-2 py-1",placeholder:"Owner",value:I.owner,onChange:F=>t({...e,tasks:e.tasks.map(W=>W.id===I.id?{...W,owner:F.target.value}:W)})}),u.jsx("input",{type:"number",min:1,className:"rounded bg-slate-900 px-2 py-1",value:I.weeks,onChange:F=>t({...e,tasks:e.tasks.map(W=>W.id===I.id?{...W,weeks:Math.max(1,parseInt(F.target.value||"1"))}:W)})})]}),u.jsx("div",{className:"mt-2 flex justify-end",children:u.jsx("button",{className:"rounded-lg border border-slate-700 px-2 py-1 text-xs hover:bg-slate-800",onClick:()=>P(I.id),children:"Delete"})})]},I.id))})]},N))})]}),u.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6",children:[u.jsx("h3",{className:"mb-3 font-semibold",children:"Timeline (weeks)"}),u.jsx("div",{className:"h-72 w-full",children:u.jsx(Os,{width:"100%",height:"100%",children:u.jsxs(xB,{data:b.map(N=>({name:N.phase,length:N.end-N.start})),children:[u.jsx($i,{strokeDasharray:"3 3"}),u.jsx(or,{dataKey:"name"}),u.jsx(sr,{}),u.jsx(Ve,{}),u.jsx(dr,{dataKey:"length"})]})})}),u.jsxs("div",{className:"text-sm text-slate-400",children:["Total span: ",b.length?b[b.length-1].end-b[0].start:0," weeks"]})]})]}),u.jsxs("section",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6",children:[u.jsx("h3",{className:"mb-3 font-semibold",children:"Budget by phase"}),u.jsx("div",{className:"h-64 w-full",children:u.jsx(Os,{width:"100%",height:"100%",children:u.jsxs(vy,{data:ka.map(N=>({phase:N,total:e.budget.filter(I=>I.phase===N).reduce((I,F)=>I+F.qty*F.unitCost,0)})),children:[u.jsx($i,{strokeDasharray:"3 3"}),u.jsx(or,{dataKey:"phase"}),u.jsx(sr,{}),u.jsx(Ve,{}),u.jsx(vt,{type:"monotone",dataKey:"total"})]})})})]}),u.jsxs("section",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6",children:[u.jsx("h3",{className:"mb-3 text-lg font-semibold",children:"Reports"}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[u.jsxs("div",{className:"rounded-2xl bg-slate-800/60 p-4",children:[u.jsx("div",{className:"text-sm text-slate-400",children:"Est. Budget"}),u.jsx("div",{className:"text-2xl font-semibold",children:Tt(S.grand)})]}),u.jsxs("div",{className:"rounded-2xl bg-slate-800/60 p-4",children:[u.jsx("div",{className:"text-sm text-slate-400",children:"After Grants"}),u.jsx("div",{className:"text-2xl font-semibold",children:Tt(Math.max(0,S.afterGrant))})]}),u.jsxs("div",{className:"rounded-2xl bg-slate-800/60 p-4",children:[u.jsx("div",{className:"text-sm text-slate-400",children:"Stage"}),u.jsx("div",{className:"text-2xl font-semibold",children:e.profile.stage})]})]}),u.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[u.jsx("button",{className:"rounded-lg border border-slate-700 px-3 py-2 text-sm hover:bg-slate-800",onClick:q,children:"Export budget CSV"}),u.jsx("button",{className:"rounded-lg border border-slate-700 px-3 py-2 text-sm hover:bg-slate-800",onClick:L,children:"Export full JSON"})]})]})]})]}):u.jsxs("section",{className:"relative overflow-hidden rounded-2xl border border-surface-700 banner-studio p-6 h-[85vh] flex flex-col",children:[u.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 bg-gradient-to-b from-surface-900/40 via-transparent to-surface-900/40"}),u.jsxs("div",{className:"relative h-full flex flex-col",children:[u.jsxs("div",{className:"mb-4 pb-4 border-b border-surface-700/50",children:[u.jsxs("div",{className:"flex items-start justify-between gap-4",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h2",{className:"text-lg md:text-xl font-semibold text-surface-50",children:"Strategic Planning"}),u.jsx("p",{className:"text-xs md:text-sm text-surface-400 mt-1",children:e.catalogAnalysisComplete?"Based on your catalog analysis, let's create a data-driven release plan":"Share your goals and constraints to build a customized project roadmap"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"w-10 h-10 rounded-lg bg-surface-700 border border-surface-600 flex items-center justify-center font-semibold text-surface-200 text-sm",children:[o.total,"/3"]}),u.jsxs("button",{onClick:m,className:"hidden md:flex text-sm text-surface-500 hover:text-surface-300 px-3 py-2 rounded-lg hover:bg-surface-700/50 transition-colors items-center gap-1",title:"Skip to roadmap generation",children:["Skip",u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),u.jsx("button",{onClick:m,className:"md:hidden mt-3 w-full text-center text-sm text-surface-500 hover:text-surface-300 py-2.5 rounded-lg hover:bg-surface-700/50 transition-colors border border-surface-700/50",title:"Skip to roadmap generation",children:"Skip to roadmap →"})]}),u.jsxs("div",{className:"flex-1 flex flex-col md:flex-row gap-4 min-h-0",children:[u.jsx("div",{className:"flex-1 flex flex-col min-w-0",children:u.jsx(qp,{messages:a,onSendMessage:p,className:"flex-1"})}),u.jsxs("div",{className:"hidden md:flex md:w-72 lg:w-80 bg-surface-800/50 rounded-xl border border-surface-700/50 p-4 flex-col flex-shrink-0 max-h-full overflow-y-auto",children:[u.jsxs("div",{className:"mb-3",children:[u.jsx("h3",{className:"text-sm font-semibold text-surface-200 mb-1",children:"Quick Topics"}),u.jsx("p",{className:"text-xs text-surface-400",children:"Click to add"})]}),u.jsx("div",{className:"space-y-2 flex-1",children:f6.slice(0,8).map((N,I)=>u.jsx("button",{className:"w-full text-left text-xs px-3 py-2 rounded-lg bg-surface-700/30 hover:bg-primary-600/20 border border-surface-600/30 hover:border-primary-500/30 transition-all text-surface-300 hover:text-surface-100",onClick:()=>p(N),children:N},I))}),u.jsxs("div",{className:"mt-4 pt-3 border-t border-surface-700/50",children:[u.jsxs("div",{className:"text-xs text-surface-400 mb-2",children:["Progress: ",u.jsxs("span",{className:"text-primary-400 font-semibold",children:[o.total," / 3"]})]}),u.jsx("div",{className:"w-full bg-surface-700 rounded-full h-1.5",children:u.jsx("div",{className:"bg-primary-500 h-1.5 rounded-full transition-all duration-500",style:{width:`${Math.min(100,o.total/3*100)}%`}})})]})]})]}),o.total>=3&&u.jsx("div",{className:"mt-6 bg-primary-600/10 border border-primary-500/30 rounded-xl p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-primary-200",children:"Planning Complete"}),u.jsx("div",{className:"text-xs text-surface-400 mt-0.5",children:"Ready to generate your strategic roadmap"})]}),u.jsxs("button",{onClick:m,className:"px-5 py-2.5 bg-primary-600 hover:bg-primary-700 text-white rounded-lg text-sm font-medium transition-colors flex items-center gap-2",children:["Generate Roadmap",u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})}),o.total>=1&&o.total<3&&u.jsx("div",{className:"mt-4 bg-yellow-500/10 border border-yellow-500/30 rounded-xl p-3",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-sm text-yellow-300",children:[3-o.total," more response",3-o.total!==1?"s":""," recommended for better recommendations."]}),u.jsx("button",{onClick:m,className:"px-3 py-1.5 bg-yellow-600/20 hover:bg-yellow-600/30 text-yellow-200 rounded-lg text-sm transition-colors",children:"Continue Anyway →"})]})})]})]})})]}):u.jsx(FB,{onStart:()=>{t(N=>({...N,onboardingComplete:!0,lastActiveTab:"catalog-analyzer"})),d("catalog-analyzer"),l(!1)},onSkip:()=>{t(N=>({...N,onboardingComplete:!0})),l(!1)},hasExistingData:e.profile.artistName!==""||e.budget.length>0})]})}function y6(){const[e,t]=E.useState("processing"),[r,n]=E.useState(null);return E.useEffect(()=>{(async()=>{try{const i=new URLSearchParams(window.location.search),o=i.get("code"),s=i.get("state"),c=i.get("error");if(c)throw new Error(`Spotify authorization failed: ${c}`);if(!o||!s)throw new Error("Missing authorization code or state");const l=localStorage.getItem("spotify_auth_state");if(s!==l)throw new Error("State mismatch - possible CSRF attack");await CB(o,s),t("success"),setTimeout(()=>{window.location.href="/soundsexpensive/#catalog-analyzer"},2e3)}catch(i){console.error("Spotify callback error:",i),n(i instanceof Error?i.message:"Unknown error"),t("error")}})()},[]),u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center p-6",children:u.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-8 max-w-md w-full",children:[e==="processing"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-400"})}),u.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-2",children:"Connecting to Spotify..."}),u.jsx("p",{className:"text-gray-300 text-center",children:"Please wait while we complete the authentication."})]}),e==="success"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"rounded-full bg-green-500/20 p-3",children:u.jsx("svg",{className:"w-12 h-12 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),u.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-2",children:"Successfully Connected!"}),u.jsx("p",{className:"text-gray-300 text-center",children:"Redirecting you back to the Catalog Analyzer..."})]}),e==="error"&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"rounded-full bg-red-500/20 p-3",children:u.jsx("svg",{className:"w-12 h-12 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),u.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-2",children:"Connection Failed"}),u.jsx("p",{className:"text-red-300 text-center mb-4",children:r}),u.jsx("button",{onClick:()=>window.location.href="/soundsexpensive/#catalog-analyzer",className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded transition",children:"Return to Catalog Analyzer"})]})]})})}const v6=window.location.pathname.includes("/callback")||window.location.search.includes("code=")&&window.location.search.includes("state=");Py(document.getElementById("root")).render(u.jsx($.StrictMode,{children:v6?u.jsx(y6,{}):u.jsx(g6,{})}));
