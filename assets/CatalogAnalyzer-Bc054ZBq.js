import{h as K,j as e}from"./flags-yFVaMv5A.js";import{r as y}from"./vendor-react-BVOO17zE.js";import{b as V,r as R,a as Q}from"./workers-C2qbLtHH.js";import{f as X,a as Z,c as J,b as ee,d as se}from"./main-CGfTAYQE.js";import{R as te,L as ne,C as ae,X as re,Y as oe,T as ie,c as le,b as S}from"./vendor-charts-BfDgEjn4.js";async function I(t,s="Pop"){const r=[];for(const i of t)if(i.analysis)r.push(i);else if(i.audio_features){const h={file_info:{name:i.name,size_bytes:0,format:"streaming"},mixing_stage:"mastered",audio_features:i.audio_features,benchmarks_used:{genre:s,tempo_bpm:[80,140],danceability:[.4,.9],energy:[.4,.9],valence:[.3,.8],loudness_db:[-10,-4],dynamic_range_db:[6,14],stereo_width:[.5,.9],typical_intro_seconds:[0,30],typical_duration_seconds:[150,300]},score:{overall:E(i.audio_features,s),breakdown:{loudness:70,dynamics:70,frequency_balance:70,stereo_imaging:70,genre_alignment:L(i.audio_features,s),commercial_readiness:P(i.audio_features)}},issues:[],strengths:[`High energy track (${Math.round(i.audio_features.energy*100)}%)`,`Good danceability (${Math.round(i.audio_features.danceability*100)}%)`],overall_assessment:`This track from ${i.artist||"streaming service"} scores ${E(i.audio_features,s)}/100 for ${s}.`,next_steps:[],stage_appropriate_tips:[],analysis_timestamp:new Date().toISOString()};r.push({...i,analysis:h})}else if(i.file){const h=await V(i.file,s,"not-sure");r.push({...i,analysis:h})}else throw new Error(`Track ${i.name} has no file or audio features`);const n=r.map(i=>i.analysis.score.overall),l=n.reduce((i,h)=>i+h,0)/n.length,d=ce(r),c=de(r),o=me(r),m=ue(r),x=pe(r,d,c,o),g=[...r].sort((i,h)=>h.analysis.score.overall-i.analysis.score.overall),f=g[0],_=g.slice(-2),b=he(d,c,o,m),w=ge(f,d,o);return{total_tracks:r.length,analysis_date:new Date().toISOString(),average_score:Math.round(l),score_trend:d.trend==="inconsistent"?"stable":d.trend,tracks:r,quality_progression:d,genre_consistency:c,sonic_identity:o,trends:m,insights:x,best_performing_track:{name:f.name,score:f.analysis.score.overall,strengths:f.analysis.strengths},needs_improvement:_.map(i=>({name:i.name,score:i.analysis.score.overall,issues:i.analysis.issues.slice(0,3).map(h=>h.title)})),overall_recommendations:b,next_release_guidance:w}}function ce(t){const s=t.map(o=>o.analysis.score.overall),r=Math.round(s.reduce((o,m)=>o+m,0)/s.length);let n="inconsistent";if(s.length>=3){const o=s.slice(0,Math.floor(s.length/2)),m=s.slice(Math.floor(s.length/2)),x=o.reduce((_,b)=>_+b,0)/o.length,f=m.reduce((_,b)=>_+b,0)/m.length-x;f>5?n="improving":f<-5?n="declining":n="inconsistent"}const l=[...s].sort((o,m)=>o-m),d=[l[0],l[l.length-1]],c=[...t].sort((o,m)=>m.analysis.score.overall-o.analysis.score.overall);return{trend:n,average_score:r,score_range:d,best_track:c[0].name,weakest_track:c[c.length-1].name,improvement_rate:n==="improving"?Math.abs(s[s.length-1]-s[0])/s.length:void 0}}function de(t){const s={};t.forEach(m=>{const x=m.analysis.benchmarks_used.genre;s[x]=(s[x]||0)+1});const r=Object.entries(s).sort((m,x)=>x[1]-m[1]),n=r[0][0],l=r[0][1],d=Math.round(l/t.length*100),c=Object.fromEntries(Object.entries(s).map(([m,x])=>[m,Math.round(x/t.length*100)]));let o="";return d>=80?o=`Strong ${n} identity. Fans know what to expect from your music.`:d>=60?o=`Mostly ${n} but with some variety. Consider clarifying your sound or embracing genre-blending.`:o="Very diverse sound. Consider whether you want to be known for versatility or focus on one genre.",{primary_genre:n,consistency_score:d,genre_distribution:c,recommendation:o}}function me(t){const s=t.map(i=>i.analysis.audio_features.tempo_bpm),r=t.map(i=>i.analysis.audio_features.energy),n=s.reduce((i,h)=>i+h,0)/s.length,l=r.reduce((i,h)=>i+h,0)/r.length,d=Math.sqrt(s.reduce((i,h)=>i+Math.pow(h-n,2),0)/s.length),c=Math.sqrt(r.reduce((i,h)=>i+Math.pow(h-l,2),0)/r.length),o=[Math.round(n-d),Math.round(n+d)],m=[Math.max(0,l-c),Math.min(1,l+c)],x=[];n<90?x.push("Slow, deliberate tempos"):n>130?x.push("Upbeat, energetic tempos"):x.push("Mid-tempo grooves"),l>.7?x.push("High-energy production"):l<.5?x.push("Laid-back, chill vibe"):x.push("Balanced energy");const g=[];t.forEach(i=>{const h=i.analysis.audio_features.tempo_bpm,k=i.analysis.audio_features.energy;(Math.abs(h-n)>d*2||Math.abs(k-l)>c*2)&&g.push(i.name)});const f=Math.max(0,100-d/n*100),_=Math.max(0,100-c*100),b=Math.round((f+_)/2);let w="";return b>=75?w="Strong sonic signature. Your tracks have a recognizable sound.":b>=50?w="Moderate consistency. Consider developing a more distinct sonic identity.":w="Very diverse sonic palette. Decide if you want a signature sound or embrace variety.",{signature_sound:{tempo_range:o,energy_range:m,common_traits:x},consistency_score:b,outlier_tracks:g,recommendation:w}}function ue(t){const s=[];if(t.length<3)return s;const r=t.map(m=>m.analysis.audio_features.loudness_db),n=A(r);Math.abs(n.change)>1&&s.push({metric:"Loudness",direction:n.direction,change_percentage:Math.abs(n.change),description:n.direction==="improving"?"Your mixes are getting louder over time":"Your mixes are getting quieter over time"});const l=t.map(m=>m.analysis.score.breakdown.dynamics*100),d=A(l);Math.abs(d.change)>5&&s.push({metric:"Dynamics",direction:d.direction,change_percentage:Math.abs(d.change),description:d.direction==="improving"?"Your dynamic range control is improving":"Your dynamic range control is declining"});const c=t.map(m=>m.analysis.score.breakdown.frequency_balance*100),o=A(c);return Math.abs(o.change)>5&&s.push({metric:"Frequency Balance",direction:o.direction,change_percentage:Math.abs(o.change),description:o.direction==="improving"?"Your frequency balance is improving":"Your frequency balance needs attention"}),s}function A(t){const s=t.slice(0,Math.floor(t.length/2)),r=t.slice(Math.floor(t.length/2)),n=s.reduce((o,m)=>o+m,0)/s.length,d=(r.reduce((o,m)=>o+m,0)/r.length-n)/n*100;let c;return d>3?c="improving":d<-3?c="declining":c="stable",{direction:c,change:d}}function pe(t,s,r,n){var d;const l=[];return s.trend==="improving"?l.push({type:"strength",title:"Consistent Growth",description:`Your production quality has improved by an average of ${(d=s.improvement_rate)==null?void 0:d.toFixed(1)}% per release. Keep up the momentum!`}):s.trend==="declining"&&l.push({type:"weakness",title:"Quality Inconsistency",description:"Recent releases score lower than earlier work. Review what made your best tracks successful.",tracks_affected:t.slice(-2).map(c=>c.name)}),r.consistency_score<60&&l.push({type:"opportunity",title:"Genre Exploration",description:`You're experimenting with multiple genres (${Object.keys(r.genre_distribution).join(", ")}). Consider whether to specialize or embrace genre-blending as your brand.`}),n.consistency_score>=75&&l.push({type:"strength",title:"Strong Sonic Identity",description:`You have a recognizable sound (${n.signature_sound.common_traits.join(", ")}). This helps with fan retention.`}),n.outlier_tracks.length>0&&l.push({type:"trend",title:"Sonic Experimentation",description:"Some tracks deviate from your typical sound. These could be creative risks or genre exploration.",tracks_affected:n.outlier_tracks}),l}function he(t,s,r,n){const l=[];(t.trend==="declining"||t.score_range[1]-t.score_range[0]>20)&&l.push("Focus on consistency. Study your highest-scoring tracks and replicate their production approach."),s.consistency_score<70&&l.push(`Consider establishing yourself in ${s.primary_genre} before branching out, or embrace genre-blending as your unique brand.`),r.consistency_score<60&&l.push("Develop a signature sound. Consistent tempo ranges, production techniques, and sonic choices help fans recognize your music instantly.");const d=n.filter(c=>c.direction==="declining");return d.length>0&&l.push(`Pay attention to ${d.map(c=>c.metric.toLowerCase()).join(" and ")} - these metrics are declining across recent releases.`),t.average_score<70&&l.push("Consider investing in better mixing/mastering or taking additional production courses to elevate overall quality."),l}function ge(t,s,r){const n=[];n.push(`Model your next release after "${t.name}" - your highest-scoring track (${t.analysis.score.overall}/100).`);const l=t.analysis.audio_features;return n.push(`Target tempo: ${Math.round(l.tempo_bpm)} BPM (Â±10), Energy: ${(l.energy*100).toFixed(0)}%`),r.consistency_score>=70&&n.push(`Stay within your sonic signature: ${r.signature_sound.common_traits.join(", ")}`),s.trend==="improving"?n.push("Continue your upward trajectory - you're on the right path!"):n.push("Focus on quality over quantity for your next release."),n}function xe(t){return t.map((s,r)=>({track_name:s.name.length>20?s.name.substring(0,17)+"...":s.name,track_number:r+1,overall_score:s.analysis.score.overall,loudness:Math.round(s.analysis.score.breakdown.loudness*100),dynamics:Math.round(s.analysis.score.breakdown.dynamics*100),frequency_balance:Math.round(s.analysis.score.breakdown.frequency_balance*100),stereo_imaging:Math.round(s.analysis.score.breakdown.stereo_imaging*100),genre_alignment:Math.round(s.analysis.score.breakdown.genre_alignment*100),commercial_readiness:Math.round(s.analysis.score.breakdown.commercial_readiness*100)}))}function E(t,s){const r=L(t,s),n=P(t),l=fe(t);return Math.round(r*.4+n*.3+l*.3)}function L(t,s){const r=s.toLowerCase();let n=50;return r.includes("pop")?(t.energy>=.5&&t.energy<=.8&&(n+=15),t.danceability>=.6&&(n+=15),t.tempo_bpm>=100&&t.tempo_bpm<=130&&(n+=10),t.valence>=.4&&(n+=10)):r.includes("r&b")||r.includes("r & b")?(t.energy>=.4&&t.energy<=.7&&(n+=15),t.danceability>=.5&&t.danceability<=.8&&(n+=15),t.tempo_bpm>=70&&t.tempo_bpm<=110&&(n+=15),t.speechiness<.33&&(n+=5)):r.includes("hip")?(t.danceability>=.6&&(n+=15),t.tempo_bpm>=70&&t.tempo_bpm<=110&&(n+=15),t.speechiness>=.33&&(n+=15),t.energy>=.5&&(n+=5)):r.includes("electronic")||r.includes("edm")?(t.energy>=.7&&(n+=15),t.danceability>=.7&&(n+=15),t.tempo_bpm>=120&&t.tempo_bpm<=140&&(n+=15),t.instrumentalness>=.3&&(n+=5)):(r.includes("alternative")||r.includes("indie"))&&(t.energy>=.4&&t.energy<=.8&&(n+=15),t.acousticness>=.2&&(n+=10),t.tempo_bpm>=90&&t.tempo_bpm<=140&&(n+=10),n+=15),Math.min(100,Math.max(0,n))}function P(t){let s=50;const r=t.duration_seconds;return r>=180&&r<=240?s+=15:r>=150&&r<=300?s+=10:s+=5,t.energy>=.4&&t.energy<=.8?s+=15:s+=8,t.danceability>=.5?s+=15:s+=8,t.loudness_db>=-8&&t.loudness_db<=-4?s+=10:t.loudness_db>=-10&&t.loudness_db<=-3&&(s+=5),Math.min(100,Math.max(0,s))}function fe(t){let s=60;return t.loudness_db>=-10&&t.loudness_db<=-3?s+=15:s+=5,t.stereo_width!==void 0?t.stereo_width>=.5&&t.stereo_width<=.8?s+=10:s+=5:s+=7,t.dynamic_range_db!==void 0?t.dynamic_range_db>=6&&t.dynamic_range_db<=12?s+=15:t.dynamic_range_db>=4&&(s+=8):s+=10,Math.min(100,Math.max(0,s))}function Ne({onAnalysisComplete:t}={}){const[s,r]=y.useState([]),[n,l]=y.useState("Pop"),[d,c]=y.useState(!1),[o,m]=y.useState(null),[x,g]=y.useState(null),[f,_]=y.useState(""),[b,w]=y.useState("upload"),[i,h]=y.useState(!1),[k,F]=y.useState(!1),z=["Pop","R&B","Hip Hop","Electronic","Alternative"];y.useEffect(()=>{(async()=>{try{const u=await ee();h(!!u)}catch{h(!1)}})()},[]);const U=async()=>{F(!0);try{const a=await se();window.location.href=a}catch(a){g(a instanceof Error?a.message:"Failed to connect to Spotify"),F(!1)}},B=()=>{localStorage.removeItem("spotify_access_token"),localStorage.removeItem("spotify_refresh_token"),localStorage.removeItem("spotify_token_expiry"),h(!1)},D=y.useCallback(a=>{const u=Array.from(a.target.files||[]);if(u.length===0)return;if(u.length>20){g("Maximum 20 tracks allowed");return}const p=u.map((j,N)=>({id:`track-${Date.now()}-${N}`,file:j,name:j.name.replace(/\.[^/.]+$/,""),upload_order:s.length+N+1}));r(j=>[...j,...p]),g(null)},[s.length]),q=y.useCallback(a=>{r(u=>u.filter(p=>p.id!==a))},[]),O=y.useCallback(()=>{r([]),m(null),g(null),_("")},[]),Y=y.useCallback(async()=>{if(!f.trim()){g("Please enter a playlist URL");return}c(!0),g(null);try{const a=f.toLowerCase();if(a.includes("spotify.com")){const u=a.match(/playlist\/([a-zA-Z0-9]+)/);if(!u)throw new Error("Invalid Spotify playlist URL. Please use a link like: https://open.spotify.com/playlist/...");const p=u[1],j=await X(p);if(j.tracks.length===0)throw new Error("Playlist is empty or could not be accessed");if(j.tracks.length>20)throw new Error(`Playlist has ${j.tracks.length} tracks. Maximum 20 tracks allowed. Please use a smaller playlist.`);const N=j.tracks.map(v=>v.id),M=await Z(N),T={};M.forEach(v=>{v&&v.id&&(T[v.id]=v)});const H=j.tracks.map((v,W)=>{const $=T[v.id];if(!$)throw new Error(`Could not fetch audio features for track: ${v.name}`);return{id:v.id,name:v.name,artist:v.artists.join(", "),upload_order:W+1,audio_features:J($)}});r(H),_(""),c(!1);return}else if(a.includes("samply.app")){g(`ðŸŽ¹ Samply Integration Note:

Direct URL imports from Samply are blocked by browser security (CORS).

âœ… Easy Workaround:
1. Download your tracks from Samply.app
2. Switch to "Upload Files" method above
3. Upload your tracks (you'll get REAL audio analysis!)

This actually gives better results than URL import would! ðŸŽ‰`),c(!1);return}else if(a.includes("bandcamp.com")){g("ðŸŽ¸ Bandcamp Integration Coming Soon! Please download your tracks from Bandcamp and upload them manually for now. Direct Bandcamp album/playlist analysis is in development."),c(!1);return}else if(a.includes("soundcloud.com")){g("â˜ï¸ SoundCloud Integration Coming Soon! Please download your tracks and upload them manually for now."),c(!1);return}else if(a.includes("apple.com")||a.includes("music.apple")){g("ðŸŽ Apple Music Integration Coming Soon! Please download your tracks and upload them manually for now."),c(!1);return}else{g("Unsupported URL. Currently supported: Spotify (connected), Bandcamp, SoundCloud, Apple Music (coming soon). For now, please upload files directly for non-Spotify playlists."),c(!1);return}}catch(a){g(a instanceof Error?a.message:"Failed to import playlist"),console.error("Playlist import error:",a)}finally{c(!1)}},[f]),G=y.useCallback(async()=>{if(s.length<2){g("Please upload at least 2 tracks for catalog analysis");return}c(!0),g(null);try{let a;if(K("perf-slice")){const u=await Promise.all(s.map(async(p,j)=>{try{if(p.analysis)return p;if(p.audio_features){const N=await R({features:p.audio_features,fileInfo:{name:p.name,format:"streaming"},targetGenre:n,mixingStage:"mastered"});return{...p,analysis:N}}else if(p.file){const N=await Q(p.file),M=await R({features:N,fileInfo:{name:p.name,size_bytes:p.file.size,format:p.file.type},targetGenre:n,mixingStage:"not-sure"});return{...p,analysis:M}}throw new Error(`Track ${p.name} missing file or audio features`)}catch(N){return console.error("Track analysis failed:",p.name,N),p}}));a=await I(u,n)}else a=await I(s,n);m(a),t&&t(a)}catch(a){g(a instanceof Error?a.message:"Analysis failed"),console.error("Catalog analysis error:",a)}finally{c(!1)}},[s,n,t]),C=a=>a>=80?"text-green-400":a>=60?"text-yellow-400":"text-orange-400";return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-surface-900 via-surface-800 to-surface-900 p-6 space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-primary-100 mb-2",children:"ðŸ“Š Catalog Analyzer"}),e.jsx("p",{className:"text-surface-300 text-sm max-w-2xl mx-auto",children:"Upload tracks or import from Spotify/Bandcamp to analyze your artistic growth, consistency, and sonic identity over time"})]}),e.jsxs("section",{className:"rounded-2xl border border-surface-700 bg-surface-800/80 p-6 backdrop-blur",children:[e.jsx("h2",{className:"text-lg font-semibold text-primary-100 mb-4",children:"Import Your Catalog"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-surface-300 mb-2",children:"Target Genre"}),e.jsx("select",{value:n,onChange:a=>l(a.target.value),className:"w-full rounded-lg bg-surface-700/50 px-3 py-2 text-surface-100",children:z.map(a=>e.jsx("option",{value:a,children:a},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-surface-300 mb-2",children:"Import Method"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>w("upload"),className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${b==="upload"?"bg-primary-600 text-white":"bg-surface-700/50 text-surface-300 hover:bg-surface-700"}`,children:"ðŸ“ Upload Files"}),e.jsx("button",{onClick:()=>w("url"),className:`flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${b==="url"?"bg-primary-600 text-white":"bg-surface-700/50 text-surface-300 hover:bg-surface-700"}`,children:"ðŸ”— Playlist URL"})]})]})]}),b==="upload"?e.jsx("div",{children:e.jsxs("label",{htmlFor:"catalog-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-surface-600 rounded-2xl cursor-pointer hover:border-primary-500 transition-colors",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("svg",{className:"w-10 h-10 mb-2 text-surface-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e.jsxs("p",{className:"text-sm text-surface-300",children:[e.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),e.jsx("p",{className:"text-xs text-surface-400",children:"MP3, WAV, M4A, AAC (including Voice Memos) â€¢ 2-20 tracks â€¢ Max 500MB each"})]}),e.jsx("input",{id:"catalog-upload",type:"file",className:"hidden",accept:"audio/*,.mp3,.wav,.m4a,.aac,.ogg,.flac,.wma",multiple:!0,onChange:D})]})}):e.jsxs("div",{children:[e.jsxs("div",{className:`mb-4 p-4 rounded-lg border ${i?"bg-green-500/10 border-green-500/30":"bg-yellow-500/10 border-yellow-500/30"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:i?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-green-400 text-lg",children:"âœ“"}),e.jsx("span",{className:"text-sm font-medium text-green-300",children:"Spotify Connected"})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-yellow-400 text-lg",children:"âš "}),e.jsx("span",{className:"text-sm font-medium text-yellow-300",children:"Spotify Not Connected"})]})}),i?e.jsx("button",{onClick:B,className:"text-xs text-red-300 hover:text-red-200 underline",children:"Disconnect"}):e.jsx("button",{onClick:U,disabled:k,className:"px-4 py-1.5 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white text-xs font-medium rounded transition-colors",children:k?"Connecting...":"Connect Spotify"})]}),!i&&e.jsx("p",{className:"text-xs text-yellow-200 mt-2",children:"Connect your Spotify account to import playlists directly"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-sm text-surface-300 mb-2",children:"Playlist/Album URL"}),e.jsx("input",{type:"text",value:f,onChange:a=>_(a.target.value),placeholder:"https://open.spotify.com/playlist/... (Samply: use Upload Files method)",className:"w-full rounded-lg bg-surface-700/50 px-4 py-3 text-surface-100 placeholder-surface-500 focus:ring-2 focus:ring-primary-500 transition-colors"})]}),e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 mb-3",children:[e.jsx("div",{className:"text-xs font-medium text-blue-300 mb-2",children:"âœ¨ Supported Platforms"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2 text-xs text-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"ðŸŽµ"})," Spotify ",i&&e.jsx("span",{className:"text-green-400",children:"âœ“"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"ðŸŽ¹"})," Samply ",e.jsx("span",{className:"text-blue-300",children:"(Upload)"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"ðŸŽ¸"})," Bandcamp ",e.jsx("span",{className:"text-yellow-300",children:"(Soon)"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"â˜ï¸"})," SoundCloud ",e.jsx("span",{className:"text-yellow-300",children:"(Soon)"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"ðŸŽ"})," Apple Music ",e.jsx("span",{className:"text-yellow-300",children:"(Soon)"})]})]}),i?e.jsx("p",{className:"text-xs text-green-300 mt-2",children:'âœ“ Spotify connected! For Samply tracks, download them and use "Upload Files" method.'}):e.jsx("p",{className:"text-xs text-blue-300 mt-2",children:'ðŸ’¡ Pro Tip: For Samply tracks, download them from Samply.app and use "Upload Files" method for the best analysis. Connect Spotify for direct streaming imports.'})]}),e.jsx("button",{onClick:Y,disabled:d||!f.trim()||!i&&f.toLowerCase().includes("spotify"),className:"w-full py-3 px-4 bg-primary-500 hover:bg-primary-600 disabled:bg-surface-700 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-colors",children:d?"ðŸ”„ Importing...":"ðŸ”— Import from URL"})]}),s.length>0&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-surface-300",children:[s.length," track",s.length>1?"s":""," uploaded"]}),e.jsx("button",{onClick:O,className:"text-xs text-red-400 hover:text-red-300",children:"Clear all"})]}),e.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:s.map((a,u)=>e.jsxs("div",{className:"flex items-center justify-between bg-surface-700/30 rounded px-3 py-2",children:[e.jsxs("span",{className:"text-xs text-surface-200 flex items-center gap-2",children:[e.jsxs("span",{className:"text-surface-500",children:["#",u+1]}),a.name]}),e.jsx("button",{onClick:()=>q(a.id),className:"text-surface-400 hover:text-red-400",children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},a.id))})]}),x&&e.jsx("div",{className:"mt-4 p-3 bg-red-500/10 border border-red-500/50 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-200",children:x})}),b==="upload"&&e.jsx("button",{onClick:G,disabled:d||s.length<2,className:"mt-4 w-full py-3 px-4 bg-primary-500 hover:bg-primary-600 disabled:bg-surface-700 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-colors",children:d?"ðŸ”„ Analyzing Catalog...":`ðŸ“Š Analyze ${s.length} Track${s.length>1?"s":""}`})]}),o&&e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"rounded-2xl border border-surface-700 bg-surface-800/80 p-6 backdrop-blur",children:[e.jsx("h3",{className:"text-lg font-semibold text-primary-100 mb-4",children:"Catalog Overview"}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-surface-700/30 rounded-lg p-4",children:[e.jsx("div",{className:"text-xs text-surface-400 mb-1",children:"Average Score"}),e.jsx("div",{className:`text-3xl font-bold ${C(o.average_score)}`,children:o.average_score})]}),e.jsxs("div",{className:"bg-surface-700/30 rounded-lg p-4",children:[e.jsx("div",{className:"text-xs text-surface-400 mb-1",children:"Quality Trend"}),e.jsx("div",{className:`text-lg font-semibold ${o.score_trend==="improving"?"text-green-400":o.score_trend==="declining"?"text-red-400":"text-yellow-400"}`,children:o.score_trend==="improving"?"ðŸ“ˆ Improving":o.score_trend==="declining"?"ðŸ“‰ Declining":"â†’ Stable"})]}),e.jsxs("div",{className:"bg-surface-700/30 rounded-lg p-4",children:[e.jsx("div",{className:"text-xs text-surface-400 mb-1",children:"Genre Consistency"}),e.jsxs("div",{className:"text-lg font-semibold text-surface-200",children:[o.genre_consistency.consistency_score,"%"]}),e.jsx("div",{className:"text-xs text-surface-400 mt-1",children:o.genre_consistency.primary_genre})]}),e.jsxs("div",{className:"bg-surface-700/30 rounded-lg p-4",children:[e.jsx("div",{className:"text-xs text-surface-400 mb-1",children:"Sonic Identity"}),e.jsxs("div",{className:"text-lg font-semibold text-surface-200",children:[o.sonic_identity.consistency_score,"%"]}),e.jsx("div",{className:"text-xs text-surface-400 mt-1",children:"Consistency"})]})]})]}),e.jsxs("section",{className:"rounded-2xl border border-surface-700 bg-surface-800/80 p-6 backdrop-blur",children:[e.jsx("h3",{className:"text-lg font-semibold text-primary-100 mb-4",children:"Quality Over Time"}),e.jsx(te,{width:"100%",height:300,children:e.jsxs(ne,{data:xe(o.tracks),children:[e.jsx(ae,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(re,{dataKey:"track_name",stroke:"#9CA3AF",style:{fontSize:"12px"}}),e.jsx(oe,{stroke:"#9CA3AF",domain:[0,100]}),e.jsx(ie,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px"},labelStyle:{color:"#E5E7EB"}}),e.jsx(le,{}),e.jsx(S,{type:"monotone",dataKey:"overall_score",stroke:"#8B5CF6",strokeWidth:2,name:"Overall Score"}),e.jsx(S,{type:"monotone",dataKey:"loudness",stroke:"#10B981",strokeWidth:1.5,name:"Loudness"}),e.jsx(S,{type:"monotone",dataKey:"dynamics",stroke:"#F59E0B",strokeWidth:1.5,name:"Dynamics"}),e.jsx(S,{type:"monotone",dataKey:"frequency_balance",stroke:"#3B82F6",strokeWidth:1.5,name:"Frequency"})]})})]}),o.insights.length>0&&e.jsxs("section",{className:"rounded-2xl border border-blue-700/50 bg-blue-900/20 p-6 backdrop-blur",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-100 mb-4",children:"ðŸ’¡ Key Insights"}),e.jsx("div",{className:"space-y-3",children:o.insights.map((a,u)=>e.jsx("div",{className:"bg-surface-800/50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-lg",children:a.type==="strength"?"âœ…":a.type==="weakness"?"âš ï¸":a.type==="opportunity"?"ðŸ’¡":"ðŸ“Š"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-semibold text-surface-100 mb-1",children:a.title}),e.jsx("p",{className:"text-sm text-surface-300",children:a.description}),a.tracks_affected&&a.tracks_affected.length>0&&e.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:a.tracks_affected.map(p=>e.jsx("span",{className:"text-xs bg-surface-700/50 text-surface-400 px-2 py-1 rounded",children:p},p))})]})]})},u))})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("section",{className:"rounded-2xl border border-green-700/50 bg-green-900/20 p-6 backdrop-blur",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-100 mb-4",children:"ðŸ† Best Performing Track"}),e.jsxs("div",{className:"bg-surface-800/50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"text-md font-semibold text-surface-100",children:o.best_performing_track.name}),e.jsx("span",{className:`text-2xl font-bold ${C(o.best_performing_track.score)}`,children:o.best_performing_track.score})]}),e.jsx("div",{className:"space-y-1",children:o.best_performing_track.strengths.slice(0,3).map((a,u)=>e.jsxs("div",{className:"text-sm text-green-200",children:["âœ“ ",a]},u))})]})]}),e.jsxs("section",{className:"rounded-2xl border border-orange-700/50 bg-orange-900/20 p-6 backdrop-blur",children:[e.jsx("h3",{className:"text-lg font-semibold text-orange-100 mb-4",children:"ðŸ“ Needs Improvement"}),e.jsx("div",{className:"space-y-2",children:o.needs_improvement.map((a,u)=>e.jsxs("div",{className:"bg-surface-800/50 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-surface-200",children:a.name}),e.jsx("span",{className:`text-lg font-bold ${C(a.score)}`,children:a.score})]}),e.jsx("div",{className:"text-xs text-surface-400",children:a.issues.slice(0,2).join(", ")})]},u))})]})]}),e.jsxs("section",{className:"rounded-2xl border border-purple-700/50 bg-purple-900/20 p-6 backdrop-blur",children:[e.jsx("h3",{className:"text-lg font-semibold text-purple-100 mb-4",children:"ðŸŽ¯ Recommendations"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-purple-200 mb-2",children:"Overall Strategy"}),e.jsx("div",{className:"space-y-2",children:o.overall_recommendations.map((a,u)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm text-surface-300",children:[e.jsx("span",{className:"text-purple-400 mt-0.5",children:"â†’"}),e.jsx("span",{children:a})]},u))})]}),e.jsxs("div",{className:"border-t border-surface-700 pt-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-purple-200 mb-2",children:"Next Release Guidance"}),e.jsx("div",{className:"space-y-2",children:o.next_release_guidance.map((a,u)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm text-surface-300",children:[e.jsx("span",{className:"text-blue-400 mt-0.5",children:"ðŸ’¡"}),e.jsx("span",{children:a})]},u))})]})]})]})]})]})}export{Ne as default};
