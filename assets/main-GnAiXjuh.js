const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/GrantDiscovery-rsCwcVNZ.js","assets/flags-BL-W5WOk.js","assets/vendor-react-BVOO17zE.js","assets/flags-C7OVBsQo.css","assets/vendor-charts-BfDgEjn4.js","assets/GrantApplicationTracker-DaG4FDhv.js","assets/MixAnalyzer-CGn51gFS.js","assets/workers-C2qbLtHH.js","assets/CatalogAnalyzer-DOCMIOLc.js","assets/PortfolioDashboard-Da_YNrzh.js","assets/ArtistComparisonView-6CdHEwT6.js","assets/PortfolioAnalytics-CPfRDmn4.js","assets/TourPlanner-C1mMbWtS.js","assets/MasterPlan-DuFf6HGc.js","assets/pricing-RT0dD_qj.js","assets/TalentFinder-GZjBkWIp.js","assets/testerContact-Bnwc-oM4.js","assets/MerchPlanner-C1SI24iT.js"])))=>i.map(i=>d[i]);
var Yn=Object.defineProperty;var Zn=(e,r,n)=>r in e?Yn(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n;var de=(e,r,n)=>Zn(e,typeof r!="symbol"?r+"":r,n);import{j as t,c as Qn,g as Xn}from"./flags-BL-W5WOk.js";import{r as v,R as u,a as ea,u as ta,b as Us,H as Ls,d as Ds,e as Se,N as Vr}from"./vendor-react-BVOO17zE.js";import{R as Gr,B as ra,C as Hr,X as Kr,Y as Jr,T as Yr,a as sa,L as na,b as aa}from"./vendor-charts-BfDgEjn4.js";var Fe,ia=(Fe=class extends Error{constructor(n){super(new.target.formatMessage(new.target.kind,n.message,n.code,n.docsUrl),{cause:n.cause});de(this,"clerkError",!0);de(this,"code");de(this,"longMessage");de(this,"docsUrl");de(this,"cause");Object.setPrototypeOf(this,Fe.prototype),this.code=n.code,this.docsUrl=n.docsUrl,this.longMessage=n.longMessage,this.cause=n.cause}get name(){return this.constructor.name}toString(){return`[${this.name}]
Message:${this.message}`}static formatMessage(n,a,s,i){const l="Clerk:",o=new RegExp(l.replace(" ","\\s*"),"i");return a=a.replace(o,""),a=`${l} ${a.trim()}

(code="${s}")

`,i&&(a+=`

Docs: ${i}`),a}},de(Fe,"kind","ClerkError"),Fe),oa=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function zs({packageName:e,customMessages:r}){let n=e;function a(i,l){if(!l)return`${n}: ${i}`;let o=i;const c=i.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);for(const f of c){const h=(l[f[1]]||"").toString();o=o.replace(`{{${f[1]}}}`,h)}return`${n}: ${o}`}const s={...oa,...r};return{setPackageName({packageName:i}){return typeof i=="string"&&(n=i),this},setMessages({customMessages:i}){return Object.assign(s,i||{}),this},throwInvalidPublishableKeyError(i){throw new Error(a(s.InvalidPublishableKeyErrorMessage,i))},throwInvalidProxyUrl(i){throw new Error(a(s.InvalidProxyUrlErrorMessage,i))},throwMissingPublishableKeyError(){throw new Error(a(s.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw new Error(a(s.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(i){throw new Error(a(s.MissingClerkProvider,i))},throw(i){throw new Error(a(i))}}}var We,Fs=(We=class extends ia{constructor(n,a){super({...a,message:n});de(this,"clerkRuntimeError",!0);Object.setPrototypeOf(this,We.prototype)}},de(We,"kind","ClerkRuntimeError"),We),Ws=Object.defineProperty,la=Object.getOwnPropertyDescriptor,ca=Object.getOwnPropertyNames,da=Object.prototype.hasOwnProperty,ua=(e,r)=>{for(var n in r)Ws(e,n,{get:r[n],enumerable:!0})},ma=(e,r,n,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of ca(r))!da.call(e,s)&&s!==n&&Ws(e,s,{get:()=>r[s],enumerable:!(a=la(r,s))||a.enumerable});return e},pa=(e,r,n)=>(ma(e,r,"default"),n),ha={strict_mfa:{afterMinutes:10,level:"multi_factor"},strict:{afterMinutes:10,level:"second_factor"},moderate:{afterMinutes:60,level:"second_factor"},lax:{afterMinutes:1440,level:"second_factor"}},fa=new Set(["first_factor","second_factor","multi_factor"]),ga=new Set(["strict_mfa","strict","moderate","lax"]),xa=e=>typeof e=="number"&&e>0,ba=e=>fa.has(e),ya=e=>ga.has(e),Zt=e=>e.replace(/^(org:)*/,"org:"),va=(e,r)=>{const{orgId:n,orgRole:a,orgPermissions:s}=r;return!e.role&&!e.permission||!n||!a||!s?null:e.permission?s.includes(Zt(e.permission)):e.role?Zt(a)===Zt(e.role):null},Zr=(e,r)=>{const{org:n,user:a}=_a(e),[s,i]=r.split(":"),l=i||s;return s==="org"?n.includes(l):s==="user"?a.includes(l):[...n,...a].includes(l)},ja=(e,r)=>{const{features:n,plans:a}=r;return e.feature&&n?Zr(n,e.feature):e.plan&&a?Zr(a,e.plan):null},_a=e=>{const r=e?e.split(",").map(n=>n.trim()):[];return{org:r.filter(n=>n.split(":")[0].includes("o")).map(n=>n.split(":")[1]),user:r.filter(n=>n.split(":")[0].includes("u")).map(n=>n.split(":")[1])}},wa=e=>{if(!e)return!1;const r=s=>typeof s=="string"?ha[s]:s,n=typeof e=="string"&&ya(e),a=typeof e=="object"&&ba(e.level)&&xa(e.afterMinutes);return n||a?r.bind(null,e):!1},ka=(e,{factorVerificationAge:r})=>{if(!e.reverification||!r)return null;const n=wa(e.reverification);if(!n)return null;const{level:a,afterMinutes:s}=n(),[i,l]=r,o=i!==-1?s>i:null,c=l!==-1?s>l:null;switch(a){case"first_factor":return o;case"second_factor":return l!==-1?c:o;case"multi_factor":return l===-1?o:o&&c}},Sa=e=>r=>{if(!e.userId)return!1;const n=ja(r,e),a=va(r,e),s=ka(r,e);return[n||a,s].some(i=>i===null)?[n||a,s].some(i=>i===!0):[n||a,s].every(i=>i===!0)},Na=({authObject:{sessionId:e,sessionStatus:r,userId:n,actor:a,orgId:s,orgRole:i,orgSlug:l,signOut:o,getToken:c,has:f,sessionClaims:h},options:{treatPendingAsSignedOut:m=!0}})=>{if(e===void 0&&n===void 0)return{isLoaded:!1,isSignedIn:void 0,sessionId:e,sessionClaims:void 0,userId:n,actor:void 0,orgId:void 0,orgRole:void 0,orgSlug:void 0,has:void 0,signOut:o,getToken:c};if(e===null&&n===null)return{isLoaded:!0,isSignedIn:!1,sessionId:e,userId:n,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:o,getToken:c};if(m&&r==="pending")return{isLoaded:!0,isSignedIn:!1,sessionId:null,userId:null,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:o,getToken:c};if(e&&h&&n&&s&&i)return{isLoaded:!0,isSignedIn:!0,sessionId:e,sessionClaims:h,userId:n,actor:a||null,orgId:s,orgRole:i,orgSlug:l||null,has:f,signOut:o,getToken:c};if(e&&h&&n&&!s)return{isLoaded:!0,isSignedIn:!0,sessionId:e,sessionClaims:h,userId:n,actor:a||null,orgId:null,orgRole:null,orgSlug:null,has:f,signOut:o,getToken:c}},Bs=e=>typeof atob<"u"&&typeof atob=="function"?atob(e):typeof global<"u"&&global.Buffer?new global.Buffer(e,"base64").toString():e,Ca=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],$s="pk_live_",Pa="pk_test_";function qs(e){if(!e.endsWith("$"))return!1;const r=e.slice(0,-1);return r.includes("$")?!1:r.includes(".")}function Qr(e,r={}){if(e=e||"",!e||!yr(e)){if(r.fatal&&!e)throw new Error("Publishable key is missing. Ensure that your publishable key is correctly configured. Double-check your environment configuration for your keys, or access them here: https://dashboard.clerk.com/last-active?path=api-keys");if(r.fatal&&!yr(e))throw new Error("Publishable key not valid.");return null}const n=e.startsWith($s)?"production":"development";let a;try{a=Bs(e.split("_")[2])}catch{if(r.fatal)throw new Error("Publishable key not valid: Failed to decode key.");return null}if(!qs(a)){if(r.fatal)throw new Error("Publishable key not valid: Decoded key has invalid format.");return null}let s=a.slice(0,-1);return r.proxyUrl?s=r.proxyUrl:n!=="development"&&r.domain&&r.isSatellite&&(s=`clerk.${r.domain}`),{instanceType:n,frontendApi:s}}function yr(e=""){try{if(!(e.startsWith($s)||e.startsWith(Pa)))return!1;const n=e.split("_");if(n.length!==3)return!1;const a=n[2];if(!a)return!1;const s=Bs(a);return qs(s)}catch{return!1}}function Aa(){const e=new Map;return{isDevOrStagingUrl:r=>{if(!r)return!1;const n=typeof r=="string"?r:r.hostname;let a=e.get(n);return a===void 0&&(a=Ca.some(s=>n.endsWith(s)),e.set(n,a)),a}}}var Ea="METHOD_CALLED",Ta=.1;function Vs(e,r){return{event:Ea,eventSamplingRate:Ta,payload:{method:e,...r}}}var Gs={exports:{}},Hs={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xe=v;function Ma(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Oa=typeof Object.is=="function"?Object.is:Ma,Ra=Xe.useState,Ia=Xe.useEffect,Ua=Xe.useLayoutEffect,La=Xe.useDebugValue;function Da(e,r){var n=r(),a=Ra({inst:{value:n,getSnapshot:r}}),s=a[0].inst,i=a[1];return Ua(function(){s.value=n,s.getSnapshot=r,Qt(s)&&i({inst:s})},[e,n,r]),Ia(function(){return Qt(s)&&i({inst:s}),e(function(){Qt(s)&&i({inst:s})})},[e]),La(n),n}function Qt(e){var r=e.getSnapshot;e=e.value;try{var n=r();return!Oa(e,n)}catch{return!0}}function za(e,r){return r()}var Fa=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?za:Da;Hs.useSyncExternalStore=Xe.useSyncExternalStore!==void 0?Xe.useSyncExternalStore:Fa;Gs.exports=Hs;var Ks=Gs.exports;const Js=0,Ys=1,Zs=2,Xr=3;var es=Object.prototype.hasOwnProperty;function vr(e,r){var n,a;if(e===r)return!0;if(e&&r&&(n=e.constructor)===r.constructor){if(n===Date)return e.getTime()===r.getTime();if(n===RegExp)return e.toString()===r.toString();if(n===Array){if((a=e.length)===r.length)for(;a--&&vr(e[a],r[a]););return a===-1}if(!n||typeof e=="object"){a=0;for(n in e)if(es.call(e,n)&&++a&&!es.call(r,n)||!(n in r)||!vr(e[n],r[n]))return!1;return Object.keys(r).length===a}}return e!==e&&r!==r}const be=new WeakMap,Ie=()=>{},J=Ie(),Rt=Object,E=e=>e===J,ue=e=>typeof e=="function",Pe=(e,r)=>({...e,...r}),Qs=e=>ue(e.then),Xt={},_t={},Ir="undefined",mt=typeof window!=Ir,jr=typeof document!=Ir,Wa=mt&&"Deno"in window,Ba=()=>mt&&typeof window.requestAnimationFrame!=Ir,Oe=(e,r)=>{const n=be.get(e);return[()=>!E(r)&&e.get(r)||Xt,a=>{if(!E(r)){const s=e.get(r);r in _t||(_t[r]=s),n[5](r,Pe(s,a),s||Xt)}},n[6],()=>!E(r)&&r in _t?_t[r]:!E(r)&&e.get(r)||Xt]};let _r=!0;const $a=()=>_r,[wr,kr]=mt&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Ie,Ie],qa=()=>{const e=jr&&document.visibilityState;return E(e)||e!=="hidden"},Va=e=>(jr&&document.addEventListener("visibilitychange",e),wr("focus",e),()=>{jr&&document.removeEventListener("visibilitychange",e),kr("focus",e)}),Ga=e=>{const r=()=>{_r=!0,e()},n=()=>{_r=!1};return wr("online",r),wr("offline",n),()=>{kr("online",r),kr("offline",n)}},Ha={isOnline:$a,isVisible:qa},Ka={initFocus:Va,initReconnect:Ga},ts=!u.useId,ut=!mt||Wa,Ja=e=>Ba()?window.requestAnimationFrame(e):setTimeout(e,1),lt=ut?v.useEffect:v.useLayoutEffect,er=typeof navigator<"u"&&navigator.connection,rs=!ut&&er&&(["slow-2g","2g"].includes(er.effectiveType)||er.saveData),wt=new WeakMap,Ya=e=>Rt.prototype.toString.call(e),tr=(e,r)=>e===`[object ${r}]`;let Za=0;const Sr=e=>{const r=typeof e,n=Ya(e),a=tr(n,"Date"),s=tr(n,"RegExp"),i=tr(n,"Object");let l,o;if(Rt(e)===e&&!a&&!s){if(l=wt.get(e),l)return l;if(l=++Za+"~",wt.set(e,l),Array.isArray(e)){for(l="@",o=0;o<e.length;o++)l+=Sr(e[o])+",";wt.set(e,l)}if(i){l="#";const c=Rt.keys(e).sort();for(;!E(o=c.pop());)E(e[o])||(l+=o+":"+Sr(e[o])+",");wt.set(e,l)}}else l=a?e.toJSON():r=="symbol"?e.toString():r=="string"?JSON.stringify(e):""+e;return l},et=e=>{if(ue(e))try{e=e()}catch{e=""}const r=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Sr(e):"",[e,r]};let Qa=0;const Nr=()=>++Qa;async function Xs(...e){const[r,n,a,s]=e,i=Pe({populateCache:!0,throwOnError:!0},typeof s=="boolean"?{revalidate:s}:s||{});let l=i.populateCache;const o=i.rollbackOnError;let c=i.optimisticData;const f=b=>typeof o=="function"?o(b):o!==!1,h=i.throwOnError;if(ue(n)){const b=n,x=[],P=r.keys();for(const y of P)!/^\$(inf|sub)\$/.test(y)&&b(r.get(y)._k)&&x.push(y);return Promise.all(x.map(m))}return m(n);async function m(b){const[x]=et(b);if(!x)return;const[P,y]=Oe(r,x),[C,_,N,A]=be.get(r),S=()=>{const z=C[x];return(ue(i.revalidate)?i.revalidate(P().data,b):i.revalidate!==!1)&&(delete N[x],delete A[x],z&&z[0])?z[0](Zs).then(()=>P().data):P().data};if(e.length<3)return S();let k=a,D,O=!1;const w=Nr();_[x]=[w,0];const M=!E(c),T=P(),R=T.data,H=T._c,K=E(H)?R:H;if(M&&(c=ue(c)?c(K,R):c,y({data:c,_c:K})),ue(k))try{k=k(K)}catch(z){D=z,O=!0}if(k&&Qs(k))if(k=await k.catch(z=>{D=z,O=!0}),w!==_[x][0]){if(O)throw D;return k}else O&&M&&f(D)&&(l=!0,y({data:K,_c:J}));if(l&&!O)if(ue(l)){const z=l(k,K);y({data:z,error:J,_c:J})}else y({data:k,error:J,_c:J});if(_[x][1]=Nr(),Promise.resolve(S()).then(()=>{y({_c:J})}),O){if(h)throw D;return}return k}}const ss=(e,r)=>{for(const n in e)e[n][0]&&e[n][0](r)},en=(e,r)=>{if(!be.has(e)){const n=Pe(Ka,r),a=Object.create(null),s=Xs.bind(J,e);let i=Ie;const l=Object.create(null),o=(h,m)=>{const b=l[h]||[];return l[h]=b,b.push(m),()=>b.splice(b.indexOf(m),1)},c=(h,m,b)=>{e.set(h,m);const x=l[h];if(x)for(const P of x)P(m,b)},f=()=>{if(!be.has(e)&&(be.set(e,[a,Object.create(null),Object.create(null),Object.create(null),s,c,o]),!ut)){const h=n.initFocus(setTimeout.bind(J,ss.bind(J,a,Js))),m=n.initReconnect(setTimeout.bind(J,ss.bind(J,a,Ys)));i=()=>{h&&h(),m&&m(),be.delete(e)}}};return f(),[e,s,f,i]}return[e,be.get(e)[4]]},Xa=(e,r,n,a,s)=>{const i=n.errorRetryCount,l=s.retryCount,o=~~((Math.random()+.5)*(1<<(l<8?l:8)))*n.errorRetryInterval;!E(i)&&l>i||setTimeout(a,o,s)},ei=vr,[pt,tn]=en(new Map),rn=Pe({onLoadingSlow:Ie,onSuccess:Ie,onError:Ie,onErrorRetry:Xa,onDiscarded:Ie,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:rs?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:rs?5e3:3e3,compare:ei,isPaused:()=>!1,cache:pt,mutate:tn,fallback:{}},Ha),sn=(e,r)=>{const n=Pe(e,r);if(r){const{use:a,fallback:s}=e,{use:i,fallback:l}=r;a&&i&&(n.use=a.concat(i)),s&&l&&(n.fallback=Pe(s,l))}return n},Cr=v.createContext({}),ti=e=>{const{value:r}=e,n=v.useContext(Cr),a=ue(r),s=v.useMemo(()=>a?r(n):r,[a,n,r]),i=v.useMemo(()=>a?s:sn(n,s),[a,n,s]),l=s&&s.provider,o=v.useRef(J);l&&!o.current&&(o.current=en(l(i.cache||pt),s));const c=o.current;return c&&(i.cache=c[0],i.mutate=c[1]),lt(()=>{if(c)return c[2]&&c[2](),c[3]},[]),v.createElement(Cr.Provider,Pe(e,{value:i}))},nn="$inf$",an=mt&&window.__SWR_DEVTOOLS_USE__,ri=an?window.__SWR_DEVTOOLS_USE__:[],si=()=>{an&&(window.__SWR_DEVTOOLS_REACT__=u)},on=e=>ue(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],ln=()=>Pe(rn,v.useContext(Cr)),ni=(e,r)=>{const[n,a]=et(e),[,,,s]=be.get(pt);if(s[n])return s[n];const i=r(a);return s[n]=i,i},ai=e=>(r,n,a)=>e(r,n&&((...i)=>{const[l]=et(r),[,,,o]=be.get(pt);if(l.startsWith(nn))return n(...i);const c=o[l];return E(c)?n(...i):(delete o[l],c)}),a),ii=ri.concat(ai),oi=e=>function(...n){const a=ln(),[s,i,l]=on(n),o=sn(a,l);let c=e;const{use:f}=o,h=(f||[]).concat(ii);for(let m=h.length;m--;)c=h[m](c);return c(s,i||o.fetcher||null,o)},li=(e,r,n)=>{const a=r[e]||(r[e]=[]);return a.push(n),()=>{const s=a.indexOf(n);s>=0&&(a[s]=a[a.length-1],a.pop())}},ci=(e,r)=>(...n)=>{const[a,s,i]=on(n),l=(i.use||[]).concat(r);return e(a,s,{...i,use:l})};si();const di=()=>{},ui=di(),Pr=Object,ns=e=>e===ui,mi=e=>typeof e=="function",kt=new WeakMap,pi=e=>Pr.prototype.toString.call(e),rr=(e,r)=>e===`[object ${r}]`;let hi=0;const Ar=e=>{const r=typeof e,n=pi(e),a=rr(n,"Date"),s=rr(n,"RegExp"),i=rr(n,"Object");let l,o;if(Pr(e)===e&&!a&&!s){if(l=kt.get(e),l)return l;if(l=++hi+"~",kt.set(e,l),Array.isArray(e)){for(l="@",o=0;o<e.length;o++)l+=Ar(e[o])+",";kt.set(e,l)}if(i){l="#";const c=Pr.keys(e).sort();for(;!ns(o=c.pop());)ns(e[o])||(l+=o+":"+Ar(e[o])+",");kt.set(e,l)}}else l=a?e.toJSON():r=="symbol"?e.toString():r=="string"?JSON.stringify(e):""+e;return l},fi=e=>{if(mi(e))try{e=e()}catch{e=""}const r=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Ar(e):"",[e,r]},gi=e=>fi(e)[0],sr=u.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(r=>{e.status="fulfilled",e.value=r},r=>{e.status="rejected",e.reason=r}),e}}),nr={dedupe:!0},xi=(e,r,n)=>{const{cache:a,compare:s,suspense:i,fallbackData:l,revalidateOnMount:o,revalidateIfStale:c,refreshInterval:f,refreshWhenHidden:h,refreshWhenOffline:m,keepPreviousData:b}=n,[x,P,y,C]=be.get(a),[_,N]=et(e),A=v.useRef(!1),S=v.useRef(!1),k=v.useRef(_),D=v.useRef(r),O=v.useRef(n),w=()=>O.current,M=()=>w().isVisible()&&w().isOnline(),[T,R,H,K]=Oe(a,_),z=v.useRef({}).current,Z=E(l)?E(n.fallback)?J:n.fallback[_]:l,ae=(W,F)=>{for(const Y in z){const B=Y;if(B==="data"){if(!s(W[B],F[B])&&(!E(W[B])||!s(pe,F[B])))return!1}else if(F[B]!==W[B])return!1}return!0},L=v.useMemo(()=>{const W=!_||!r?!1:E(o)?w().isPaused()||i?!1:c!==!1:o,F=Q=>{const le=Pe(Q);return delete le._k,W?{isValidating:!0,isLoading:!0,...le}:le},Y=T(),B=K(),oe=F(Y),we=Y===B?oe:F(B);let G=oe;return[()=>{const Q=F(T());return ae(Q,G)?(G.data=Q.data,G.isLoading=Q.isLoading,G.isValidating=Q.isValidating,G.error=Q.error,G):(G=Q,Q)},()=>we]},[a,_]),re=Ks.useSyncExternalStore(v.useCallback(W=>H(_,(F,Y)=>{ae(Y,F)||W()}),[a,_]),L[0],L[1]),je=!A.current,$e=x[_]&&x[_].length>0,me=re.data,I=E(me)?Z&&Qs(Z)?sr(Z):Z:me,_e=re.error,ie=v.useRef(I),pe=b?E(me)?E(ie.current)?I:ie.current:me:I,qe=$e&&!E(_e)?!1:je&&!E(o)?o:w().isPaused()?!1:i?E(I)?!1:c:E(I)||c,gt=!!(_&&r&&je&&qe),Kt=E(re.isValidating)?gt:re.isValidating,Jt=E(re.isLoading)?gt:re.isLoading,Ue=v.useCallback(async W=>{const F=D.current;if(!_||!F||S.current||w().isPaused())return!1;let Y,B,oe=!0;const we=W||{},G=!y[_]||!we.dedupe,Q=()=>ts?!S.current&&_===k.current&&A.current:_===k.current,le={isValidating:!1,isLoading:!1},tt=()=>{R(le)},rt=()=>{const se=y[_];se&&se[1]===B&&delete y[_]},bt={isValidating:!0};E(T().data)&&(bt.isLoading=!0);try{if(G&&(R(bt),n.loadingTimeout&&E(T().data)&&setTimeout(()=>{oe&&Q()&&w().onLoadingSlow(_,n)},n.loadingTimeout),y[_]=[F(N),Nr()]),[Y,B]=y[_],Y=await Y,G&&setTimeout(rt,n.dedupingInterval),!y[_]||y[_][1]!==B)return G&&Q()&&w().onDiscarded(_),!1;le.error=J;const se=P[_];if(!E(se)&&(B<=se[0]||B<=se[1]||se[1]===0))return tt(),G&&Q()&&w().onDiscarded(_),!1;const he=T().data;le.data=s(he,Y)?he:Y,G&&Q()&&w().onSuccess(Y,_,n)}catch(se){rt();const he=w(),{shouldRetryOnError:Ve}=he;he.isPaused()||(le.error=se,G&&Q()&&(he.onError(se,_,he),(Ve===!0||ue(Ve)&&Ve(se))&&(!w().revalidateOnFocus||!w().revalidateOnReconnect||M())&&he.onErrorRetry(se,_,he,yt=>{const d=x[_];d&&d[0]&&d[0](Xr,yt)},{retryCount:(we.retryCount||0)+1,dedupe:!0})))}return oe=!1,tt(),!0},[_,a]),xt=v.useCallback((...W)=>Xs(a,k.current,...W),[]);if(lt(()=>{D.current=r,O.current=n,E(me)||(ie.current=me)}),lt(()=>{if(!_)return;const W=Ue.bind(J,nr);let F=0;w().revalidateOnFocus&&(F=Date.now()+w().focusThrottleInterval);const B=li(_,x,(oe,we={})=>{if(oe==Js){const G=Date.now();w().revalidateOnFocus&&G>F&&M()&&(F=G+w().focusThrottleInterval,W())}else if(oe==Ys)w().revalidateOnReconnect&&M()&&W();else{if(oe==Zs)return Ue();if(oe==Xr)return Ue(we)}});return S.current=!1,k.current=_,A.current=!0,R({_k:N}),qe&&(y[_]||(E(I)||ut?W():Ja(W))),()=>{S.current=!0,B()}},[_]),lt(()=>{let W;function F(){const B=ue(f)?f(T().data):f;B&&W!==-1&&(W=setTimeout(Y,B))}function Y(){!T().error&&(h||w().isVisible())&&(m||w().isOnline())?Ue(nr).then(F):F()}return F(),()=>{W&&(clearTimeout(W),W=-1)}},[f,h,m,_]),v.useDebugValue(pe),i&&E(I)&&_){if(!ts&&ut)throw new Error("Fallback data is required when using Suspense in SSR.");D.current=r,O.current=n,S.current=!1;const W=C[_];if(!E(W)){const F=xt(W);sr(F)}if(E(_e)){const F=Ue(nr);E(pe)||(F.status="fulfilled",F.value=!0),sr(F)}else throw _e}return{mutate:xt,get data(){return z.data=!0,pe},get error(){return z.error=!0,_e},get isValidating(){return z.isValidating=!0,Kt},get isLoading(){return z.isLoading=!0,Jt}}},bi=Rt.defineProperty(ti,"defaultValue",{value:rn}),Ur=oi(xi),yi=Object.freeze(Object.defineProperty({__proto__:null,SWRConfig:bi,default:Ur,mutate:tn,preload:ni,unstable_serialize:gi,useSWRConfig:ln},Symbol.toStringTag,{value:"Module"})),vi=()=>{},ji=vi(),Er=Object,as=e=>e===ji,_i=e=>typeof e=="function",St=new WeakMap,wi=e=>Er.prototype.toString.call(e),ar=(e,r)=>e===`[object ${r}]`;let ki=0;const Tr=e=>{const r=typeof e,n=wi(e),a=ar(n,"Date"),s=ar(n,"RegExp"),i=ar(n,"Object");let l,o;if(Er(e)===e&&!a&&!s){if(l=St.get(e),l)return l;if(l=++ki+"~",St.set(e,l),Array.isArray(e)){for(l="@",o=0;o<e.length;o++)l+=Tr(e[o])+",";St.set(e,l)}if(i){l="#";const c=Er.keys(e).sort();for(;!as(o=c.pop());)as(e[o])||(l+=o+":"+Tr(e[o])+",");St.set(e,l)}}else l=a?e.toJSON():r=="symbol"?e.toString():r=="string"?JSON.stringify(e):""+e;return l},Si=e=>{if(_i(e))try{e=e()}catch{e=""}const r=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Tr(e):"",[e,r]},Ni=e=>Si(e?e(0,null):null)[0],ir=Promise.resolve(),Ci=e=>(r,n,a)=>{const s=v.useRef(!1),{cache:i,initialSize:l=1,revalidateAll:o=!1,persistSize:c=!1,revalidateFirstPage:f=!0,revalidateOnMount:h=!1,parallel:m=!1}=a,[,,,b]=be.get(pt);let x;try{x=Ni(r),x&&(x=nn+x)}catch{}const[P,y,C]=Oe(i,x),_=v.useCallback(()=>E(P()._l)?l:P()._l,[i,x,l]);Ks.useSyncExternalStore(v.useCallback(w=>x?C(x,()=>{w()}):()=>{},[i,x]),_,_);const N=v.useCallback(()=>{const w=P()._l;return E(w)?l:w},[x,l]),A=v.useRef(N());lt(()=>{if(!s.current){s.current=!0;return}x&&y({_l:c?A.current:N()})},[x,i]);const S=h&&!s.current,k=e(x,async w=>{const M=P()._i,T=P()._r;y({_r:J});const R=[],H=N(),[K]=Oe(i,w),z=K().data,Z=[];let ae=null;for(let L=0;L<H;++L){const[re,je]=et(r(L,m?null:ae));if(!re)break;const[$e,me]=Oe(i,re);let I=$e().data;const _e=o||M||E(I)||f&&!L&&!E(z)||S||z&&!E(z[L])&&!a.compare(z[L],I);if(n&&(typeof T=="function"?T(I,je):_e)){const ie=async()=>{if(!(re in b))I=await n(je);else{const qe=b[re];delete b[re],I=await qe}me({data:I,_k:je}),R[L]=I};m?Z.push(ie):await ie()}else R[L]=I;m||(ae=I)}return m&&await Promise.all(Z.map(L=>L())),y({_i:J}),R},a),D=v.useCallback(function(w,M){const T=typeof M=="boolean"?{revalidate:M}:M||{},R=T.revalidate!==!1;return x?(R&&(E(w)?y({_i:!0,_r:T.revalidate}):y({_i:!1,_r:T.revalidate})),arguments.length?k.mutate(w,{...T,revalidate:R}):k.mutate()):ir},[x,i]),O=v.useCallback(w=>{if(!x)return ir;const[,M]=Oe(i,x);let T;if(ue(w)?T=w(N()):typeof w=="number"&&(T=w),typeof T!="number")return ir;M({_l:T}),A.current=T;const R=[],[H]=Oe(i,x);let K=null;for(let z=0;z<T;++z){const[Z]=et(r(z,K)),[ae]=Oe(i,Z),L=Z?ae().data:J;if(E(L))return D(H().data);R.push(L),K=L}return D(R)},[x,i,D,N]);return{size:N(),setSize:O,mutate:D,get data(){return k.data},get error(){return k.error},get isValidating(){return k.isValidating},get isLoading(){return k.isLoading}}},Pi=ci(Ur,Ci);var is=Object.prototype.hasOwnProperty;function os(e,r,n){for(n of e.keys())if(ct(n,r))return n}function ct(e,r){var n,a,s;if(e===r)return!0;if(e&&r&&(n=e.constructor)===r.constructor){if(n===Date)return e.getTime()===r.getTime();if(n===RegExp)return e.toString()===r.toString();if(n===Array){if((a=e.length)===r.length)for(;a--&&ct(e[a],r[a]););return a===-1}if(n===Set){if(e.size!==r.size)return!1;for(a of e)if(s=a,s&&typeof s=="object"&&(s=os(r,s),!s)||!r.has(s))return!1;return!0}if(n===Map){if(e.size!==r.size)return!1;for(a of e)if(s=a[0],s&&typeof s=="object"&&(s=os(r,s),!s)||!ct(a[1],r.get(s)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),r=new Uint8Array(r);else if(n===DataView){if((a=e.byteLength)===r.byteLength)for(;a--&&e.getInt8(a)===r.getInt8(a););return a===-1}if(ArrayBuffer.isView(e)){if((a=e.byteLength)===r.byteLength)for(;a--&&e[a]===r[a];);return a===-1}if(!n||typeof e=="object"){a=0;for(n in e)if(is.call(e,n)&&++a&&!is.call(r,n)||!(n in r)||!ct(e[n],r[n]))return!1;return Object.keys(r).length===a}}return e!==e&&r!==r}function Ai(e,r){if(!e)throw typeof r=="string"?new Error(r):new Error(`${r.displayName} not found`)}var Ne=(e,r)=>{const{assertCtxFn:n=Ai}={},a=u.createContext(void 0);return a.displayName=e,[a,()=>{const l=u.useContext(a);return n(l,`${e} not found`),l.value},()=>{const l=u.useContext(a);return l?l.value:{}}]},Lr={};ua(Lr,{useSWR:()=>Ur,useSWRInfinite:()=>Pi});pa(Lr,yi);var[cn,Dr]=Ne("ClerkInstanceContext"),[Ei,Ti]=Ne("UserContext"),[Mi]=Ne("ClientContext"),[Oi]=Ne("SessionContext");u.createContext({});var[Ri]=Ne("CheckoutContext"),Ii=({children:e,...r})=>u.createElement(Ri.Provider,{value:{value:r}},e),[Ui]=Ne("OrganizationContext"),Li=({children:e,organization:r,swrConfig:n})=>u.createElement(Lr.SWRConfig,{value:n},u.createElement(Ui.Provider,{value:{value:{organization:r}}},e));function zr(e){if(!u.useContext(cn)){if(typeof e=="function"){e();return}throw new Error(`${e} can only be used within the <ClerkProvider /> component.

Possible fixes:
1. Ensure that the <ClerkProvider /> is correctly wrapping your application where this component is used.
2. Check for multiple versions of the \`@clerk/shared\` package in your project. Use a tool like \`npm ls @clerk/shared\` to identify multiple versions, and update your dependencies to only rely on one.

Learn more: https://clerk.com/docs/components/clerk-provider`.trim())}}typeof window<"u"?u.useLayoutEffect:u.useEffect;var ls="useUser";function Di(){var n;zr(ls);const e=Ti();return(n=Dr().telemetry)==null||n.record(Vs(ls)),e===void 0?{isLoaded:!1,isSignedIn:void 0,user:void 0}:e===null?{isLoaded:!0,isSignedIn:!1,user:null}:{isLoaded:!0,isSignedIn:!0,user:e}}var dn=()=>(zr("useClerk"),Dr()),cs=ct,zi=e=>{const r=v.useRef(e);return v.useEffect(()=>{r.current=e},[e]),r.current},ce=(e,r,n)=>{const a=!!n,s=v.useRef(n);v.useEffect(()=>{s.current=n},[n]),v.useEffect(()=>{if(!a||!e)return()=>{};const i=(...l)=>{s.current&&s.current(...l)};return e.on(r,i),()=>{e.off(r,i)}},[a,r,e,s])},un=u.createContext(null);un.displayName="ElementsContext";var Fi=(e,r)=>{if(!e)throw new Error(`Could not find Elements context; You need to wrap the part of your app that ${r} in an <Elements> provider.`);return e},It=e=>e!==null&&typeof e=="object",Wi=(e,r,n)=>It(e)?Object.keys(e).reduce((a,s)=>{const i=!It(r)||!mn(e[s],r[s]);return n.includes(s)?(i&&console.warn(`Unsupported prop change: options.${s} is not a mutable property.`),a):i?{...a||{},[s]:e[s]}:a},null):null,ds="[object Object]",mn=(e,r)=>{if(!It(e)||!It(r))return e===r;const n=Array.isArray(e),a=Array.isArray(r);if(n!==a)return!1;const s=Object.prototype.toString.call(e)===ds,i=Object.prototype.toString.call(r)===ds;if(s!==i)return!1;if(!s&&!n)return e===r;const l=Object.keys(e),o=Object.keys(r);if(l.length!==o.length)return!1;const c={};for(let x=0;x<l.length;x+=1)c[l[x]]=!0;for(let x=0;x<o.length;x+=1)c[o[x]]=!0;const f=Object.keys(c);if(f.length!==l.length)return!1;const h=e,m=r,b=x=>mn(h[x],m[x]);return f.every(b)},us=e=>{const r=u.useContext(un);return Fi(r,e)},Bi=e=>e.charAt(0).toUpperCase()+e.slice(1),$i=(e,r)=>{const n=`${Bi(e)}Element`,i=r?l=>{us(`mounts <${n}>`);const{id:o,className:c}=l;return u.createElement("div",{id:o,className:c})}:({id:l,className:o,fallback:c,options:f={},onBlur:h,onFocus:m,onReady:b,onChange:x,onEscape:P,onClick:y,onLoadError:C,onLoaderStart:_,onNetworksChange:N,onConfirm:A,onCancel:S,onShippingAddressChange:k,onShippingRateChange:D})=>{const O=us(`mounts <${n}>`),w="elements"in O?O.elements:null,[M,T]=u.useState(null),R=u.useRef(null),H=u.useRef(null),[K,z]=v.useState(!1);ce(M,"blur",h),ce(M,"focus",m),ce(M,"escape",P),ce(M,"click",y),ce(M,"loaderror",C),ce(M,"loaderstart",_),ce(M,"networkschange",N),ce(M,"confirm",A),ce(M,"cancel",S),ce(M,"shippingaddresschange",k),ce(M,"shippingratechange",D),ce(M,"change",x);let Z;b&&(Z=()=>{z(!0),b(M)}),ce(M,"ready",Z),u.useLayoutEffect(()=>{if(R.current===null&&H.current!==null&&w){let L=null;w&&(L=w.create(e,f)),R.current=L,T(L),L&&L.mount(H.current)}},[w,f]);const ae=zi(f);return u.useEffect(()=>{if(!R.current)return;const L=Wi(f,ae,["paymentRequest"]);L&&"update"in R.current&&R.current.update(L)},[f,ae]),u.useLayoutEffect(()=>()=>{if(R.current&&typeof R.current.destroy=="function")try{R.current.destroy(),R.current=null}catch{}},[]),u.createElement(u.Fragment,null,!K&&c,u.createElement("div",{id:l,style:{height:K?"unset":"0px",visibility:K?"visible":"hidden"},className:o,ref:H}))};return i.displayName=n,i.__elementType=e,i},qi=typeof window>"u";$i("payment",qi);Ne("StripeLibsContext");Ne("PaymentElementContext");Ne("StripeUtilsContext");var ye=zs({packageName:"@clerk/clerk-react"});function Vi(e){ye.setMessages(e).setPackageName(e)}var[Gi,Hi]=Ne("AuthContext"),Ki=cn,pn=Dr,Ji="You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.",Yi=e=>`You've passed multiple children components to <${e}/>. You can only pass a single child component or text.`,Zi="Invalid state. Feel free to submit a bug or reach out to support here: https://clerk.com/support",or="Unsupported usage of isSatellite, domain or proxyUrl. The usage of isSatellite, domain or proxyUrl as function is not supported in non-browser environments.",Qi="<UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",Xi="<UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",eo="<OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",to="<OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",ro=e=>`<${e} /> can only accept <${e}.Page /> and <${e}.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.`,so=e=>`Missing props. <${e}.Page /> component requires the following props: url, label, labelIcon, alongside with children to be rendered inside the page.`,no=e=>`Missing props. <${e}.Link /> component requires the following props: url, label and labelIcon.`,ao="<UserButton /> can only accept <UserButton.UserProfilePage />, <UserButton.UserProfileLink /> and <UserButton.MenuItems /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",io="<UserButton.MenuItems /> component can only accept <UserButton.Action /> and <UserButton.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",oo="<UserButton.MenuItems /> component needs to be a direct child of `<UserButton />`.",lo="<UserButton.Action /> component needs to be a direct child of `<UserButton.MenuItems />`.",co="<UserButton.Link /> component needs to be a direct child of `<UserButton.MenuItems />`.",uo="Missing props. <UserButton.Link /> component requires the following props: href, label and labelIcon.",mo="Missing props. <UserButton.Action /> component requires the following props: label.",zt=e=>{zr(()=>{ye.throwMissingClerkProviderError({source:e})})},hn=e=>new Promise(r=>{const n=a=>{["ready","degraded"].includes(a)&&(r(),e.off("status",n))};e.on("status",n,{notify:!0})}),po=e=>async r=>(await hn(e),e.session?e.session.getToken(r):null),ho=e=>async(...r)=>(await hn(e),e.signOut(...r)),fn=(e={})=>{var r;zt("useAuth");const{treatPendingAsSignedOut:n,...a}=e??{},s=a;let l=Hi();l.sessionId===void 0&&l.userId===void 0&&(l=s??{});const o=pn(),c=v.useCallback(po(o),[o]),f=v.useCallback(ho(o),[o]);return(r=o.telemetry)==null||r.record(Vs("useAuth",{treatPendingAsSignedOut:n})),fo({...l,getToken:c,signOut:f},{treatPendingAsSignedOut:n})};function fo(e,{treatPendingAsSignedOut:r=!0}={}){const{userId:n,orgId:a,orgRole:s,has:i,signOut:l,getToken:o,orgPermissions:c,factorVerificationAge:f,sessionClaims:h}=e??{},m=v.useCallback(x=>i?i(x):Sa({userId:n,orgId:a,orgRole:s,orgPermissions:c,factorVerificationAge:f,features:(h==null?void 0:h.fea)||"",plans:(h==null?void 0:h.pla)||""})(x),[i,n,a,s,c,f]),b=Na({authObject:{...e,getToken:o,signOut:l,has:m},options:{treatPendingAsSignedOut:r}});return b||ye.throw(Zi)}var $=(e,r)=>{const a=(typeof r=="string"?r:r==null?void 0:r.component)||e.displayName||e.name||"Component";e.displayName=a;const s=typeof r=="string"?void 0:r,i=l=>{zt(a||"withClerk");const o=pn();return!o.loaded&&!(s!=null&&s.renderWhileLoading)?null:u.createElement(e,{...l,component:a,clerk:o})};return i.displayName=`withClerk(${a})`,i},go=()=>{try{return!1}catch{}return!1},xo=()=>{try{return!1}catch{}return!1},bo=()=>{try{return!0}catch{}return!1},ms=new Set,Fr=(e,r,n)=>{const a=xo()||bo(),s=e;ms.has(s)||a||(ms.add(s),console.warn(`Clerk - DEPRECATION WARNING: "${e}" is deprecated and will be removed in the next major release.
${r}`))},st=({children:e,treatPendingAsSignedOut:r})=>{zt("SignedIn");const{userId:n}=fn({treatPendingAsSignedOut:r});return n?e:null},Nt=({children:e,treatPendingAsSignedOut:r})=>{zt("SignedOut");const{userId:n}=fn({treatPendingAsSignedOut:r});return n===null?e:null};$(({clerk:e,...r})=>{const{client:n,session:a}=e,s=n.signedInSessions?n.signedInSessions.length>0:n.activeSessions&&n.activeSessions.length>0;return u.useEffect(()=>{a===null&&s?e.redirectToAfterSignOut():e.redirectToSignIn(r)},[]),null},"RedirectToSignIn");$(({clerk:e,...r})=>(u.useEffect(()=>{e.redirectToSignUp(r)},[]),null),"RedirectToSignUp");$(({clerk:e,...r})=>(u.useEffect(()=>{e.redirectToTasks(r)},[]),null),"RedirectToTasks");$(({clerk:e})=>(u.useEffect(()=>{Fr("RedirectToUserProfile","Use the `redirectToUserProfile()` method instead."),e.redirectToUserProfile()},[]),null),"RedirectToUserProfile");$(({clerk:e})=>(u.useEffect(()=>{Fr("RedirectToOrganizationProfile","Use the `redirectToOrganizationProfile()` method instead."),e.redirectToOrganizationProfile()},[]),null),"RedirectToOrganizationProfile");$(({clerk:e})=>(u.useEffect(()=>{Fr("RedirectToCreateOrganization","Use the `redirectToCreateOrganization()` method instead."),e.redirectToCreateOrganization()},[]),null),"RedirectToCreateOrganization");$(({clerk:e,...r})=>(u.useEffect(()=>{e.handleRedirectCallback(r)},[]),null),"AuthenticateWithRedirectCallback");var te=e=>{go()&&console.error(`Clerk: ${e}`)};function lr(e,r,n){if(typeof e=="function")return e(r);if(typeof e<"u")return e;if(typeof n<"u")return n}var ps=(e,...r)=>{const n={...e};for(const a of r)delete n[a];return n},Ft=e=>r=>{try{return u.Children.only(e)}catch{return ye.throw(Yi(r))}},Wt=(e,r)=>(e||(e=r),typeof e=="string"&&(e=u.createElement("button",null,e)),e),Bt=e=>(...r)=>{if(e&&typeof e=="function")return e(...r)};function yo(e){return typeof e=="function"}var Ct=new Map;function vo(e,r,n=1){u.useEffect(()=>{const a=Ct.get(e)||0;return a==n?ye.throw(r):(Ct.set(e,a+1),()=>{Ct.set(e,(Ct.get(e)||1)-1)})},[])}function jo(e,r,n){const a=e.displayName||e.name||r||"Component",s=i=>(vo(r,n),u.createElement(e,{...i}));return s.displayName=`withMaxAllowedInstancesGuard(${a})`,s}var dt=e=>{const[r,n]=v.useState(new Map);return e.map(a=>({id:a.id,mount:s=>n(i=>new Map(i).set(String(a.id),s)),unmount:()=>n(s=>{const i=new Map(s);return i.set(String(a.id),null),i}),portal:()=>{const s=r.get(String(a.id));return s?ea.createPortal(a.component,s):null}}))},ee=(e,r)=>!!e&&u.isValidElement(e)&&(e==null?void 0:e.type)===r,gn=(e,r)=>yn({children:e,reorderItemsLabels:["account","security"],LinkComponent:ft,PageComponent:ht,MenuItemsComponent:qt,componentName:"UserProfile"},r),xn=(e,r)=>yn({children:e,reorderItemsLabels:["general","members"],LinkComponent:Gt,PageComponent:Vt,componentName:"OrganizationProfile"},r),bn=e=>{const r=[],n=[Gt,Vt,qt,ht,ft];return u.Children.forEach(e,a=>{n.some(s=>ee(a,s))||r.push(a)}),r},yn=(e,r)=>{const{children:n,LinkComponent:a,PageComponent:s,MenuItemsComponent:i,reorderItemsLabels:l,componentName:o}=e,{allowForAnyChildren:c=!1}=r||{},f=[];u.Children.forEach(n,N=>{if(!ee(N,s)&&!ee(N,a)&&!ee(N,i)){N&&!c&&te(ro(o));return}const{props:A}=N,{children:S,label:k,url:D,labelIcon:O}=A;if(ee(N,s))if(hs(A,l))f.push({label:k});else if(cr(A))f.push({label:k,labelIcon:O,children:S,url:D});else{te(so(o));return}if(ee(N,a))if(dr(A))f.push({label:k,labelIcon:O,url:D});else{te(no(o));return}});const h=[],m=[],b=[];f.forEach((N,A)=>{if(cr(N)){h.push({component:N.children,id:A}),m.push({component:N.labelIcon,id:A});return}dr(N)&&b.push({component:N.labelIcon,id:A})});const x=dt(h),P=dt(m),y=dt(b),C=[],_=[];return f.forEach((N,A)=>{if(hs(N,l)){C.push({label:N.label});return}if(cr(N)){const{portal:S,mount:k,unmount:D}=x.find(T=>T.id===A),{portal:O,mount:w,unmount:M}=P.find(T=>T.id===A);C.push({label:N.label,url:N.url,mount:k,unmount:D,mountIcon:w,unmountIcon:M}),_.push(S),_.push(O);return}if(dr(N)){const{portal:S,mount:k,unmount:D}=y.find(O=>O.id===A);C.push({label:N.label,url:N.url,mountIcon:k,unmountIcon:D}),_.push(S);return}}),{customPages:C,customPagesPortals:_}},hs=(e,r)=>{const{children:n,label:a,url:s,labelIcon:i}=e;return!n&&!s&&!i&&r.some(l=>l===a)},cr=e=>{const{children:r,label:n,url:a,labelIcon:s}=e;return!!r&&!!a&&!!s&&!!n},dr=e=>{const{children:r,label:n,url:a,labelIcon:s}=e;return!r&&!!a&&!!s&&!!n},_o=(e,r)=>{var n;return wo({children:e,reorderItemsLabels:["manageAccount","signOut"],MenuItemsComponent:qt,MenuActionComponent:jn,MenuLinkComponent:_n,UserProfileLinkComponent:ft,UserProfilePageComponent:ht,allowForAnyChildren:(n=r==null?void 0:r.allowForAnyChildren)!=null?n:!1})},wo=({children:e,MenuItemsComponent:r,MenuActionComponent:n,MenuLinkComponent:a,UserProfileLinkComponent:s,UserProfilePageComponent:i,reorderItemsLabels:l,allowForAnyChildren:o=!1})=>{const c=[],f=[],h=[];u.Children.forEach(e,y=>{if(!ee(y,r)&&!ee(y,s)&&!ee(y,i)){y&&!o&&te(ao);return}if(ee(y,s)||ee(y,i))return;const{props:C}=y;u.Children.forEach(C.children,_=>{if(!ee(_,n)&&!ee(_,a)){_&&te(io);return}const{props:N}=_,{label:A,labelIcon:S,href:k,onClick:D,open:O}=N;if(ee(_,n))if(fs(N,l))c.push({label:A});else if(ur(N)){const w={label:A,labelIcon:S};if(D!==void 0)c.push({...w,onClick:D});else if(O!==void 0)c.push({...w,open:O.startsWith("/")?O:`/${O}`});else{te("Custom menu item must have either onClick or open property");return}}else{te(mo);return}if(ee(_,a))if(mr(N))c.push({label:A,labelIcon:S,href:k});else{te(uo);return}})});const m=[],b=[];c.forEach((y,C)=>{ur(y)&&m.push({component:y.labelIcon,id:C}),mr(y)&&b.push({component:y.labelIcon,id:C})});const x=dt(m),P=dt(b);return c.forEach((y,C)=>{if(fs(y,l)&&f.push({label:y.label}),ur(y)){const{portal:_,mount:N,unmount:A}=x.find(k=>k.id===C),S={label:y.label,mountIcon:N,unmountIcon:A};"onClick"in y?S.onClick=y.onClick:"open"in y&&(S.open=y.open),f.push(S),h.push(_)}if(mr(y)){const{portal:_,mount:N,unmount:A}=P.find(S=>S.id===C);f.push({label:y.label,href:y.href,mountIcon:N,unmountIcon:A}),h.push(_)}}),{customMenuItems:f,customMenuItemsPortals:h}},fs=(e,r)=>{const{children:n,label:a,onClick:s,labelIcon:i}=e;return!n&&!s&&!i&&r.some(l=>l===a)},ur=e=>{const{label:r,labelIcon:n,onClick:a,open:s}=e;return!!n&&!!r&&(typeof a=="function"||typeof s=="string")},mr=e=>{const{label:r,href:n,labelIcon:a}=e;return!!n&&!!a&&!!r},ko=e=>{const r=e==null?void 0:e.isReady;return n=>new Promise((a,s)=>{const{root:i=document==null?void 0:document.body,selector:l,timeout:o=0}=n;if(!i){s(new Error("No root element provided"));return}let c=i;if(l&&(c=i==null?void 0:i.querySelector(l)),r(c,l)){a();return}const f=new MutationObserver(h=>{for(const m of h)if(!c&&l&&(c=i==null?void 0:i.querySelector(l)),(e.childList&&m.type==="childList"||e.attributes&&m.type==="attributes")&&r(c,l)){f.disconnect(),a();return}});f.observe(i,e),o>0&&setTimeout(()=>{f.disconnect(),s(new Error(`Timeout waiting for ${l}`))},o)})},So=ko({childList:!0,subtree:!0,isReady:(e,r)=>{var n;return!!(e!=null&&e.childElementCount)&&((n=e==null?void 0:e.matches)==null?void 0:n.call(e,r))&&e.childElementCount>0}});function ne(e,r){const n=v.useRef(),[a,s]=v.useState("rendering");return v.useEffect(()=>{if(!e)throw new Error("Clerk: no component name provided, unable to detect mount.");if(typeof window<"u"&&!n.current){const i=`[data-clerk-component="${e}"]`,l=r==null?void 0:r.selector;n.current=So({selector:l?i+l:i}).then(()=>{s("rendered")}).catch(()=>{s("error")})}},[e,r==null?void 0:r.selector]),a}var Pt=e=>"mount"in e,gs=e=>"open"in e,xs=e=>e==null?void 0:e.map(({mountIcon:r,unmountIcon:n,...a})=>a),X=class extends u.PureComponent{constructor(){super(...arguments),this.rootRef=u.createRef()}componentDidUpdate(e){var r,n,a,s;if(!Pt(e)||!Pt(this.props))return;const i=ps(e.props,"customPages","customMenuItems","children"),l=ps(this.props.props,"customPages","customMenuItems","children"),o=((r=i.customPages)==null?void 0:r.length)!==((n=l.customPages)==null?void 0:n.length),c=((a=i.customMenuItems)==null?void 0:a.length)!==((s=l.customMenuItems)==null?void 0:s.length),f=xs(e.props.customMenuItems),h=xs(this.props.props.customMenuItems);(!cs(i,l)||!cs(f,h)||o||c)&&this.rootRef.current&&this.props.updateProps({node:this.rootRef.current,props:this.props.props})}componentDidMount(){this.rootRef.current&&(Pt(this.props)&&this.props.mount(this.rootRef.current,this.props.props),gs(this.props)&&this.props.open(this.props.props))}componentWillUnmount(){this.rootRef.current&&(Pt(this.props)&&this.props.unmount(this.rootRef.current),gs(this.props)&&this.props.close())}render(){const{hideRootHtmlElement:e=!1}=this.props,r={ref:this.rootRef,...this.props.rootProps,...this.props.component&&{"data-clerk-component":this.props.component}};return u.createElement(u.Fragment,null,!e&&u.createElement("div",{...r}),this.props.children)}},$t=e=>{var r,n;return u.createElement(u.Fragment,null,(r=e==null?void 0:e.customPagesPortals)==null?void 0:r.map((a,s)=>v.createElement(a,{key:s})),(n=e==null?void 0:e.customMenuItemsPortals)==null?void 0:n.map((a,s)=>v.createElement(a,{key:s})))},No=$(({clerk:e,component:r,fallback:n,...a})=>{const i=ne(r)==="rendering"||!e.loaded,l={...i&&n&&{style:{display:"none"}}};return u.createElement(u.Fragment,null,i&&n,e.loaded&&u.createElement(X,{component:r,mount:e.mountSignIn,unmount:e.unmountSignIn,updateProps:e.__unstable__updateProps,props:a,rootProps:l}))},{component:"SignIn",renderWhileLoading:!0}),Co=$(({clerk:e,component:r,fallback:n,...a})=>{const i=ne(r)==="rendering"||!e.loaded,l={...i&&n&&{style:{display:"none"}}};return u.createElement(u.Fragment,null,i&&n,e.loaded&&u.createElement(X,{component:r,mount:e.mountSignUp,unmount:e.unmountSignUp,updateProps:e.__unstable__updateProps,props:a,rootProps:l}))},{component:"SignUp",renderWhileLoading:!0});function ht({children:e}){return te(Qi),u.createElement(u.Fragment,null,e)}function ft({children:e}){return te(Xi),u.createElement(u.Fragment,null,e)}var Po=$(({clerk:e,component:r,fallback:n,...a})=>{const i=ne(r)==="rendering"||!e.loaded,l={...i&&n&&{style:{display:"none"}}},{customPages:o,customPagesPortals:c}=gn(a.children);return u.createElement(u.Fragment,null,i&&n,u.createElement(X,{component:r,mount:e.mountUserProfile,unmount:e.unmountUserProfile,updateProps:e.__unstable__updateProps,props:{...a,customPages:o},rootProps:l},u.createElement($t,{customPagesPortals:c})))},{component:"UserProfile",renderWhileLoading:!0});Object.assign(Po,{Page:ht,Link:ft});var vn=v.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),Ao=$(({clerk:e,component:r,fallback:n,...a})=>{const i=ne(r)==="rendering"||!e.loaded,l={...i&&n&&{style:{display:"none"}}},{customPages:o,customPagesPortals:c}=gn(a.children,{allowForAnyChildren:!!a.__experimental_asProvider}),f=Object.assign(a.userProfileProps||{},{customPages:o}),{customMenuItems:h,customMenuItemsPortals:m}=_o(a.children,{allowForAnyChildren:!!a.__experimental_asProvider}),b=bn(a.children),x={mount:e.mountUserButton,unmount:e.unmountUserButton,updateProps:e.__unstable__updateProps,props:{...a,userProfileProps:f,customMenuItems:h}},P={customPagesPortals:c,customMenuItemsPortals:m};return u.createElement(vn.Provider,{value:x},i&&n,e.loaded&&u.createElement(X,{component:r,...x,hideRootHtmlElement:!!a.__experimental_asProvider,rootProps:l},a.__experimental_asProvider?b:null,u.createElement($t,{...P})))},{component:"UserButton",renderWhileLoading:!0});function qt({children:e}){return te(oo),u.createElement(u.Fragment,null,e)}function jn({children:e}){return te(lo),u.createElement(u.Fragment,null,e)}function _n({children:e}){return te(co),u.createElement(u.Fragment,null,e)}function Eo(e){const r=v.useContext(vn),n={...r,props:{...r.props,...e}};return u.createElement(X,{...n})}Object.assign(Ao,{UserProfilePage:ht,UserProfileLink:ft,MenuItems:qt,Action:jn,Link:_n,__experimental_Outlet:Eo});function Vt({children:e}){return te(eo),u.createElement(u.Fragment,null,e)}function Gt({children:e}){return te(to),u.createElement(u.Fragment,null,e)}var To=$(({clerk:e,component:r,fallback:n,...a})=>{const i=ne(r)==="rendering"||!e.loaded,l={...i&&n&&{style:{display:"none"}}},{customPages:o,customPagesPortals:c}=xn(a.children);return u.createElement(u.Fragment,null,i&&n,e.loaded&&u.createElement(X,{component:r,mount:e.mountOrganizationProfile,unmount:e.unmountOrganizationProfile,updateProps:e.__unstable__updateProps,props:{...a,customPages:o},rootProps:l},u.createElement($t,{customPagesPortals:c})))},{component:"OrganizationProfile",renderWhileLoading:!0}),Mo=Object.assign(To,{Page:Vt,Link:Gt}),Oo=$(({clerk:e,component:r,fallback:n,...a})=>{const i=ne(r)==="rendering"||!e.loaded,l={...i&&n&&{style:{display:"none"}}};return u.createElement(u.Fragment,null,i&&n,e.loaded&&u.createElement(X,{component:r,mount:e.mountCreateOrganization,unmount:e.unmountCreateOrganization,updateProps:e.__unstable__updateProps,props:a,rootProps:l}))},{component:"CreateOrganization",renderWhileLoading:!0}),wn=v.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),Ro=$(({clerk:e,component:r,fallback:n,...a})=>{const i=ne(r)==="rendering"||!e.loaded,l={...i&&n&&{style:{display:"none"}}},{customPages:o,customPagesPortals:c}=xn(a.children,{allowForAnyChildren:!!a.__experimental_asProvider}),f=Object.assign(a.organizationProfileProps||{},{customPages:o}),h=bn(a.children),m={mount:e.mountOrganizationSwitcher,unmount:e.unmountOrganizationSwitcher,updateProps:e.__unstable__updateProps,props:{...a,organizationProfileProps:f},rootProps:l,component:r};return e.__experimental_prefetchOrganizationSwitcher(),u.createElement(wn.Provider,{value:m},u.createElement(u.Fragment,null,i&&n,e.loaded&&u.createElement(X,{...m,hideRootHtmlElement:!!a.__experimental_asProvider},a.__experimental_asProvider?h:null,u.createElement($t,{customPagesPortals:c}))))},{component:"OrganizationSwitcher",renderWhileLoading:!0});function Io(e){const r=v.useContext(wn),n={...r,props:{...r.props,...e}};return u.createElement(X,{...n})}Object.assign(Ro,{OrganizationProfilePage:Vt,OrganizationProfileLink:Gt,__experimental_Outlet:Io});var Uo=$(({clerk:e,component:r,fallback:n,...a})=>{const i=ne(r)==="rendering"||!e.loaded,l={...i&&n&&{style:{display:"none"}}};return u.createElement(u.Fragment,null,i&&n,e.loaded&&u.createElement(X,{component:r,mount:e.mountOrganizationList,unmount:e.unmountOrganizationList,updateProps:e.__unstable__updateProps,props:a,rootProps:l}))},{component:"OrganizationList",renderWhileLoading:!0});$(({clerk:e,component:r,fallback:n,...a})=>{const i=ne(r)==="rendering"||!e.loaded,l={...i&&n&&{style:{display:"none"}}};return u.createElement(u.Fragment,null,i&&n,e.loaded&&u.createElement(X,{component:r,open:e.openGoogleOneTap,close:e.closeGoogleOneTap,updateProps:e.__unstable__updateProps,props:a,rootProps:l}))},{component:"GoogleOneTap",renderWhileLoading:!0});$(({clerk:e,component:r,fallback:n,...a})=>{const i=ne(r)==="rendering"||!e.loaded,l={...i&&n&&{style:{display:"none"}}};return u.createElement(u.Fragment,null,i&&n,e.loaded&&u.createElement(X,{component:r,mount:e.mountWaitlist,unmount:e.unmountWaitlist,updateProps:e.__unstable__updateProps,props:a,rootProps:l}))},{component:"Waitlist",renderWhileLoading:!0});$(({clerk:e,component:r,fallback:n,...a})=>{const i=ne(r,{selector:'[data-component-status="ready"]'})==="rendering"||!e.loaded,l={...i&&n&&{style:{display:"none"}}};return u.createElement(u.Fragment,null,i&&n,e.loaded&&u.createElement(X,{component:r,mount:e.mountPricingTable,unmount:e.unmountPricingTable,updateProps:e.__unstable__updateProps,props:a,rootProps:l}))},{component:"PricingTable",renderWhileLoading:!0});$(({clerk:e,component:r,fallback:n,...a})=>{const i=ne(r)==="rendering"||!e.loaded,l={...i&&n&&{style:{display:"none"}}};return u.createElement(u.Fragment,null,i&&n,e.loaded&&u.createElement(X,{component:r,mount:e.mountApiKeys,unmount:e.unmountApiKeys,updateProps:e.__unstable__updateProps,props:a,rootProps:l}))},{component:"ApiKeys",renderWhileLoading:!0});$(({clerk:e,component:r,fallback:n,...a})=>{const i=ne(r)==="rendering"||!e.loaded,l={...i&&n&&{style:{display:"none"}}};return u.createElement(u.Fragment,null,i&&n,e.loaded&&u.createElement(X,{component:r,mount:e.mountUserAvatar,unmount:e.unmountUserAvatar,updateProps:e.__unstable__updateProps,props:a,rootProps:l}))},{component:"UserAvatar",renderWhileLoading:!0});$(({clerk:e,component:r,fallback:n,...a})=>{const i=ne(r)==="rendering"||!e.loaded,l={...i&&n&&{style:{display:"none"}}};return u.createElement(u.Fragment,null,i&&n,e.loaded&&u.createElement(X,{component:r,mount:e.mountTaskChooseOrganization,unmount:e.unmountTaskChooseOrganization,updateProps:e.__unstable__updateProps,props:a,rootProps:l}))},{component:"TaskChooseOrganization",renderWhileLoading:!0});var kn=e=>{throw TypeError(e)},Wr=(e,r,n)=>r.has(e)||kn("Cannot "+n),V=(e,r,n)=>(Wr(e,r,"read from private field"),n?n.call(e):r.get(e)),Ee=(e,r,n)=>r.has(e)?kn("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,n),De=(e,r,n,a)=>(Wr(e,r,"write to private field"),r.set(e,n),n),pr=(e,r,n)=>(Wr(e,r,"access private method"),n),Lo=(e,r="5.103.0")=>{if(e)return e;const n=Do(r);return n?n==="snapshot"?"5.103.0":n:zo(r)},Do=e=>{var r;return(r=e.trim().replace(/^v/,"").match(/-(.+?)(\.|$)/))==null?void 0:r[1]},zo=e=>e.trim().replace(/^v/,"").split(".")[0];function Fo(e){return e?Wo(e)||Sn(e):!0}function Wo(e){return/^http(s)?:\/\//.test(e||"")}function Sn(e){return e.startsWith("/")}function Bo(e){return e?Sn(e)?new URL(e,window.location.origin).toString():e:""}function $o(e){if(!e)return"";let r;if(e.match(/^(clerk\.)+\w*$/))r=/(clerk\.)*(?=clerk\.)/;else{if(e.match(/\.clerk.accounts/))return e;r=/^(clerk\.)*/gi}return`clerk.${e.replace(r,"")}`}var qo={initialDelay:125,maxDelayBetweenRetries:0,factor:2,shouldRetry:(e,r)=>r<5,retryImmediately:!1,jitter:!0},Vo=100,Nn=async e=>new Promise(r=>setTimeout(r,e)),Cn=(e,r)=>r?e*(1+Math.random()):e,Go=e=>{let r=0;const n=()=>{const a=e.initialDelay,s=e.factor;let i=a*Math.pow(s,r);return i=Cn(i,e.jitter),Math.min(e.maxDelayBetweenRetries||i,i)};return async()=>{await Nn(n()),r++}},Ho=async(e,r={})=>{let n=0;const{shouldRetry:a,initialDelay:s,maxDelayBetweenRetries:i,factor:l,retryImmediately:o,jitter:c,onBeforeRetry:f}={...qo,...r},h=Go({initialDelay:s,maxDelayBetweenRetries:i,factor:l,jitter:c});for(;;)try{return await e()}catch(m){if(n++,!a(m,n))throw m;f&&await f(n),o&&n===1?await Nn(Cn(Vo,c)):await h()}},Ko="loadScript cannot be called when document does not exist",Jo="loadScript cannot be called without a src";async function Yo(e="",r){const{async:n,defer:a,beforeLoad:s,crossOrigin:i,nonce:l}=r||{};return Ho(()=>new Promise((c,f)=>{e||f(new Error(Jo)),(!document||!document.body)&&f(new Error(Ko));const h=document.createElement("script");i&&h.setAttribute("crossorigin",i),h.async=n||!1,h.defer=a||!1,h.addEventListener("load",()=>{h.remove(),c(h)}),h.addEventListener("error",m=>{h.remove(),f(m.error??new Error(`failed to load script: ${e}`))}),h.src=e,h.nonce=l,s==null||s(h),document.body.appendChild(h)}),{shouldRetry:(c,f)=>f<=5})}var Zo="failed_to_load_clerk_js",Qo="failed_to_load_clerk_js_timeout",Pn="Failed to load Clerk",{isDevOrStagingUrl:Xo}=Aa(),An=zs({packageName:"@clerk/shared"});function el(e){An.setPackageName({packageName:e})}function Mr(){if(typeof window>"u"||!window.Clerk)return!1;const e=window.Clerk;return typeof e=="object"&&typeof e.load=="function"}function bs(e){return new Promise((r,n)=>{let a=!1;const s=(f,h)=>{clearTimeout(f),clearInterval(h)},i=()=>{a||Mr()&&(a=!0,s(o,c),r(null))},o=setTimeout(()=>{a||(a=!0,s(o,c),Mr()?r(null):n(new Fs(Pn,{code:Qo})))},e);i();const c=setInterval(()=>{if(a){clearInterval(c);return}i()},100)})}var tl=async e=>{const r=(e==null?void 0:e.scriptLoadTimeout)??15e3;if(Mr())return null;if(document.querySelector("script[data-clerk-js-script]"))return bs(r);if(!(e!=null&&e.publishableKey))return An.throwMissingPublishableKeyError(),null;const a=bs(r);return Yo(rl(e),{async:!0,crossOrigin:"anonymous",nonce:e.nonce,beforeLoad:nl(e)}).catch(s=>{throw new Fs(Pn+(s.message?`, ${s.message}`:""),{code:Zo,cause:s})}),a},rl=e=>{var h,m;const{clerkJSUrl:r,clerkJSVariant:n,clerkJSVersion:a,proxyUrl:s,domain:i,publishableKey:l}=e;if(r)return r;let o="";s&&Fo(s)?o=Bo(s).replace(/http(s)?:\/\//,""):i&&!Xo(((h=Qr(l))==null?void 0:h.frontendApi)||"")?o=$o(i):o=((m=Qr(l))==null?void 0:m.frontendApi)||"";const c=n?`${n.replace(/\.+$/,"")}.`:"",f=Lo(a);return`https://${o}/npm/@clerk/clerk-js@${f}/dist/clerk.${c}browser.js`},sl=e=>{const r={};return e.publishableKey&&(r["data-clerk-publishable-key"]=e.publishableKey),e.proxyUrl&&(r["data-clerk-proxy-url"]=e.proxyUrl),e.domain&&(r["data-clerk-domain"]=e.domain),e.nonce&&(r.nonce=e.nonce),r},nl=e=>r=>{const n=sl(e);for(const a in n)r.setAttribute(a,n[a])},al=(e,r,n)=>!e&&n?il(n):ol(r),il=e=>{const r=e.userId,n=e.user,a=e.sessionId,s=e.sessionStatus,i=e.sessionClaims,l=e.session,o=e.organization,c=e.orgId,f=e.orgRole,h=e.orgPermissions,m=e.orgSlug,b=e.actor,x=e.factorVerificationAge;return{userId:r,user:n,sessionId:a,session:l,sessionStatus:s,sessionClaims:i,organization:o,orgId:c,orgRole:f,orgPermissions:h,orgSlug:m,actor:b,factorVerificationAge:x}},ol=e=>{var y,C,_,N;const r=e.user?e.user.id:e.user,n=e.user,a=e.session?e.session.id:e.session,s=e.session,i=(y=e.session)==null?void 0:y.status,l=e.session?(_=(C=e.session.lastActiveToken)==null?void 0:C.jwt)==null?void 0:_.claims:null,o=e.session?e.session.factorVerificationAge:null,c=s==null?void 0:s.actor,f=e.organization,h=e.organization?e.organization.id:e.organization,m=f==null?void 0:f.slug,b=f&&((N=n==null?void 0:n.organizationMemberships)==null?void 0:N.find(A=>A.organization.id===h)),x=b&&b.permissions,P=b&&b.role;return{userId:r,user:n,sessionId:a,session:s,sessionStatus:i,sessionClaims:l,organization:f,orgId:h,orgRole:P,orgSlug:m,orgPermissions:x,actor:c,factorVerificationAge:o}};function Ut(){return typeof window<"u"}var ys=(e,r,n,a,s)=>{const{notify:i}=s||{};let l=e.get(n);l||(l=[],e.set(n,l)),l.push(a),i&&r.has(n)&&a(r.get(n))},vs=(e,r,n)=>(e.get(r)||[]).map(a=>a(n)),js=(e,r,n)=>{const a=e.get(r);a&&(n?a.splice(a.indexOf(n)>>>0,1):e.set(r,[]))},ll=()=>{const e=new Map,r=new Map,n=new Map;return{on:(...s)=>ys(e,r,...s),prioritizedOn:(...s)=>ys(n,r,...s),emit:(s,i)=>{r.set(s,i),vs(n,s,i),vs(e,s,i)},off:(...s)=>js(e,...s),prioritizedOff:(...s)=>js(n,...s),internal:{retrieveListeners:s=>e.get(s)||[]}}},At={Status:"status"},cl=()=>ll();typeof window<"u"&&!window.global&&(window.global=typeof global>"u"?window:global);$(({clerk:e,children:r,...n})=>{const{signUpFallbackRedirectUrl:a,forceRedirectUrl:s,fallbackRedirectUrl:i,signUpForceRedirectUrl:l,mode:o,initialValues:c,withSignUp:f,oauthFlow:h,...m}=n;r=Wt(r,"Sign in");const b=Ft(r)("SignInButton"),x=()=>{const C={forceRedirectUrl:s,fallbackRedirectUrl:i,signUpFallbackRedirectUrl:a,signUpForceRedirectUrl:l,initialValues:c,withSignUp:f,oauthFlow:h};return o==="modal"?e.openSignIn({...C,appearance:n.appearance}):e.redirectToSignIn({...C,signInFallbackRedirectUrl:i,signInForceRedirectUrl:s})},y={...m,onClick:async C=>(b&&typeof b=="object"&&"props"in b&&await Bt(b.props.onClick)(C),x())};return u.cloneElement(b,y)},{component:"SignInButton",renderWhileLoading:!0});$(({clerk:e,children:r,...n})=>{const{redirectUrl:a,...s}=n;r=Wt(r,"Sign in with Metamask");const i=Ft(r)("SignInWithMetamaskButton"),l=async()=>{async function f(){await e.authenticateWithMetamask({redirectUrl:a||void 0})}f()},c={...s,onClick:async f=>(await Bt(i.props.onClick)(f),l())};return u.cloneElement(i,c)},{component:"SignInWithMetamask",renderWhileLoading:!0});$(({clerk:e,children:r,...n})=>{const{redirectUrl:a="/",signOutOptions:s,...i}=n;r=Wt(r,"Sign out");const l=Ft(r)("SignOutButton"),o=()=>e.signOut({redirectUrl:a,...s}),f={...i,onClick:async h=>(await Bt(l.props.onClick)(h),o())};return u.cloneElement(l,f)},{component:"SignOutButton",renderWhileLoading:!0});$(({clerk:e,children:r,...n})=>{const{fallbackRedirectUrl:a,forceRedirectUrl:s,signInFallbackRedirectUrl:i,signInForceRedirectUrl:l,mode:o,initialValues:c,oauthFlow:f,...h}=n;r=Wt(r,"Sign up");const m=Ft(r)("SignUpButton"),b=()=>{const y={fallbackRedirectUrl:a,forceRedirectUrl:s,signInFallbackRedirectUrl:i,signInForceRedirectUrl:l,initialValues:c,oauthFlow:f};return o==="modal"?e.openSignUp({...y,appearance:n.appearance,unsafeMetadata:n.unsafeMetadata}):e.redirectToSignUp({...y,signUpFallbackRedirectUrl:a,signUpForceRedirectUrl:s})},P={...h,onClick:async y=>(m&&typeof m=="object"&&"props"in m&&await Bt(m.props.onClick)(y),b())};return u.cloneElement(m,P)},{component:"SignUpButton",renderWhileLoading:!0});var _s=()=>({fields:{firstName:null,lastName:null,emailAddress:null,identifier:null,phoneNumber:null,password:null,username:null,code:null,captcha:null,legalAccepted:null},raw:null,global:null}),dl=class{constructor(e){this.isomorphicClerk=e,this.signInSignalProxy=this.buildSignInProxy(),this.signUpSignalProxy=this.buildSignUpProxy()}signInSignal(){return this.signInSignalProxy}signUpSignal(){return this.signUpSignalProxy}buildSignInProxy(){const e=this.gateProperty.bind(this),r=()=>this.client.signIn.__internal_future;return{errors:_s(),fetchStatus:"idle",signIn:{status:"needs_identifier",availableStrategies:[],isTransferable:!1,get id(){return e(r,"id",void 0)},get supportedFirstFactors(){return e(r,"supportedFirstFactors",[])},get supportedSecondFactors(){return e(r,"supportedSecondFactors",[])},get secondFactorVerification(){return e(r,"secondFactorVerification",{status:null,error:null,expireAt:null,externalVerificationRedirectURL:null,nonce:null,attempts:null,message:null,strategy:null,verifiedAtClient:null,verifiedFromTheSameClient:()=>!1,__internal_toSnapshot:()=>{throw new Error("__internal_toSnapshot called before Clerk is loaded")},pathRoot:"",reload:()=>{throw new Error("__internal_toSnapshot called before Clerk is loaded")}})},get identifier(){return e(r,"identifier",null)},get createdSessionId(){return e(r,"createdSessionId",null)},get userData(){return e(r,"userData",{})},get firstFactorVerification(){return e(r,"firstFactorVerification",{status:null,error:null,expireAt:null,externalVerificationRedirectURL:null,nonce:null,attempts:null,message:null,strategy:null,verifiedAtClient:null,verifiedFromTheSameClient:()=>!1,__internal_toSnapshot:()=>{throw new Error("__internal_toSnapshot called before Clerk is loaded")},pathRoot:"",reload:()=>{throw new Error("__internal_toSnapshot called before Clerk is loaded")}})},create:this.gateMethod(r,"create"),password:this.gateMethod(r,"password"),sso:this.gateMethod(r,"sso"),finalize:this.gateMethod(r,"finalize"),emailCode:this.wrapMethods(()=>r().emailCode,["sendCode","verifyCode"]),emailLink:this.wrapStruct(()=>r().emailLink,["sendLink","waitForVerification"],["verification"],{verification:null}),resetPasswordEmailCode:this.wrapMethods(()=>r().resetPasswordEmailCode,["sendCode","verifyCode","submitPassword"]),phoneCode:this.wrapMethods(()=>r().phoneCode,["sendCode","verifyCode"]),mfa:this.wrapMethods(()=>r().mfa,["sendPhoneCode","verifyPhoneCode","verifyTOTP","verifyBackupCode"]),ticket:this.gateMethod(r,"ticket"),passkey:this.gateMethod(r,"passkey"),web3:this.gateMethod(r,"web3")}}}buildSignUpProxy(){const e=this.gateProperty.bind(this),r=this.gateMethod.bind(this),n=this.wrapMethods.bind(this),a=()=>this.client.signUp.__internal_future;return{errors:_s(),fetchStatus:"idle",signUp:{get id(){return e(a,"id",void 0)},get requiredFields(){return e(a,"requiredFields",[])},get optionalFields(){return e(a,"optionalFields",[])},get missingFields(){return e(a,"missingFields",[])},get username(){return e(a,"username",null)},get firstName(){return e(a,"firstName",null)},get lastName(){return e(a,"lastName",null)},get emailAddress(){return e(a,"emailAddress",null)},get phoneNumber(){return e(a,"phoneNumber",null)},get web3Wallet(){return e(a,"web3Wallet",null)},get hasPassword(){return e(a,"hasPassword",!1)},get unsafeMetadata(){return e(a,"unsafeMetadata",{})},get createdSessionId(){return e(a,"createdSessionId",null)},get createdUserId(){return e(a,"createdUserId",null)},get abandonAt(){return e(a,"abandonAt",null)},get legalAcceptedAt(){return e(a,"legalAcceptedAt",null)},get locale(){return e(a,"locale",null)},get status(){return e(a,"status","missing_requirements")},get unverifiedFields(){return e(a,"unverifiedFields",[])},get isTransferable(){return e(a,"isTransferable",!1)},create:r(a,"create"),update:r(a,"update"),sso:r(a,"sso"),password:r(a,"password"),ticket:r(a,"ticket"),web3:r(a,"web3"),finalize:r(a,"finalize"),verifications:n(()=>a().verifications,["sendEmailCode","verifyEmailCode","sendPhoneCode","verifyPhoneCode"])}}}__internal_effect(e){throw new Error("__internal_effect called before Clerk is loaded")}__internal_computed(e){throw new Error("__internal_computed called before Clerk is loaded")}get client(){const e=this.isomorphicClerk.client;if(!e)throw new Error("Clerk client not ready");return e}gateProperty(e,r,n){return!Ut()||!this.isomorphicClerk.loaded?n:e()[r]}gateMethod(e,r){return async(...n)=>{if(!Ut())return ye.throw(`Attempted to call a method (${r}) that is not supported on the server.`);this.isomorphicClerk.loaded||await new Promise(s=>this.isomorphicClerk.addOnLoaded(s));const a=e();return a[r].apply(a,n)}}wrapMethods(e,r){return Object.fromEntries(r.map(n=>[n,this.gateMethod(e,n)]))}wrapStruct(e,r,n,a){const s={};for(const i of r)s[i]=this.gateMethod(e,i);for(const i of n)Object.defineProperty(s,i,{get:()=>this.gateProperty(e,i,a[i]),enumerable:!0});return s}};typeof globalThis.__BUILD_DISABLE_RHC__>"u"&&(globalThis.__BUILD_DISABLE_RHC__=!1);var ul={name:"@clerk/clerk-react",version:"5.53.4",environment:"production"},Tt,Ze,Qe,Te,Ce,Mt,Re,ot,Ot,En=class Tn{constructor(r){Ee(this,ot),this.clerkjs=null,this.preopenOneTap=null,this.preopenUserVerification=null,this.preopenSignIn=null,this.preopenCheckout=null,this.preopenPlanDetails=null,this.preopenSubscriptionDetails=null,this.preopenSignUp=null,this.preopenUserProfile=null,this.preopenOrganizationProfile=null,this.preopenCreateOrganization=null,this.preOpenWaitlist=null,this.premountSignInNodes=new Map,this.premountSignUpNodes=new Map,this.premountUserAvatarNodes=new Map,this.premountUserProfileNodes=new Map,this.premountUserButtonNodes=new Map,this.premountOrganizationProfileNodes=new Map,this.premountCreateOrganizationNodes=new Map,this.premountOrganizationSwitcherNodes=new Map,this.premountOrganizationListNodes=new Map,this.premountMethodCalls=new Map,this.premountWaitlistNodes=new Map,this.premountPricingTableNodes=new Map,this.premountApiKeysNodes=new Map,this.premountOAuthConsentNodes=new Map,this.premountTaskChooseOrganizationNodes=new Map,this.premountAddListenerCalls=new Map,this.loadedListeners=[],Ee(this,Tt,"loading"),Ee(this,Ze),Ee(this,Qe),Ee(this,Te),Ee(this,Ce,cl()),Ee(this,Mt),this.buildSignInUrl=s=>{const i=()=>{var l;return((l=this.clerkjs)==null?void 0:l.buildSignInUrl(s))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildSignInUrl",i)},this.buildSignUpUrl=s=>{const i=()=>{var l;return((l=this.clerkjs)==null?void 0:l.buildSignUpUrl(s))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildSignUpUrl",i)},this.buildAfterSignInUrl=(...s)=>{const i=()=>{var l;return((l=this.clerkjs)==null?void 0:l.buildAfterSignInUrl(...s))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildAfterSignInUrl",i)},this.buildAfterSignUpUrl=(...s)=>{const i=()=>{var l;return((l=this.clerkjs)==null?void 0:l.buildAfterSignUpUrl(...s))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildAfterSignUpUrl",i)},this.buildAfterSignOutUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildAfterSignOutUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildAfterSignOutUrl",s)},this.buildNewSubscriptionRedirectUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildNewSubscriptionRedirectUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildNewSubscriptionRedirectUrl",s)},this.buildAfterMultiSessionSingleSignOutUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildAfterMultiSessionSingleSignOutUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildAfterMultiSessionSingleSignOutUrl",s)},this.buildUserProfileUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildUserProfileUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildUserProfileUrl",s)},this.buildCreateOrganizationUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildCreateOrganizationUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildCreateOrganizationUrl",s)},this.buildOrganizationProfileUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildOrganizationProfileUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildOrganizationProfileUrl",s)},this.buildWaitlistUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildWaitlistUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildWaitlistUrl",s)},this.buildTasksUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildTasksUrl())||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildTasksUrl",s)},this.buildUrlWithAuth=s=>{const i=()=>{var l;return((l=this.clerkjs)==null?void 0:l.buildUrlWithAuth(s))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildUrlWithAuth",i)},this.handleUnauthenticated=async()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.handleUnauthenticated()};this.clerkjs&&this.loaded?s():this.premountMethodCalls.set("handleUnauthenticated",s)},this.on=(...s)=>{var i;if((i=this.clerkjs)!=null&&i.on)return this.clerkjs.on(...s);V(this,Ce).on(...s)},this.off=(...s)=>{var i;if((i=this.clerkjs)!=null&&i.off)return this.clerkjs.off(...s);V(this,Ce).off(...s)},this.addOnLoaded=s=>{this.loadedListeners.push(s),this.loaded&&this.emitLoaded()},this.emitLoaded=()=>{this.loadedListeners.forEach(s=>s()),this.loadedListeners=[]},this.beforeLoad=s=>{if(!s)throw new Error("Failed to hydrate latest Clerk JS")},this.hydrateClerkJS=s=>{var i;if(!s)throw new Error("Failed to hydrate latest Clerk JS");return this.clerkjs=s,this.premountMethodCalls.forEach(l=>l()),this.premountAddListenerCalls.forEach((l,o)=>{l.nativeUnsubscribe=s.addListener(o)}),(i=V(this,Ce).internal.retrieveListeners("status"))==null||i.forEach(l=>{this.on("status",l,{notify:!0})}),this.preopenSignIn!==null&&s.openSignIn(this.preopenSignIn),this.preopenCheckout!==null&&s.__internal_openCheckout(this.preopenCheckout),this.preopenPlanDetails!==null&&s.__internal_openPlanDetails(this.preopenPlanDetails),this.preopenSubscriptionDetails!==null&&s.__internal_openSubscriptionDetails(this.preopenSubscriptionDetails),this.preopenSignUp!==null&&s.openSignUp(this.preopenSignUp),this.preopenUserProfile!==null&&s.openUserProfile(this.preopenUserProfile),this.preopenUserVerification!==null&&s.__internal_openReverification(this.preopenUserVerification),this.preopenOneTap!==null&&s.openGoogleOneTap(this.preopenOneTap),this.preopenOrganizationProfile!==null&&s.openOrganizationProfile(this.preopenOrganizationProfile),this.preopenCreateOrganization!==null&&s.openCreateOrganization(this.preopenCreateOrganization),this.preOpenWaitlist!==null&&s.openWaitlist(this.preOpenWaitlist),this.premountSignInNodes.forEach((l,o)=>{s.mountSignIn(o,l)}),this.premountSignUpNodes.forEach((l,o)=>{s.mountSignUp(o,l)}),this.premountUserProfileNodes.forEach((l,o)=>{s.mountUserProfile(o,l)}),this.premountUserAvatarNodes.forEach((l,o)=>{s.mountUserAvatar(o,l)}),this.premountUserButtonNodes.forEach((l,o)=>{s.mountUserButton(o,l)}),this.premountOrganizationListNodes.forEach((l,o)=>{s.mountOrganizationList(o,l)}),this.premountWaitlistNodes.forEach((l,o)=>{s.mountWaitlist(o,l)}),this.premountPricingTableNodes.forEach((l,o)=>{s.mountPricingTable(o,l)}),this.premountApiKeysNodes.forEach((l,o)=>{s.mountApiKeys(o,l)}),this.premountOAuthConsentNodes.forEach((l,o)=>{s.__internal_mountOAuthConsent(o,l)}),this.premountTaskChooseOrganizationNodes.forEach((l,o)=>{s.mountTaskChooseOrganization(o,l)}),typeof this.clerkjs.status>"u"&&V(this,Ce).emit(At.Status,"ready"),this.emitLoaded(),this.clerkjs},this.__experimental_checkout=(...s)=>{var i;return(i=this.clerkjs)==null?void 0:i.__experimental_checkout(...s)},this.__unstable__updateProps=async s=>{const i=await pr(this,ot,Ot).call(this);if(i&&"__unstable__updateProps"in i)return i.__unstable__updateProps(s)},this.setActive=s=>this.clerkjs?this.clerkjs.setActive(s):Promise.reject(),this.openSignIn=s=>{this.clerkjs&&this.loaded?this.clerkjs.openSignIn(s):this.preopenSignIn=s},this.closeSignIn=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignIn():this.preopenSignIn=null},this.__internal_openCheckout=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openCheckout(s):this.preopenCheckout=s},this.__internal_closeCheckout=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeCheckout():this.preopenCheckout=null},this.__internal_openPlanDetails=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openPlanDetails(s):this.preopenPlanDetails=s},this.__internal_closePlanDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closePlanDetails():this.preopenPlanDetails=null},this.__internal_openSubscriptionDetails=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openSubscriptionDetails(s):this.preopenSubscriptionDetails=s??null},this.__internal_closeSubscriptionDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeSubscriptionDetails():this.preopenSubscriptionDetails=null},this.__internal_openReverification=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openReverification(s):this.preopenUserVerification=s},this.__internal_closeReverification=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeReverification():this.preopenUserVerification=null},this.openGoogleOneTap=s=>{this.clerkjs&&this.loaded?this.clerkjs.openGoogleOneTap(s):this.preopenOneTap=s},this.closeGoogleOneTap=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeGoogleOneTap():this.preopenOneTap=null},this.openUserProfile=s=>{this.clerkjs&&this.loaded?this.clerkjs.openUserProfile(s):this.preopenUserProfile=s},this.closeUserProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeUserProfile():this.preopenUserProfile=null},this.openOrganizationProfile=s=>{this.clerkjs&&this.loaded?this.clerkjs.openOrganizationProfile(s):this.preopenOrganizationProfile=s},this.closeOrganizationProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeOrganizationProfile():this.preopenOrganizationProfile=null},this.openCreateOrganization=s=>{this.clerkjs&&this.loaded?this.clerkjs.openCreateOrganization(s):this.preopenCreateOrganization=s},this.closeCreateOrganization=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeCreateOrganization():this.preopenCreateOrganization=null},this.openWaitlist=s=>{this.clerkjs&&this.loaded?this.clerkjs.openWaitlist(s):this.preOpenWaitlist=s},this.closeWaitlist=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeWaitlist():this.preOpenWaitlist=null},this.openSignUp=s=>{this.clerkjs&&this.loaded?this.clerkjs.openSignUp(s):this.preopenSignUp=s},this.closeSignUp=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignUp():this.preopenSignUp=null},this.mountSignIn=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignIn(s,i):this.premountSignInNodes.set(s,i)},this.unmountSignIn=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignIn(s):this.premountSignInNodes.delete(s)},this.mountSignUp=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignUp(s,i):this.premountSignUpNodes.set(s,i)},this.unmountSignUp=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignUp(s):this.premountSignUpNodes.delete(s)},this.mountUserAvatar=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserAvatar(s,i):this.premountUserAvatarNodes.set(s,i)},this.unmountUserAvatar=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserAvatar(s):this.premountUserAvatarNodes.delete(s)},this.mountUserProfile=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserProfile(s,i):this.premountUserProfileNodes.set(s,i)},this.unmountUserProfile=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserProfile(s):this.premountUserProfileNodes.delete(s)},this.mountOrganizationProfile=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationProfile(s,i):this.premountOrganizationProfileNodes.set(s,i)},this.unmountOrganizationProfile=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationProfile(s):this.premountOrganizationProfileNodes.delete(s)},this.mountCreateOrganization=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountCreateOrganization(s,i):this.premountCreateOrganizationNodes.set(s,i)},this.unmountCreateOrganization=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountCreateOrganization(s):this.premountCreateOrganizationNodes.delete(s)},this.mountOrganizationSwitcher=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationSwitcher(s,i):this.premountOrganizationSwitcherNodes.set(s,i)},this.unmountOrganizationSwitcher=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationSwitcher(s):this.premountOrganizationSwitcherNodes.delete(s)},this.__experimental_prefetchOrganizationSwitcher=()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.__experimental_prefetchOrganizationSwitcher()};this.clerkjs&&this.loaded?s():this.premountMethodCalls.set("__experimental_prefetchOrganizationSwitcher",s)},this.mountOrganizationList=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationList(s,i):this.premountOrganizationListNodes.set(s,i)},this.unmountOrganizationList=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationList(s):this.premountOrganizationListNodes.delete(s)},this.mountUserButton=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserButton(s,i):this.premountUserButtonNodes.set(s,i)},this.unmountUserButton=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserButton(s):this.premountUserButtonNodes.delete(s)},this.mountWaitlist=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountWaitlist(s,i):this.premountWaitlistNodes.set(s,i)},this.unmountWaitlist=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountWaitlist(s):this.premountWaitlistNodes.delete(s)},this.mountPricingTable=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountPricingTable(s,i):this.premountPricingTableNodes.set(s,i)},this.unmountPricingTable=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountPricingTable(s):this.premountPricingTableNodes.delete(s)},this.mountApiKeys=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountApiKeys(s,i):this.premountApiKeysNodes.set(s,i)},this.unmountApiKeys=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountApiKeys(s):this.premountApiKeysNodes.delete(s)},this.__internal_mountOAuthConsent=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_mountOAuthConsent(s,i):this.premountOAuthConsentNodes.set(s,i)},this.__internal_unmountOAuthConsent=s=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_unmountOAuthConsent(s):this.premountOAuthConsentNodes.delete(s)},this.mountTaskChooseOrganization=(s,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountTaskChooseOrganization(s,i):this.premountTaskChooseOrganizationNodes.set(s,i)},this.unmountTaskChooseOrganization=s=>{this.clerkjs&&this.loaded?this.clerkjs.unmountTaskChooseOrganization(s):this.premountTaskChooseOrganizationNodes.delete(s)},this.addListener=s=>{if(this.clerkjs)return this.clerkjs.addListener(s);{const i=()=>{var l;const o=this.premountAddListenerCalls.get(s);o&&((l=o.nativeUnsubscribe)==null||l.call(o),this.premountAddListenerCalls.delete(s))};return this.premountAddListenerCalls.set(s,{unsubscribe:i,nativeUnsubscribe:void 0}),i}},this.navigate=s=>{const i=()=>{var l;return(l=this.clerkjs)==null?void 0:l.navigate(s)};this.clerkjs&&this.loaded?i():this.premountMethodCalls.set("navigate",i)},this.redirectWithAuth=async(...s)=>{const i=()=>{var l;return(l=this.clerkjs)==null?void 0:l.redirectWithAuth(...s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectWithAuth",i)},this.redirectToSignIn=async s=>{const i=()=>{var l;return(l=this.clerkjs)==null?void 0:l.redirectToSignIn(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToSignIn",i)},this.redirectToSignUp=async s=>{const i=()=>{var l;return(l=this.clerkjs)==null?void 0:l.redirectToSignUp(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToSignUp",i)},this.redirectToUserProfile=async()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToUserProfile()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToUserProfile",s)},this.redirectToAfterSignUp=()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignUp()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToAfterSignUp",s)},this.redirectToAfterSignIn=()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignIn()};this.clerkjs&&this.loaded?s():this.premountMethodCalls.set("redirectToAfterSignIn",s)},this.redirectToAfterSignOut=()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignOut()};this.clerkjs&&this.loaded?s():this.premountMethodCalls.set("redirectToAfterSignOut",s)},this.redirectToOrganizationProfile=async()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToOrganizationProfile()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToOrganizationProfile",s)},this.redirectToCreateOrganization=async()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToCreateOrganization()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToCreateOrganization",s)},this.redirectToWaitlist=async()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToWaitlist()};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToWaitlist",s)},this.redirectToTasks=async s=>{const i=()=>{var l;return(l=this.clerkjs)==null?void 0:l.redirectToTasks(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToTasks",i)},this.handleRedirectCallback=async s=>{var i;const l=()=>{var o;return(o=this.clerkjs)==null?void 0:o.handleRedirectCallback(s)};this.clerkjs&&this.loaded?(i=l())==null||i.catch(()=>{}):this.premountMethodCalls.set("handleRedirectCallback",l)},this.handleGoogleOneTapCallback=async(s,i)=>{var l;const o=()=>{var c;return(c=this.clerkjs)==null?void 0:c.handleGoogleOneTapCallback(s,i)};this.clerkjs&&this.loaded?(l=o())==null||l.catch(()=>{}):this.premountMethodCalls.set("handleGoogleOneTapCallback",o)},this.handleEmailLinkVerification=async s=>{const i=()=>{var l;return(l=this.clerkjs)==null?void 0:l.handleEmailLinkVerification(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("handleEmailLinkVerification",i)},this.authenticateWithMetamask=async s=>{const i=()=>{var l;return(l=this.clerkjs)==null?void 0:l.authenticateWithMetamask(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithMetamask",i)},this.authenticateWithCoinbaseWallet=async s=>{const i=()=>{var l;return(l=this.clerkjs)==null?void 0:l.authenticateWithCoinbaseWallet(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithCoinbaseWallet",i)},this.authenticateWithBase=async s=>{const i=()=>{var l;return(l=this.clerkjs)==null?void 0:l.authenticateWithBase(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithBase",i)},this.authenticateWithOKXWallet=async s=>{const i=()=>{var l;return(l=this.clerkjs)==null?void 0:l.authenticateWithOKXWallet(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithOKXWallet",i)},this.authenticateWithWeb3=async s=>{const i=()=>{var l;return(l=this.clerkjs)==null?void 0:l.authenticateWithWeb3(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithWeb3",i)},this.authenticateWithGoogleOneTap=async s=>(await pr(this,ot,Ot).call(this)).authenticateWithGoogleOneTap(s),this.__internal_loadStripeJs=async()=>(await pr(this,ot,Ot).call(this)).__internal_loadStripeJs(),this.createOrganization=async s=>{const i=()=>{var l;return(l=this.clerkjs)==null?void 0:l.createOrganization(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("createOrganization",i)},this.getOrganization=async s=>{const i=()=>{var l;return(l=this.clerkjs)==null?void 0:l.getOrganization(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("getOrganization",i)},this.joinWaitlist=async s=>{const i=()=>{var l;return(l=this.clerkjs)==null?void 0:l.joinWaitlist(s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("joinWaitlist",i)},this.signOut=async(...s)=>{const i=()=>{var l;return(l=this.clerkjs)==null?void 0:l.signOut(...s)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("signOut",i)};const{Clerk:n=null,publishableKey:a}=r||{};De(this,Te,a),De(this,Qe,r==null?void 0:r.proxyUrl),De(this,Ze,r==null?void 0:r.domain),this.options=r,this.Clerk=n,this.mode=Ut()?"browser":"server",De(this,Mt,new dl(this)),this.options.sdkMetadata||(this.options.sdkMetadata=ul),V(this,Ce).emit(At.Status,"loading"),V(this,Ce).prioritizedOn(At.Status,s=>De(this,Tt,s)),V(this,Te)&&this.loadClerkJS()}get publishableKey(){return V(this,Te)}get loaded(){var r;return((r=this.clerkjs)==null?void 0:r.loaded)||!1}get status(){var r;return this.clerkjs?((r=this.clerkjs)==null?void 0:r.status)||(this.clerkjs.loaded?"ready":"loading"):V(this,Tt)}static getOrCreateInstance(r){return(!Ut()||!V(this,Re)||r.Clerk&&V(this,Re).Clerk!==r.Clerk||V(this,Re).publishableKey!==r.publishableKey)&&De(this,Re,new Tn(r)),V(this,Re)}static clearInstance(){De(this,Re,null)}get domain(){return typeof window<"u"&&window.location?lr(V(this,Ze),new URL(window.location.href),""):typeof V(this,Ze)=="function"?ye.throw(or):V(this,Ze)||""}get proxyUrl(){return typeof window<"u"&&window.location?lr(V(this,Qe),new URL(window.location.href),""):typeof V(this,Qe)=="function"?ye.throw(or):V(this,Qe)||""}__internal_getOption(r){var n,a;return(n=this.clerkjs)!=null&&n.__internal_getOption?(a=this.clerkjs)==null?void 0:a.__internal_getOption(r):this.options[r]}get sdkMetadata(){var r;return((r=this.clerkjs)==null?void 0:r.sdkMetadata)||this.options.sdkMetadata||void 0}get instanceType(){var r;return(r=this.clerkjs)==null?void 0:r.instanceType}get frontendApi(){var r;return((r=this.clerkjs)==null?void 0:r.frontendApi)||""}get isStandardBrowser(){var r;return((r=this.clerkjs)==null?void 0:r.isStandardBrowser)||this.options.standardBrowser||!1}get isSatellite(){return typeof window<"u"&&window.location?lr(this.options.isSatellite,new URL(window.location.href),!1):typeof this.options.isSatellite=="function"?ye.throw(or):!1}async loadClerkJS(){var r;if(!(this.mode!=="browser"||this.loaded)){typeof window<"u"&&(window.__clerk_publishable_key=V(this,Te),window.__clerk_proxy_url=this.proxyUrl,window.__clerk_domain=this.domain);try{if(this.Clerk){let n;yo(this.Clerk)?(n=new this.Clerk(V(this,Te),{proxyUrl:this.proxyUrl,domain:this.domain}),this.beforeLoad(n),await n.load(this.options)):(n=this.Clerk,n.loaded||(this.beforeLoad(n),await n.load(this.options))),global.Clerk=n}else if(!__BUILD_DISABLE_RHC__){if(global.Clerk||await tl({...this.options,publishableKey:V(this,Te),proxyUrl:this.proxyUrl,domain:this.domain,nonce:this.options.nonce}),!global.Clerk)throw new Error("Failed to download latest ClerkJS. Contact support@clerk.com.");this.beforeLoad(global.Clerk),await global.Clerk.load(this.options)}return(r=global.Clerk)!=null&&r.loaded?this.hydrateClerkJS(global.Clerk):void 0}catch(n){const a=n;V(this,Ce).emit(At.Status,"error"),console.error(a.stack||a.message||a);return}}}get version(){var r;return(r=this.clerkjs)==null?void 0:r.version}get client(){if(this.clerkjs)return this.clerkjs.client}get session(){if(this.clerkjs)return this.clerkjs.session}get user(){if(this.clerkjs)return this.clerkjs.user}get organization(){if(this.clerkjs)return this.clerkjs.organization}get telemetry(){if(this.clerkjs)return this.clerkjs.telemetry}get __unstable__environment(){if(this.clerkjs)return this.clerkjs.__unstable__environment}get isSignedIn(){return this.clerkjs?this.clerkjs.isSignedIn:!1}get billing(){var r;return(r=this.clerkjs)==null?void 0:r.billing}get __internal_state(){return this.loaded&&this.clerkjs?this.clerkjs.__internal_state:V(this,Mt)}get apiKeys(){var r;return(r=this.clerkjs)==null?void 0:r.apiKeys}__unstable__setEnvironment(...r){if(this.clerkjs&&"__unstable__setEnvironment"in this.clerkjs)this.clerkjs.__unstable__setEnvironment(r);else return}};Tt=new WeakMap;Ze=new WeakMap;Qe=new WeakMap;Te=new WeakMap;Ce=new WeakMap;Mt=new WeakMap;Re=new WeakMap;ot=new WeakSet;Ot=function(){return new Promise(e=>{this.addOnLoaded(()=>e(this.clerkjs))})};Ee(En,Re);var ws=En;function ml(e){const{isomorphicClerkOptions:r,initialState:n,children:a}=e,{isomorphicClerk:s,clerkStatus:i}=pl(r),[l,o]=u.useState({client:s.client,session:s.session,user:s.user,organization:s.organization});u.useEffect(()=>s.addListener(H=>o({...H})),[]);const c=al(s.loaded,l,n),f=u.useMemo(()=>({value:s}),[i]),h=u.useMemo(()=>({value:l.client}),[l.client]),{sessionId:m,sessionStatus:b,sessionClaims:x,session:P,userId:y,user:C,orgId:_,actor:N,organization:A,orgRole:S,orgSlug:k,orgPermissions:D,factorVerificationAge:O}=c,w=u.useMemo(()=>({value:{sessionId:m,sessionStatus:b,sessionClaims:x,userId:y,actor:N,orgId:_,orgRole:S,orgSlug:k,orgPermissions:D,factorVerificationAge:O}}),[m,b,y,N,_,S,k,O,x==null?void 0:x.__raw]),M=u.useMemo(()=>({value:P}),[m,P]),T=u.useMemo(()=>({value:C}),[y,C]),R=u.useMemo(()=>({value:{organization:A}}),[_,A]);return u.createElement(Ki.Provider,{value:f},u.createElement(Mi.Provider,{value:h},u.createElement(Oi.Provider,{value:M},u.createElement(Li,{...R.value},u.createElement(Gi.Provider,{value:w},u.createElement(Ei.Provider,{value:T},u.createElement(Ii,{value:void 0},a)))))))}var pl=e=>{const r=u.useRef(ws.getOrCreateInstance(e)),[n,a]=u.useState(r.current.status);return u.useEffect(()=>{r.current.__unstable__updateProps({appearance:e.appearance})},[e.appearance]),u.useEffect(()=>{r.current.__unstable__updateProps({options:e})},[e.localization]),u.useEffect(()=>(r.current.on("status",a),()=>{r.current&&r.current.off("status",a),ws.clearInstance()}),[]),{isomorphicClerk:r.current,clerkStatus:n}};function hl(e){const{initialState:r,children:n,__internal_bypassMissingPublishableKey:a,...s}=e,{publishableKey:i="",Clerk:l}=s;return!l&&!a&&(i?i&&!yr(i)&&ye.throwInvalidPublishableKeyError({key:i}):ye.throwMissingPublishableKeyError()),u.createElement(ml,{initialState:r,isomorphicClerkOptions:s},n)}var Mn=jo(hl,"ClerkProvider",Ji);Mn.displayName="ClerkProvider";Vi({packageName:"@clerk/clerk-react"});el("@clerk/clerk-react");class fl extends v.Component{constructor(){super(...arguments);de(this,"state",{hasError:!1,error:null});de(this,"handleReset",()=>{this.setState({hasError:!1,error:null})});de(this,"handleReload",()=>{window.location.reload()})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,a){console.error("ErrorBoundary caught an error:",n,a),this.props.onError&&this.props.onError(n,a)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8",children:[t.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:t.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 text-center mb-2",children:"Something went wrong"}),t.jsx("p",{className:"text-gray-600 text-center mb-6",children:"We encountered an unexpected error. Your work has been saved automatically."}),this.state.error&&t.jsxs("details",{className:"mb-6 p-4 bg-gray-50 rounded border border-gray-200",children:[t.jsx("summary",{className:"cursor-pointer text-sm font-medium text-gray-700 mb-2",children:"Error details"}),t.jsx("pre",{className:"text-xs text-red-600 overflow-auto max-h-32",children:this.state.error.toString()})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:this.handleReset,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors font-medium",children:"Try Again"}),t.jsx("button",{onClick:this.handleReload,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition-colors font-medium",children:"Reload Page"})]}),t.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"If this problem persists, please try clearing your browser cache."})]})}):this.props.children}}const gl="modulepreload",xl=function(e){return"/soundsexpensive/"+e},ks={},ve=function(r,n,a){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=xl(c),c in ks)return;ks[c]=!0;const f=c.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":gl,f||(m.as="script"),m.crossOrigin="",m.href=c,o&&m.setAttribute("nonce",o),document.head.appendChild(m),f)return new Promise((b,x)=>{m.addEventListener("load",b),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return s.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return r().catch(i)})},ge=[{key:"craft",title:"Craft (writing & performance)",help:"How consistent and developed are your songwriting, vocal or instrumental skills? 1 = emerging, 5 = world-class"},{key:"catalog",title:"Catalog (song inventory)",help:"How many finished, releasable songs do you have and how strong are they? 1 = a few rough ideas, 5 = large, release-ready catalog"},{key:"brand",title:"Brand & Visuals",help:"Do you have a clear sound, visual identity, and assets (photos, artwork, colors)?"},{key:"team",title:"Team & Partners",help:"Do you have consistent collaborators, management, booking, or label partners?"},{key:"audience",title:"Audience & Engagement",help:"Do you have a measurable and engaged audience across platforms?"},{key:"ops",title:"Ops (finance & legal)",help:"Are your business operations, rights ownership, and finances organised?"}],nt=[{key:"craft",systemMessage:"Let's talk about your musical abilities. Tell me about your songwriting process, performance experience, or technical skills. For example, do you write your own songs? Play instruments? Produce?",suggestions:["I write and produce my own music","I collaborate with other songwriters","I'm mainly focused on performing","I'm learning production right now"]},{key:"catalog",systemMessage:"Let's discuss your song catalog. How many finished songs do you have? Are they released or unreleased? Think about both quantity and quality.",suggestions:["I have several demos","I release music regularly","Working on my first EP","Building a collection of singles"]},{key:"brand",systemMessage:"Tell me about your artist brand and visual identity. Do you have a consistent look, logo, or aesthetic? What story does your visual presence tell?",suggestions:["I have professional photos","Working on my visual style","My aesthetic is DIY/authentic","Need help with branding"]},{key:"team",systemMessage:"Who's on your team? This could include managers, producers, bookers, or regular collaborators. Don't worry if you're doing everything yourself right now.",suggestions:["I'm indie/self-managed","I work with a producer","Have some key collaborators","Looking for management"]},{key:"audience",systemMessage:"Let's talk about your audience and engagement. This includes social media followers, streaming numbers, live show attendance, or any other ways you connect with fans.",suggestions:["Building social following","Regular live shows","Growing streaming numbers","Focused on content creation"]},{key:"ops",systemMessage:"How organized are your music business operations? Think about things like copyright registration, streaming accounts, financial tracking, or legal agreements.",suggestions:["Registered for PROs","Have distribution setup","Track my expenses","Need legal help"]}];function On({messages:e,onSendMessage:r,suggestions:n=[],className:a="",placeholder:s="Type your response or question..."}){const[i,l]=v.useState(""),[o,c]=v.useState(!1),f=u.useRef(!1);v.useEffect(()=>{const m=e[e.length-1];if(!f.current){f.current=!0,c(!1);return}if((m==null?void 0:m.type)==="user"){c(!0);const b=setTimeout(()=>{c(!1)},800);return()=>clearTimeout(b)}else c(!1)},[e]);const h=m=>{m.preventDefault(),i.trim()&&(r(i),l(""))};return t.jsxs("div",{className:`flex flex-col h-full ${a} bg-surface-800/50 rounded-xl border border-surface-700`,children:[t.jsx("div",{className:"border-b border-surface-700/50 px-6 py-4 bg-surface-800/80",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-surface-50",children:"Strategic Planning Assistant"}),t.jsx("p",{className:"text-sm text-surface-400 mt-0.5",children:e.filter(m=>m.type==="user").length===0?"Let's create a data-driven roadmap for your next release":`${e.filter(m=>m.type==="user").length} response${e.filter(m=>m.type==="user").length===1?"":"s"}  Building your strategic plan`})]}),o&&t.jsxs("div",{className:"flex items-center gap-2 text-sm text-surface-400",children:[t.jsx("div",{className:"w-1.5 h-1.5 bg-primary-500 rounded-full animate-pulse"}),t.jsx("span",{children:"Analyzing..."})]})]})}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[e.map(m=>t.jsx("div",{className:`max-w-[85%] rounded-lg p-4 ${m.type==="user"?"bg-primary-600/20 ml-auto text-surface-50 border border-primary-500/30":m.type==="suggestion"?"bg-surface-700/30 text-surface-200 border border-surface-600/30":"bg-surface-700/50 text-surface-100 border border-surface-600/40"}`,children:t.jsx("p",{className:"text-sm leading-relaxed",children:m.content})},m.id)),n.length>0&&t.jsx("div",{className:"space-y-2","aria-label":"suggestions",children:n.map((m,b)=>t.jsx("button",{type:"button",className:"max-w-[85%] text-left w-full rounded-lg p-3 bg-surface-700/30 text-surface-200 border border-surface-600/30 hover:bg-surface-700/50 transition",onClick:()=>r(m),children:m},b))}),o&&t.jsx("div",{className:"max-w-[85%]",children:t.jsx("div",{className:"bg-surface-700/50 border border-surface-600/40 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("div",{className:"flex space-x-1.5",children:[t.jsx("div",{className:"w-2 h-2 bg-primary-400 rounded-full animate-bounce"}),t.jsx("div",{className:"w-2 h-2 bg-primary-400 rounded-full animate-bounce",style:{animationDelay:"0.15s"}}),t.jsx("div",{className:"w-2 h-2 bg-primary-400 rounded-full animate-bounce",style:{animationDelay:"0.3s"}})]}),t.jsx("span",{className:"text-xs text-surface-400",children:"Analyzing your response..."})]})})})]}),t.jsxs("form",{onSubmit:h,className:"px-6 py-4 border-t border-surface-700/50 bg-surface-800/40",children:[t.jsxs("div",{className:"flex gap-3",children:[t.jsx("input",{type:"text",value:i,onChange:m=>l(m.target.value),placeholder:s,className:"flex-1 bg-surface-700/50 rounded-lg px-4 py-3 text-sm text-surface-100 placeholder-surface-400 border border-surface-600 focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 transition-all outline-none",disabled:o}),t.jsx("button",{type:"submit","aria-label":"Send",disabled:!i.trim()||o,className:"px-6 py-3 bg-primary-600 hover:bg-primary-700 disabled:bg-surface-600 disabled:cursor-not-allowed text-white rounded-lg text-sm font-medium transition-all",children:o?t.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin","aria-hidden":"true"}):t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]}),t.jsx("div",{className:"mt-2 text-xs text-surface-500",children:"Press Enter to send  Be specific about your goals and constraints"})]})]})}const hr=()=>Math.random().toString(36).slice(2,9);function bl({initialAnswers:e,onFinish:r,onCancel:n}){const[a,s]=v.useState(0),[i,l]=v.useState(()=>({...e})),[o,c]=v.useState(!1),[f,h]=v.useState(()=>{const y=nt[0];return[{id:hr(),type:"system",content:y.systemMessage}]}),m=v.useRef(null);v.useEffect(()=>{if(a<nt.length){const y=nt[a];h(C=>[...C,{id:hr(),type:"system",content:y.systemMessage}])}},[a]);const b=y=>{h(C=>[...C,{id:hr(),type:"user",content:y}])};v.useEffect(()=>{const y=C=>{m.current&&(C.key==="ArrowLeft"&&s(_=>Math.max(0,_-1)),C.key==="ArrowRight"&&s(_=>Math.min(ge.length,_+1)),C.key==="Enter"&&a===ge.length&&r(i),C.key==="Escape"&&n())};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[a,i,r,n]);const x=ge[a],P=a===ge.length;return t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",role:"dialog","aria-modal":"true","aria-labelledby":"wizard-title",ref:m,children:[t.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:n,role:"presentation"}),t.jsxs("div",{className:"relative w-full max-w-5xl rounded-2xl bg-surface-800 p-6",role:"document",children:[t.jsx("h3",{className:"text-lg font-semibold mb-2 text-primary-100",children:"Guided assessment"}),t.jsx("p",{className:"text-sm text-surface-300 mb-4",children:"Answer a few short prompts to help compute your maturity baseline. You can edit values later."}),t.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[t.jsx("div",{className:"flex-1",children:P?t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"text-sm font-medium",children:"Review your answers"}),t.jsx("div",{className:"mt-3 grid gap-2",children:ge.map(y=>t.jsxs("div",{className:"flex items-center justify-between rounded p-2 bg-surface-700/40",children:[t.jsx("div",{className:"text-sm",children:y.title}),t.jsxs("div",{className:"text-sm font-medium",children:[i[y.key]," / 5"]})]},y.key))}),t.jsx("div",{className:"mt-3 text-xs text-surface-400",children:"Note: These values will be used as the baseline for the automated maturity calculation. You can tweak them later from the profile screen."})]}):t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"text-sm font-medium",id:"wizard-title",children:x.title}),t.jsx("div",{className:"text-xs text-surface-400 mb-2",children:x.help}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("input",{"aria-label":`${x.title} score`,type:"range",min:1,max:5,step:1,value:i[x.key],onChange:y=>l(C=>({...C,[x.key]:parseInt(y.target.value)})),className:"w-full"}),t.jsx("div",{className:"w-12 text-center text-surface-100","aria-live":"polite",children:i[x.key]})]})]})}),t.jsxs("div",{className:"w-full md:w-96",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h4",{className:"text-sm font-medium",children:"Need help?"}),t.jsx("button",{onClick:()=>c(!o),className:"text-xs px-2 py-1 rounded border border-surface-600 hover:bg-surface-700",children:o?"Hide chat":"Show chat"})]}),o&&!P&&t.jsx("div",{className:"h-[400px] border border-surface-700 rounded-lg",children:t.jsx(On,{messages:f,onSendMessage:b,suggestions:nt[Math.min(a,nt.length-1)].suggestions,placeholder:"Type your message..."})})]})]}),t.jsxs("div",{className:"flex justify-between mt-6",children:[t.jsxs("div",{children:[t.jsx("button",{className:"rounded px-3 py-2 border border-surface-700 text-xs",onClick:()=>s(y=>Math.max(0,y-1)),disabled:a===0,children:"Prev"}),t.jsx("button",{className:"ml-2 rounded px-3 py-2 border border-primary-600 text-xs text-primary-100",onClick:()=>l(y=>({...y,[ge[Math.max(0,Math.min(ge.length-1,a))].key]:Math.min(5,(y[ge[Math.max(0,Math.min(ge.length-1,a))].key]||1)+1)})),children:"+1"})]}),t.jsx("div",{children:P?t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{className:"rounded px-3 py-2 border border-surface-700 text-xs",onClick:()=>s(ge.length-1),children:"Back"}),t.jsx("button",{className:"rounded px-3 py-2 bg-accent-600 text-xs text-accent-50",onClick:()=>r(i),children:"Save & Finish"})]}):t.jsx("button",{className:"rounded px-3 py-2 bg-primary-600 text-xs text-primary-50",onClick:()=>s(y=>Math.min(ge.length,y+1)),children:"Next"})})]})]})]})}function yl({message:e}){return t.jsx("div",{className:"fixed right-6 bottom-6 z-60 rounded-lg bg-surface-700/90 border border-surface-600 px-4 py-2 text-sm text-surface-50 shadow-lg",children:e})}function vl({onStart:e,onSkip:r,hasExistingData:n}){return t.jsx("div",{className:"min-h-[80vh] flex items-center justify-center p-6",children:t.jsxs("div",{className:"max-w-3xl w-full",children:[t.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-surface-700 banner-studio p-8 md:p-12 shadow-2xl",children:[t.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 bg-gradient-to-b from-surface-900/40 via-transparent to-surface-900/40"}),t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br from-primary-500 to-primary-600 mb-6 shadow-lg",children:t.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),t.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Artist Roadmap PRO"}),t.jsx("p",{className:"text-lg text-surface-200 max-w-2xl mx-auto",children:"Professional A&R platform for data-driven artist development and strategic release planning"})]}),t.jsxs("div",{className:"mb-10",children:[t.jsx("h2",{className:"text-xl font-semibold text-primary-300 mb-6 text-center",children:"Artist Development Workflow"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex gap-4 p-5 rounded-xl bg-surface-800/50 border border-surface-700 hover:border-primary-600/50 transition-colors",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-12 h-12 rounded-full bg-primary-600/20 border-2 border-primary-600 flex items-center justify-center",children:t.jsx("span",{className:"text-xl font-bold text-primary-400",children:"1"})})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Baseline Assessment"}),t.jsx("p",{className:"text-surface-200 text-sm leading-relaxed",children:"Analyze artist catalog with objective metrics. Spotify integration or direct upload provides quality scores, consistency analysis, sonic identity, and trend detection. Establish data-driven baseline."}),t.jsxs("div",{className:"mt-3 flex gap-2 text-xs",children:[t.jsx("span",{className:"px-2 py-1 rounded bg-primary-600/20 text-primary-300",children:"Quality Metrics"}),t.jsx("span",{className:"px-2 py-1 rounded bg-primary-600/20 text-primary-300",children:"Consistency Scoring"}),t.jsx("span",{className:"px-2 py-1 rounded bg-primary-600/20 text-primary-300",children:"Trend Analysis"})]})]})]}),t.jsxs("div",{className:"flex gap-4 p-5 rounded-xl bg-surface-800/50 border border-surface-700 hover:border-accent-600/50 transition-colors",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-12 h-12 rounded-full bg-accent-600/20 border-2 border-accent-600 flex items-center justify-center",children:t.jsx("span",{className:"text-xl font-bold text-accent-400",children:"2"})})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Strategic Planning"}),t.jsx("p",{className:"text-surface-200 text-sm leading-relaxed",children:"Define release strategy based on catalog data. AI assistant guides format selection (EP/Album/Singles), timeline planning, budget allocation, and goal setting. Evidence-based recommendations."}),t.jsxs("div",{className:"mt-3 flex gap-2 text-xs",children:[t.jsx("span",{className:"px-2 py-1 rounded bg-accent-600/20 text-accent-300",children:"Format Selection"}),t.jsx("span",{className:"px-2 py-1 rounded bg-accent-600/20 text-accent-300",children:"Timeline Planning"}),t.jsx("span",{className:"px-2 py-1 rounded bg-accent-600/20 text-accent-300",children:"Budget Modeling"})]})]})]}),t.jsxs("div",{className:"flex gap-4 p-5 rounded-xl bg-surface-800/50 border border-surface-700 hover:border-green-600/50 transition-colors",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-12 h-12 rounded-full bg-green-600/20 border-2 border-green-600 flex items-center justify-center",children:t.jsx("span",{className:"text-xl font-bold text-green-400",children:"3"})})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Roadmap Generation"}),t.jsx("p",{className:"text-surface-200 text-sm leading-relaxed",children:"System generates comprehensive roadmap from catalog + planning data. Includes realistic timelines, budget estimates by phase, task management, and grant opportunities. Fully customizable post-generation."}),t.jsxs("div",{className:"mt-3 flex gap-2 text-xs",children:[t.jsx("span",{className:"px-2 py-1 rounded bg-green-600/20 text-green-300",children:"Phase Planning"}),t.jsx("span",{className:"px-2 py-1 rounded bg-green-600/20 text-green-300",children:"Budget Breakdown"}),t.jsx("span",{className:"px-2 py-1 rounded bg-green-600/20 text-green-300",children:"Grant Matching"})]})]})]})]})]}),t.jsxs("div",{className:"mb-8 p-6 rounded-xl bg-primary-600/10 border border-primary-600/30",children:[t.jsx("h3",{className:"text-lg font-semibold text-primary-200 mb-3",children:"Evidence-Based Artist Development"}),t.jsxs("p",{className:"text-surface-300 text-sm leading-relaxed",children:["Traditional A&R relies on subjective assessment and generic templates. This platform provides",t.jsx("strong",{children:" objective catalog metrics first"}),", then builds custom strategies based on actual data. Results: More accurate artist positioning, realistic timelines, better resource allocation, and higher probability of successful launches."]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-center",children:[t.jsx("button",{onClick:e,className:"group w-full sm:w-auto px-8 py-4 bg-gradient-to-r from-primary-600 to-primary-500 hover:from-primary-500 hover:to-primary-400 text-surface-50 rounded-xl font-semibold text-lg transition-all shadow-lg hover:shadow-primary-500/50 hover:scale-105",children:t.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Begin Artist Assessment",t.jsx("svg",{className:"w-5 h-5 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})}),n&&t.jsx("button",{onClick:r,className:"w-full sm:w-auto px-6 py-4 border border-surface-600 hover:border-surface-500 text-surface-200 hover:text-white rounded-xl text-sm transition-colors",children:"Skip to Existing Data"})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs("p",{className:"text-xs text-surface-300",children:[t.jsxs("span",{className:"inline-flex items-center gap-1",children:[t.jsx("span",{children:""})," Takes about 5-10 minutes"]}),"  ",t.jsx("span",{children:"Your data is saved automatically"})]})})]}),t.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[t.jsxs("div",{className:"relative overflow-hidden p-4 rounded-xl border border-surface-700/50 banner-studio",children:[t.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 bg-gradient-to-b from-surface-900/30 via-transparent to-surface-900/30"}),t.jsxs("div",{className:"relative flex flex-col items-center",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary-600/20 flex items-center justify-center mb-2",children:t.jsx("svg",{className:"w-5 h-5 text-primary-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6l4 2"})})}),t.jsx("div",{className:"text-sm font-medium text-white mb-1",children:"Data-Driven"}),t.jsx("div",{className:"text-xs text-surface-200",children:"Decisions based on real analysis"})]})]}),t.jsxs("div",{className:"relative overflow-hidden p-4 rounded-xl border border-surface-700/50 banner-studio",children:[t.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 bg-gradient-to-b from-surface-900/30 via-transparent to-surface-900/30"}),t.jsxs("div",{className:"relative flex flex-col items-center",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-accent-600/20 flex items-center justify-center mb-2",children:t.jsx("svg",{className:"w-5 h-5 text-accent-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-4.197-2.42A1 1 0 009 9.618v4.764a1 1 0 001.555.832l4.197-2.42a1 1 0 000-1.726z"})})}),t.jsx("div",{className:"text-sm font-medium text-white mb-1",children:"AI-Powered"}),t.jsx("div",{className:"text-xs text-surface-200",children:"Smart recommendations for your stage"})]})]}),t.jsxs("div",{className:"relative overflow-hidden p-4 rounded-xl border border-surface-700/50 banner-studio",children:[t.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 bg-gradient-to-b from-surface-900/30 via-transparent to-surface-900/30"}),t.jsxs("div",{className:"relative flex flex-col items-center",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-600/20 flex items-center justify-center mb-2",children:t.jsx("svg",{className:"w-5 h-5 text-green-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),t.jsx("div",{className:"text-sm font-medium text-white mb-1",children:"Auto-Saved"}),t.jsx("div",{className:"text-xs text-surface-200",children:"Never lose your progress"})]})]})]})]})})}function jl({catalogAnalysisData:e,roadmapGenerated:r,projectType:n,projectUnits:a,savedGrantsCount:s,applicationsCount:i,onContinue:l,onReAnalyze:o,onViewRoadmap:c,onViewGrants:f}){const h=()=>{const m=new Date().getHours();return m<12?"Good morning":m<18?"Good afternoon":"Good evening"};return t.jsx("div",{className:"min-h-[80vh] flex items-center justify-center p-6",children:t.jsxs("div",{className:"max-w-5xl w-full",children:[t.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-surface-700 p-6 mb-8 banner-studio text-center",children:[t.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 bg-gradient-to-r from-surface-900/50 via-surface-900/30 to-transparent"}),t.jsxs("div",{className:"relative",children:[t.jsx("h1",{className:"text-4xl font-bold text-surface-50 mb-2",children:h()}),t.jsx("p",{className:"text-sm text-surface-300",children:"Artist Development Session"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[t.jsxs("div",{className:"rounded-2xl border border-surface-700 bg-surface-800/50 p-6 backdrop-blur",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-surface-300 mb-1",children:"Catalog Analysis"}),t.jsx("div",{className:"text-2xl font-bold text-surface-50",children:e?t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-green-400",children:""}),e.total_tracks," tracks"]}):t.jsx("span",{className:"text-surface-300",children:"Not yet"})})]}),t.jsx("div",{className:"w-12 h-12 rounded-full bg-primary-600/20 flex items-center justify-center",children:t.jsx("svg",{className:"w-6 h-6 text-primary-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]}),e&&t.jsxs("div",{className:"space-y-1 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-surface-300",children:"Avg Score:"}),t.jsxs("span",{className:"text-surface-200 font-medium",children:[e.average_score.toFixed(0),"/100"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-surface-300",children:"Consistency:"}),t.jsxs("span",{className:"text-surface-200 font-medium",children:[e.sonic_identity.consistency_score.toFixed(0),"%"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-surface-300",children:"Trend:"}),t.jsx("span",{className:`font-medium ${e.score_trend==="improving"?"text-green-400":e.score_trend==="declining"?"text-orange-400":"text-surface-300"}`,children:e.score_trend==="improving"?" Improving":e.score_trend==="declining"?" Declining":" Stable"})]})]})]}),t.jsxs("div",{className:"rounded-2xl border border-surface-700 bg-surface-800/50 p-6 backdrop-blur",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-surface-300 mb-1",children:"Project Roadmap"}),t.jsx("div",{className:"text-2xl font-bold text-surface-50",children:r?t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-green-400",children:""}),n]}):t.jsx("span",{className:"text-surface-300",children:"Not set"})})]}),t.jsx("div",{className:"w-12 h-12 rounded-full bg-accent-600/20 flex items-center justify-center",children:t.jsx("span",{className:"text-2xl",children:""})})]}),r&&t.jsxs("div",{className:"space-y-1 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-surface-300",children:"Tracks:"}),t.jsx("span",{className:"text-surface-200 font-medium",children:a})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-surface-300",children:"Status:"}),t.jsx("span",{className:"text-accent-300 font-medium",children:"In Progress"})]})]})]}),t.jsxs("div",{className:"rounded-2xl border border-surface-700 bg-surface-800/50 p-6 backdrop-blur",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-surface-300 mb-1",children:"Grant Opportunities"}),t.jsx("div",{className:"text-2xl font-bold text-surface-50",children:s>0?t.jsxs("span",{className:"flex items-center gap-2",children:[s," saved"]}):t.jsx("span",{className:"text-surface-300",children:"Explore"})})]}),t.jsx("div",{className:"w-12 h-12 rounded-full bg-green-600/20 flex items-center justify-center",children:t.jsx("svg",{className:"w-6 h-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),t.jsxs("div",{className:"space-y-1 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-surface-300",children:"Applications:"}),t.jsx("span",{className:"text-surface-200 font-medium",children:i})]}),s>0&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-surface-300",children:"Status:"}),t.jsx("span",{className:"text-green-300 font-medium",children:"Active"})]})]})]})]}),t.jsxs("div",{className:"rounded-2xl border border-surface-700 bg-surface-800/50 p-8 backdrop-blur mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-surface-100 mb-6",children:"Actions"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("button",{onClick:l,className:"group p-6 rounded-xl border-2 border-primary-600 bg-primary-600/10 hover:bg-primary-600/20 transition-all text-left",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-primary-600/30 flex items-center justify-center",children:t.jsx("svg",{className:"w-6 h-6 text-primary-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 9l3 3m0 0l-3 3m3-3H8m13 0a9 9 0 11-18 0 9 9 0 0118 0z"})})}),t.jsx("div",{className:"text-xs px-2 py-1 rounded bg-primary-600/30 text-primary-200",children:"Resume"})]}),t.jsx("h3",{className:"text-lg font-semibold text-surface-100 mb-2 group-hover:text-primary-200 transition-colors",children:"Continue Session"}),t.jsx("p",{className:"text-sm text-surface-200",children:"Resume artist development planning from last checkpoint"})]}),t.jsxs("button",{onClick:c,className:"group p-6 rounded-xl border border-surface-600 hover:border-accent-600 bg-surface-800/30 hover:bg-accent-600/10 transition-all text-left",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-accent-600/20 flex items-center justify-center mb-3",children:t.jsx("svg",{className:"w-6 h-6 text-accent-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),t.jsx("h3",{className:"text-lg font-semibold text-surface-100 mb-2 group-hover:text-accent-200 transition-colors",children:r?"View Roadmap":"Generate Roadmap"}),t.jsx("p",{className:"text-sm text-surface-200",children:r?"Review timeline, budget, and tasks":"Start planning your next release"})]}),t.jsxs("button",{onClick:o,className:"group p-6 rounded-xl border border-surface-600 hover:border-primary-600 bg-surface-800/30 hover:bg-primary-600/10 transition-all text-left",children:[t.jsx("div",{className:"text-3xl mb-3",children:""}),t.jsx("h3",{className:"text-lg font-semibold text-surface-100 mb-2 group-hover:text-primary-200 transition-colors",children:e?"Update Catalog Analysis":"Analyze Your Catalog"}),t.jsx("p",{className:"text-sm text-surface-200",children:e?"Add new tracks or refresh your analysis":"Upload tracks to get data-driven insights"})]}),t.jsxs("button",{onClick:f,className:"group p-6 rounded-xl border border-surface-600 hover:border-green-600 bg-surface-800/30 hover:bg-green-600/10 transition-all text-left",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-green-600/20 flex items-center justify-center mb-3",children:t.jsx("svg",{className:"w-6 h-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),t.jsx("h3",{className:"text-lg font-semibold text-surface-100 mb-2 group-hover:text-green-200 transition-colors",children:"Explore Grant Opportunities"}),t.jsx("p",{className:"text-sm text-surface-200",children:s>0?`${s} saved funding opportunities`:"Identify funding opportunities for artist development"})]})]})]}),t.jsx("div",{className:"text-center",children:t.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-surface-800/50 border border-surface-700 text-sm text-surface-300",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),t.jsx("span",{children:"All data is automatically saved. Resume artist development planning anytime."})]})})]})})}function _l({portfolio:e,onSwitchArtist:r,onNewArtist:n,onDeleteArtist:a,currentArtistName:s}){const[i,l]=v.useState(!1),o=v.useRef(null);v.useEffect(()=>{const b=x=>{o.current&&!o.current.contains(x.target)&&l(!1)};if(i)return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[i]);const c=e.artists.find(b=>b.id===e.activeArtistId),f=e.artists.filter(b=>b.id!==e.activeArtistId),h=b=>{var x,P;return((P=(x=b.state)==null?void 0:x.profile)==null?void 0:P.stage)||"Unknown"},m=b=>{var P,y;const x=b.profile.genres||((y=(P=b.state)==null?void 0:P.profile)==null?void 0:y.genres);return x?x.length>30?x.substring(0,30)+"...":x:"No genre"};return t.jsxs("div",{className:"relative",ref:o,children:[t.jsxs("button",{onClick:()=>l(!i),className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-surface-700 bg-surface-800/50 hover:bg-surface-800 transition-colors text-left min-w-[200px]",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"text-sm font-medium text-surface-100 truncate",children:s}),t.jsxs("div",{className:"text-xs text-surface-400",children:[e.artists.length," artist",e.artists.length!==1?"s":""]})]}),t.jsx("svg",{className:`w-4 h-4 text-surface-400 transition-transform ${i?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&t.jsxs("div",{className:"absolute top-full left-0 mt-2 w-80 max-h-96 overflow-y-auto rounded-lg border border-surface-700 bg-surface-900 shadow-2xl z-[9999]",children:[c&&t.jsxs("div",{className:"p-3 border-b border-surface-700 bg-primary-600/10",children:[t.jsx("div",{className:"text-xs text-surface-400 mb-1",children:"Current Artist"}),t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"text-sm font-semibold text-surface-50 truncate",children:c.profile.artistName||"Unnamed Artist"}),t.jsxs("div",{className:"text-xs text-surface-300 mt-0.5",children:[m(c),"  ",h(c)]})]}),t.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-primary-600/20 text-primary-300 border border-primary-600/30",children:"Active"})]})]}),f.length>0&&t.jsxs("div",{className:"p-2",children:[t.jsx("div",{className:"text-xs text-surface-400 px-2 py-1 mb-1",children:"Switch to Artist"}),f.map(b=>t.jsxs("div",{className:"group flex items-center justify-between px-2 py-2 rounded-lg hover:bg-surface-800 transition-colors",children:[t.jsxs("button",{onClick:()=>{r(b.id),l(!1)},className:"flex-1 text-left min-w-0 mr-2",children:[t.jsx("div",{className:"text-sm font-medium text-surface-200 group-hover:text-surface-50 truncate",children:b.profile.artistName||"Unnamed Artist"}),t.jsxs("div",{className:"text-xs text-surface-400 mt-0.5",children:[m(b),"  ",h(b)]}),t.jsxs("div",{className:"text-xs text-surface-500 mt-0.5",children:["Modified: ",new Date(b.lastModified).toLocaleDateString()]})]}),t.jsx("button",{onClick:x=>{x.stopPropagation(),a(b.id),l(!1)},className:"opacity-0 group-hover:opacity-100 p-1.5 rounded text-surface-500 hover:text-red-400 hover:bg-red-900/20 transition-all",title:"Delete artist",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},b.id))]}),t.jsx("div",{className:"p-2 border-t border-surface-700",children:t.jsxs("button",{onClick:()=>{n(),l(!1)},className:"w-full flex items-center justify-center gap-2 px-3 py-2 rounded-lg bg-primary-600 hover:bg-primary-700 text-white text-sm font-medium transition-colors",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Artist"]})}),t.jsx("div",{className:"p-3 border-t border-surface-700 bg-surface-800/30",children:t.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-lg font-bold text-surface-100",children:e.artists.length}),t.jsx("div",{className:"text-xs text-surface-400",children:"Artists"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-lg font-bold text-surface-100",children:e.artists.filter(b=>{var x;return(x=b.state)==null?void 0:x.catalogAnalysisComplete}).length}),t.jsx("div",{className:"text-xs text-surface-400",children:"Analyzed"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-lg font-bold text-surface-100",children:e.artists.filter(b=>{var x;return(x=b.state)==null?void 0:x.roadmapGenerated}).length}),t.jsx("div",{className:"text-xs text-surface-400",children:"Roadmaps"})]})]})})]})]})}const Rn="ar-page-tips-v1";function wl(){try{const e=localStorage.getItem(Rn);if(e)return JSON.parse(e)}catch{}return{byTab:{},enabled:!0}}function kl(e){try{localStorage.setItem(Rn,JSON.stringify(e))}catch{}}const Sl={overview:["This executive overview summarizes budget, timeline, merch plan, and risks for fast decisions.","Use Export/Share to circulate with stakeholders. Switch to Artist mode to edit details."],"catalog-analyzer":["Upload several released tracks to analyze consistency and quality trends.","Use the insights to decide EP vs. Singles vs. Album before budgeting."],roadmap:["This board mirrors release phases. Add tasks per phase and owners to keep it accountable.","Adjust tracks and weeks in Project to auto-update timeline and phase budgets."],"master-plan":["Master Plan summarizes project scope, ROI signals, and key risks for stakeholders."],grants:["Save grants to track deadlines. Start an application to create a checklist and reminders.","Match genre and location filters to narrow opportunities quickly."],applications:["Keep application notes and reminders here. Status changes will bubble up in navigation."],"mix-analyzer":["Run mixes against benchmarks by genre. Address the top 12 issues per iteration."],portfolio:["Manage multiple artists. Compare two or more to see relative strengths and opportunities."],live:["Estimate draw to plan routing and budgets. Increase accuracy as you collect show data."],talent:["Use recommendations by role, then copy an outreach brief. Add your contact to speed replies.","Try External Sources (beta) to search credits and local live activity."],merch:["Start with tees and stickers; adjust quantities by expected show draw. Use Copy quote to email vendors fast.","Add items to your budget to track costs in the Growth phase. Iterate quantities after first runs."]};function Nl({tab:e}){const[r,n]=v.useState(()=>wl()),a=Sl[e]||[],s=r.byTab[e]||{index:0,dismissed:!1};if(v.useEffect(()=>{kl(r)},[r]),!v.useMemo(()=>r.enabled&&a.length>0&&!s.dismissed,[r.enabled,a.length,s.dismissed]))return t.jsx("div",{className:"mb-3 flex items-center justify-end",children:t.jsx("button",{className:"text-[11px] rounded border border-surface-600 text-surface-300 px-2 py-1 hover:bg-surface-700",onClick:()=>n(m=>({...m,enabled:!0,byTab:{...m.byTab,[e]:{index:0,dismissed:!1}}})),children:"Show tips"})});const l=Math.min(s.index,a.length-1),o=a[l],c=()=>n(m=>({...m,byTab:{...m.byTab,[e]:{index:(l+1)%a.length,dismissed:!1}}})),f=()=>n(m=>({...m,byTab:{...m.byTab,[e]:{index:l,dismissed:!0}}})),h=()=>n(m=>({...m,enabled:!1}));return t.jsxs("div",{className:"mb-4 rounded-xl border border-surface-700 bg-surface-800/70 p-3",children:[t.jsxs("div",{className:"flex items-start justify-between gap-3",children:[t.jsxs("div",{className:"text-xs text-surface-200 leading-relaxed",children:[t.jsx("span",{className:"mr-2 inline-flex h-5 w-5 items-center justify-center rounded-full bg-primary-700/40 text-primary-200 text-[11px] align-top",children:"i"}),o]}),t.jsxs("div",{className:"flex items-center gap-2",children:[a.length>1&&t.jsx("button",{className:"text-[11px] rounded border border-primary-600 text-primary-200 px-2 py-1 hover:bg-primary-700/30",onClick:c,children:"Next"}),t.jsx("button",{className:"text-[11px] rounded border border-surface-600 text-surface-300 px-2 py-1 hover:bg-surface-700",onClick:f,children:"Dont show for this page"}),t.jsx("button",{className:"text-[11px] rounded border border-surface-600 text-surface-400 px-2 py-1 hover:bg-surface-700",onClick:h,children:"Hide all"})]})]}),a.length>1&&t.jsxs("div",{className:"mt-2 text-[11px] text-surface-400",children:["Tip ",l+1," of ",a.length]})]})}const Cl=[{category:"T-Shirt",defaultMethod:"Screen Print",baseCostRangeUSD:[6,10],notes:"Bulk screen print, 1-2 color front, 1 color back"},{category:"Hoodie",defaultMethod:"Screen Print",baseCostRangeUSD:[18,28],notes:"Midweight hoodie, 1-2 color front"},{category:"Hat",defaultMethod:"Embroidery",baseCostRangeUSD:[9,14],notes:"Dad hat or snapback, front embroidery"},{category:"Sticker Pack",defaultMethod:"Sticker Die-Cut",baseCostRangeUSD:[.25,.6],notes:"3-5 small die-cut stickers per pack"},{category:"Tote",defaultMethod:"Screen Print",baseCostRangeUSD:[3,6],notes:"Canvas tote, 1 color print"},{category:"Poster",defaultMethod:"Sublimation",baseCostRangeUSD:[1,2.5],notes:"11x17 digital print"},{category:"Vinyl",defaultMethod:"Vinyl Pressing",baseCostRangeUSD:[8,15],notes:'12" black, basic jacket, 100-300 MOQ typical'},{category:"CD",defaultMethod:"CD Duplication",baseCostRangeUSD:[1.2,2.2],notes:"Jacket/wallet, 100 MOQ typical"}],Gc=[{id:"v-printful",name:"Printful",methods:["DTG","Embroidery","Sublimation"],categories:["T-Shirt","Hoodie","Hat","Poster"],dropship:!0,ecoOptions:!0,avgLeadDays:5,url:"https://www.printful.com"},{id:"v-printify",name:"Printify",methods:["DTG","Embroidery","Sublimation"],categories:["T-Shirt","Hoodie","Hat","Poster"],dropship:!0,avgLeadDays:7,url:"https://printify.com"},{id:"v-custom-ink",name:"Custom Ink",methods:["Screen Print","Embroidery"],categories:["T-Shirt","Hoodie","Hat","Tote"],minOrder:12,avgLeadDays:10,url:"https://www.customink.com"},{id:"v-sticker-mule",name:"Sticker Mule",methods:["Sticker Die-Cut"],categories:["Sticker Pack"],avgLeadDays:5,url:"https://www.stickermule.com"},{id:"v-local-screen",name:"Local Screen Printer",methods:["Screen Print"],categories:["T-Shirt","Hoodie","Tote"],location:"Your City",minOrder:24,avgLeadDays:7,url:"https://example.com"},{id:"v-vinyl-press",name:"Vinyl Press Co",methods:["Vinyl Pressing"],categories:["Vinyl"],minOrder:100,avgLeadDays:45,url:"https://example-vinyl.com"},{id:"v-cd-dup",name:"CD Duplication Co",methods:["CD Duplication"],categories:["CD"],minOrder:100,avgLeadDays:10,url:"https://example-cd.com"}];function He(){return Math.random().toString(36).slice(2,9)}function Ke(e){const r=Cl.find(n=>n.category===e);if(!r)throw new Error(`Unknown merch category: ${e}`);return r}function Je(e,r){const[n,a]=e.baseCostRangeUSD;return Math.round((n+a)/2*100)/100}function Pl(e,r,n){const a=[],s=Ke("Sticker Pack"),i=Math.max(50,Math.ceil(n*1.1));a.push({id:He(),category:"Sticker Pack",method:s.defaultMethod,quantity:i,targetUnitCostUSD:Je(s)});const l=Ke("T-Shirt"),o=r.projectType==="Album"?2:1,c=Math.max(50,Math.ceil(n*(r.projectType==="Album"?.8:.5))),f={XS:Math.round(c*.05),S:Math.round(c*.18),M:Math.round(c*.3),L:Math.round(c*.28),XL:Math.round(c*.14),XXL:Math.max(0,c-Math.round(c*(.05+.18+.3+.28+.14)))};if(a.push({id:He(),category:"T-Shirt",method:l.defaultMethod,quantity:c,colorways:o,sizeBreakdown:f,targetUnitCostUSD:Je(l)}),r.projectType!=="Singles"||e.city&&/ny|chicago|toronto|seattle|london|berlin/i.test(e.city)){const m=Ke("Hoodie"),b=Math.max(24,Math.ceil(n*.2));a.push({id:He(),category:"Hoodie",method:m.defaultMethod,quantity:b,targetUnitCostUSD:Je(m)})}if(r.projectType!=="Singles"){if(r.projectType==="Album"){const b=Ke("Vinyl");a.push({id:He(),category:"Vinyl",method:b.defaultMethod,quantity:100,targetUnitCostUSD:Je(b)})}const m=Ke("CD");a.push({id:He(),category:"CD",method:m.defaultMethod,quantity:100,targetUnitCostUSD:Je(m)})}if(r.targetMarkets.includes("Live")){const m=Ke("Tote"),b=Math.max(24,Math.ceil(n*.15));a.push({id:He(),category:"Tote",method:m.defaultMethod,quantity:b,targetUnitCostUSD:Je(m)})}for(const m of a)m.targetUnitCostUSD&&(m.estTotalCostUSD=Math.round(m.targetUnitCostUSD*m.quantity));const h=a.reduce((m,b)=>m+(b.estTotalCostUSD||0),0);return{items:a,estBudgetUSD:h}}const Al=[{id:"the-weeknd",name:"The Weeknd",personality:{experimentalness:.8,genreFluidity:.9,productionStyle:.9,workflowPreference:.7,performanceEnergy:.8,collaborationStyle:.6,commercialAppeal:.9,audienceConnection:.8,emotionalDepth:.9,artisticIntensity:.9},maturity:{creative:"Innovating",technical:"Established",business:"Transforming",audience:"Transforming",brand:"Transforming"},sonics:{danceability:.8,energy:.7,valence:.4,instrumentalness:.1,acousticness:.2,speechiness:.1,tempo:.6,complexity:.8,dynamics:.7,textureDepth:.9},primaryGenres:["R&B","Pop"],secondaryGenres:["New Wave","Dance","Alternative"],keyInfluences:["Michael Jackson","Prince","Depeche Mode"],targetAudience:{demographics:["18-34","Urban","Global"],psychographics:["Trend-conscious","Night life","Fashion-forward"],platforms:["Spotify","TikTok","Instagram","YouTube"]}},{id:"taylor-swift",name:"Taylor Swift",personality:{experimentalness:.7,genreFluidity:.8,productionStyle:.9,workflowPreference:.9,performanceEnergy:.8,collaborationStyle:.7,commercialAppeal:1,audienceConnection:1,emotionalDepth:.9,artisticIntensity:.8},maturity:{creative:"Transforming",technical:"Established",business:"Transforming",audience:"Transforming",brand:"Transforming"},sonics:{danceability:.7,energy:.6,valence:.6,instrumentalness:.1,acousticness:.4,speechiness:.2,tempo:.6,complexity:.7,dynamics:.8,textureDepth:.8},primaryGenres:["Pop","Country Pop"],secondaryGenres:["Folk","Alternative","Rock"],keyInfluences:["Shania Twain","Stevie Nicks","Paul McCartney"],targetAudience:{demographics:["13-34","Female-leaning","Global"],psychographics:["Story-focused","Relationship-oriented","Personal growth"],platforms:["Spotify","Instagram","TikTok","YouTube"]}},{id:"kendrick-lamar",name:"Kendrick Lamar",personality:{experimentalness:.9,genreFluidity:.8,productionStyle:.9,workflowPreference:.8,performanceEnergy:.9,collaborationStyle:.7,commercialAppeal:.8,audienceConnection:.9,emotionalDepth:1,artisticIntensity:1},maturity:{creative:"Transforming",technical:"Innovating",business:"Established",audience:"Transforming",brand:"Transforming"},sonics:{danceability:.6,energy:.8,valence:.4,instrumentalness:.2,acousticness:.3,speechiness:.9,tempo:.7,complexity:1,dynamics:.9,textureDepth:.9},primaryGenres:["Hip Hop","Conscious Rap"],secondaryGenres:["Jazz Rap","West Coast Hip Hop","Soul"],keyInfluences:["Tupac","Eminem","Andre 3000"],targetAudience:{demographics:["16-35","Urban","Global"],psychographics:["Socially conscious","Lyric-focused","Cultural"],platforms:["Spotify","YouTube","Twitter"]}}],In={experimentalness:{high:["experiment","innovative","unique","different","new","boundary","push"],low:["traditional","classic","proven","established","conventional"]},genreFluidity:{high:["blend","mix","fusion","cross-genre","diverse"],low:["pure","authentic","traditional","classic"]},productionStyle:{high:["polished","pristine","clean","refined","detailed"],low:["raw","rough","natural","organic","unfiltered"]},workflowPreference:{high:["structured","organized","planned","methodical"],low:["spontaneous","freestyle","improvised","organic"]},performanceEnergy:{high:["energetic","powerful","intense","dynamic","explosive"],low:["subtle","gentle","soft","delicate","understated"]},collaborationStyle:{high:["collaborative","team","together","collective","band"],low:["solo","independent","alone","personal"]},commercialAppeal:{high:["mainstream","popular","accessible","universal","broad"],low:["underground","alternative","niche","experimental"]},audienceConnection:{high:["interactive","engaging","connecting","community"],low:["introspective","personal","private","intimate"]},emotionalDepth:{high:["deep","emotional","intense","passionate","raw"],low:["light","fun","playful","casual","simple"]},artisticIntensity:{high:["focused","dedicated","serious","committed","driven"],low:["relaxed","casual","easy-going","flexible"]}},Un={danceability:{high:["dance","groove","rhythm","beat","movement"],low:["ambient","atmospheric","floating","abstract"]},energy:{high:["energetic","powerful","intense","driving","strong"],low:["calm","gentle","soft","mellow","subtle"]},valence:{high:["happy","uplifting","positive","bright","joyful"],low:["dark","moody","melancholic","sad","somber"]},instrumentalness:{high:["instrumental","orchestral","symphonic","acoustic"],low:["vocal","lyrics","singing","voice"]},acousticness:{high:["acoustic","unplugged","organic","natural"],low:["electronic","digital","synthetic","processed"]},speechiness:{high:["rap","spoken","words","lyrical","poetry"],low:["melodic","singing","instrumental","humming"]},tempo:{high:["fast","quick","uptempo","rapid","energetic"],low:["slow","downtempo","relaxed","steady"]},complexity:{high:["complex","intricate","layered","sophisticated"],low:["simple","minimal","straightforward","basic"]},dynamics:{high:["dynamic","contrast","varied","range"],low:["consistent","steady","even","stable"]},textureDepth:{high:["rich","dense","layered","textured","full"],low:["minimal","sparse","simple","clean"]}};function Ss(e){const r={personality:{},sonics:{}};return e=e.toLowerCase(),Object.entries(In).forEach(([n,a])=>{const s=n,i=a.high.filter(o=>e.includes(o)).length,l=a.low.filter(o=>e.includes(o)).length;if(i>0||l>0){const o=(i-l+a.high.length)/(a.high.length*2);r.personality[s]=o}}),Object.entries(Un).forEach(([n,a])=>{const s=n,i=a.high.filter(o=>e.includes(o)).length,l=a.low.filter(o=>e.includes(o)).length;if(i>0||l>0){const o=(i-l+a.high.length)/(a.high.length*2);r.sonics[s]=o}}),r}function El(e){return Al.map(n=>{let a=0,s=0;Object.entries(e.personality).forEach(([l,o])=>{const c=l;n.personality[c]&&(a+=1-Math.abs(n.personality[c]-o),s++)}),Object.entries(e.sonics).forEach(([l,o])=>{const c=l;n.sonics[c]&&(a+=1-Math.abs(n.sonics[c]-o),s++)});const i=s>0?a/s:0;return{artist:n,score:i}}).sort((n,a)=>a.score-n.score).map(n=>n.artist).slice(0,3)}function Ns(e){const r=Object.entries(In).filter(([a])=>!e.personality[a]).map(([a])=>`Tell me more about your ${a}...`),n=Object.entries(Un).filter(([a])=>!e.sonics[a]).map(([a])=>`How ${a} is your music?`);return[...r,...n]}function Tl(e,r,n){const s=r.filter(h=>h.type==="user").map(h=>h.content).join(" ").toLowerCase(),i={tempo_bpm:Ml(e.sonics),danceability:e.sonics.danceability||.5,energy:e.sonics.energy||.5,valence:e.sonics.valence||.5,acousticness:e.sonics.acousticness,instrumentalness:e.sonics.instrumentalness,speechiness:e.sonics.speechiness,vocal_prominence:Ol(s)},l={positioning:Rl(e,s),themes:Il(s),audience_problem_solved:Ul(s)},o={artist_name:(n==null?void 0:n.artistName)||"",primary_genres:Ll(s),home_market:(n==null?void 0:n.city)||"",subgenres_tags:Dl(s)},c={vision_statement:zl(s),time_horizon_months:12,success_kpis:Fl(s)},f={reference_artists:Wl(s),adjacency_focus:Bl(e)};return{identity:o,goals:c,influences:f,audio_profile:i,brand_narrative:l,catalog_plan:{planned_releases:4,collaboration_ratio:.3},release_strategy:{cadence_weeks:8,pre_save_push_days:14}}}function Ml(e){return e.tempo?e.tempo*200:e.energy>.7?120:e.energy<.3?80:100}function Ol(e){const r=["vocals","singing","voice","lyrics","storytelling"],n=["instrumental","beat","production","synth"],a=r.filter(i=>e.includes(i)).length,s=n.filter(i=>e.includes(i)).length;return Math.min(1,Math.max(0,(a-s+3)/6))}function Rl(e,r){const n=Object.keys(e.personality),a=Object.keys(e.sonics);let s="";return n.includes("emotionalDepth")&&(s+="emotional "),a.includes("danceability")&&e.sonics.danceability>.6&&(s+="danceable "),a.includes("energy")&&e.sonics.energy>.7&&(s+="energetic "),(r.includes("atmospheric")||r.includes("dreamy"))&&(s+="atmospheric "),s.trim()+" artist with authentic storytelling"}function Il(e){const r=[];return(e.includes("love")||e.includes("relationship"))&&r.push("Love & Relationships"),(e.includes("empowerment")||e.includes("strength"))&&r.push("Empowerment"),(e.includes("story")||e.includes("personal"))&&r.push("Personal Storytelling"),(e.includes("social")||e.includes("change"))&&r.push("Social Commentary"),(e.includes("healing")||e.includes("uplift"))&&r.push("Healing & Wellness"),(e.includes("fun")||e.includes("party"))&&r.push("Celebration & Joy"),r.length>0?r:["Authentic Expression"]}function Ul(e){return e.includes("healing")||e.includes("comfort")?"Seeking emotional healing and comfort":e.includes("empowerment")||e.includes("strength")?"Need for empowerment and self-confidence":e.includes("dance")||e.includes("energy")?"Desire for uplifting, energetic experiences":e.includes("story")||e.includes("connection")?"Craving authentic connection and relatability":"Seeking authentic artistic expression and emotional connection"}function Ll(e){const r=[];return(e.includes("r&b")||e.includes("soul"))&&r.push("R&B","Soul"),e.includes("pop")&&r.push("Pop"),(e.includes("hip hop")||e.includes("rap"))&&r.push("Hip Hop"),(e.includes("electronic")||e.includes("synth"))&&r.push("Electronic"),e.includes("dance")&&r.push("Dance"),(e.includes("indie")||e.includes("alternative"))&&r.push("Indie","Alternative"),e.includes("folk")&&r.push("Other"),e.includes("jazz")&&r.push("Jazz"),e.includes("gospel")&&r.push("Gospel"),r.length>0?[...new Set(r)]:["Pop"]}function Dl(e){const r=[];return e.includes("neo-soul")&&r.push("Neo-Soul"),e.includes("alternative r&b")&&r.push("Alternative R&B"),e.includes("bedroom pop")&&r.push("Bedroom Pop"),e.includes("indie pop")&&r.push("Indie Pop"),e.includes("dream pop")&&r.push("Dream Pop"),e.includes("afrobeats")&&r.push("Afrobeats"),e.includes("contemporary")&&r.push("Contemporary"),r}function zl(e){const r=["want to","hope to","dream","vision","goal","aspire"],n=e.split(/[.!?]+/);for(const a of n)if(r.some(s=>a.includes(s)))return a.trim();return"Create authentic music that resonates with listeners and builds meaningful connections"}function Fl(e){const r=[];return(e.includes("stream")||e.includes("spotify"))&&r.push("MonthlyListeners","StreamsPerRelease"),(e.includes("live")||e.includes("concert")||e.includes("show"))&&r.push("TicketSales"),e.includes("playlist")&&r.push("PlaylistAdds"),(e.includes("social")||e.includes("follow"))&&r.push("SocialFollowers"),(e.includes("sync")||e.includes("tv")||e.includes("film"))&&r.push("SyncPlacements"),e.includes("chart")&&r.push("ChartPosition"),r.length>0?r:["MonthlyListeners","StreamsPerRelease"]}function Wl(e){const n=["Beyonc","SZA","H.E.R.","The Weeknd","Frank Ocean","Solange","Billie Eilish","Lorde","FKA twigs","Jhen Aiko","Summer Walker","Kali Uchis","Daniel Caesar","Tyler Cole","Blood Orange"].filter(a=>e.toLowerCase().includes(a.toLowerCase()));return n.length>0?n:["SZA","H.E.R."]}function Bl(e){const r=[];return e.personality.emotionalDepth>.6&&r.push("H.E.R."),e.sonics.danceability>.7&&r.push("Beyonc"),e.personality.experimentalness>.6&&r.push("FKA twigs"),e.sonics.valence<.4&&r.push("SZA"),r}function fr(e){var r;return{identity:{artist_name:e.profile.artistName||"",primary_genres:e.profile.genres?e.profile.genres.split(",").map(n=>n.trim()).slice(0,3):["Pop"],home_market:e.profile.city||""},goals:{vision_statement:e.profile.elevatorPitch||"Create authentic music that connects with audiences",time_horizon_months:Math.round(e.project.targetWeeks/4)||12,target_markets:e.project.targetMarkets||[]},influences:{reference_artists:["SZA","H.E.R."]},audio_profile:{tempo_bpm:100,danceability:.5,energy:.5,valence:.5},catalog_plan:{planned_releases:e.project.units||3,collaboration_ratio:.3},release_strategy:{cadence_weeks:Math.round(e.project.targetWeeks/e.project.units)||8,pre_save_push_days:14},brand_narrative:{positioning:e.profile.elevatorPitch||"Authentic artist with unique voice",themes:["Authentic Expression"]},resources:{budget_total_usd:((r=e.budget)==null?void 0:r.reduce((n,a)=>n+a.qty*a.unitCost,0))||0}}}const Ln={"R&B":{audio_feature_targets:{tempo_bpm:[70,110],danceability:[.4,.8],energy:[.3,.7],valence:[.2,.7]},release_cadence_weeks:[6,12],engagement_targets:{skip_rate_pct_max:25,save_rate_pct_min:15},adjacent_artist_clusters:["SZA","H.E.R.","Summer Walker","Jhen Aiko"]},Pop:{audio_feature_targets:{tempo_bpm:[90,130],danceability:[.5,.9],energy:[.5,.9],valence:[.4,.8]},release_cadence_weeks:[4,8],engagement_targets:{skip_rate_pct_max:20,save_rate_pct_min:20},adjacent_artist_clusters:["Dua Lipa","The Weeknd","Billie Eilish","Ariana Grande"]},Soul:{audio_feature_targets:{tempo_bpm:[60,100],danceability:[.3,.7],energy:[.2,.6],valence:[.3,.8]},release_cadence_weeks:[8,16],engagement_targets:{skip_rate_pct_max:20,save_rate_pct_min:25},adjacent_artist_clusters:["Solange","Daniel Caesar","Blood Orange","Frank Ocean"]},"Hip Hop":{audio_feature_targets:{tempo_bpm:[70,140],danceability:[.6,.9],energy:[.6,.9],valence:[.3,.8]},release_cadence_weeks:[2,6],engagement_targets:{skip_rate_pct_max:30,save_rate_pct_min:12},adjacent_artist_clusters:["Drake","Kendrick Lamar","J. Cole","Tyler, The Creator"]},Electronic:{audio_feature_targets:{tempo_bpm:[100,150],danceability:[.7,.95],energy:[.7,.95],valence:[.4,.9]},release_cadence_weeks:[3,8],engagement_targets:{skip_rate_pct_max:25,save_rate_pct_min:18},adjacent_artist_clusters:["FKA twigs","ODESZA","Disclosure","Flume"]},Alternative:{audio_feature_targets:{tempo_bpm:[80,120],danceability:[.3,.7],energy:[.4,.8],valence:[.2,.7]},release_cadence_weeks:[6,12],engagement_targets:{skip_rate_pct_max:22,save_rate_pct_min:22},adjacent_artist_clusters:["Lorde","Phoebe Bridgers","Tame Impala","Glass Animals"]}},Cs=Ln.Pop;function $l(e){if(e.length===0)return Cs;const r=e[0];return Ln[r]||Cs}function ql(e,r){var s,i;let n=0,a=0;if(e.audio_profile&&r.audio_feature_targets){const l=Vl(e.audio_profile,r.audio_feature_targets);n+=l*.3,a+=.3}if(e.release_strategy&&r.release_cadence_weeks){const l=Gl(e.release_strategy.cadence_weeks,r.release_cadence_weeks)?1:.5;n+=l*.2,a+=.2}if(e.brand_narrative){const l=Hl(e.brand_narrative);n+=l*.25,a+=.25}if((s=e.identity)!=null&&s.team||e.resources){const l=Kl((i=e.identity)==null?void 0:i.team,e.resources);n+=l*.15,a+=.15}if(e.current_metrics){const l=Jl(e.current_metrics);n+=l*.1,a+=.1}return a>0?Math.min(1,n/a):.5}function Vl(e,r){let n=0,a=0;for(const[s,i]of Object.entries(r))if(e[s]!==void 0&&Array.isArray(i)){const[l,o]=i,c=e[s];if(c>=l&&c<=o)n+=1;else{const f=Math.min(Math.abs(c-l),Math.abs(c-o)),h=(o-l)*.2;n+=Math.max(0,1-f/h)}a++}return a>0?n/a:.5}function Gl(e,r){return e>=r[0]&&e<=r[1]}function Hl(e){let r=0;return e.positioning&&e.positioning.length>=10&&(r+=.3),e.themes&&e.themes.length>=2&&(r+=.3),e.audience_problem_solved&&(r+=.2),e.visual_style_tags&&e.visual_style_tags.length>0&&(r+=.2),r}function Kl(e,r){let n=0;if(e){const a=Object.values(e).filter(Boolean).length;n+=Math.min(.5,a*.1)}return r!=null&&r.budget_total_usd&&(r.budget_total_usd>=1e4?n+=.3:r.budget_total_usd>=5e3?n+=.2:r.budget_total_usd>=1e3&&(n+=.1)),r!=null&&r.hours_available_per_week&&(r.hours_available_per_week>=20?n+=.2:r.hours_available_per_week>=10&&(n+=.1)),n}function Jl(e){let r=0;return e.spotify_monthly_listeners&&(e.spotify_monthly_listeners>=1e4?r+=.4:e.spotify_monthly_listeners>=1e3?r+=.2:e.spotify_monthly_listeners>=100&&(r+=.1)),e.avg_save_rate_pct&&e.avg_save_rate_pct>=15&&(r+=.3),e.avg_skip_rate_pct&&e.avg_skip_rate_pct<=25&&(r+=.3),r}function Yl(e,r){var a;const n=[];if(e.audio_profile&&r.audio_feature_targets){const{tempo_bpm:s,danceability:i,energy:l,valence:o}=e.audio_profile,c=r.audio_feature_targets;c.tempo_bpm&&(s<c.tempo_bpm[0]||s>c.tempo_bpm[1])&&n.push(`Consider adjusting tempo to ${c.tempo_bpm[0]}-${c.tempo_bpm[1]} BPM for better genre alignment`),c.danceability&&i<c.danceability[0]&&n.push("Increase danceability with stronger rhythm and groove elements"),c.energy&&l<c.energy[0]&&n.push("Boost energy with dynamic arrangements and compelling hooks")}if(e.release_strategy&&r.release_cadence_weeks){const s=e.release_strategy.cadence_weeks,[i,l]=r.release_cadence_weeks;s>l?n.push(`Release more frequently - aim for every ${l} weeks to maintain momentum`):s<i&&n.push(`Allow more time between releases - ${i} weeks minimum for quality and promotion`)}return e.brand_narrative&&((!e.brand_narrative.themes||e.brand_narrative.themes.length<2)&&n.push("Develop 2-3 core themes to strengthen brand narrative and audience connection"),(!e.brand_narrative.visual_style_tags||e.brand_narrative.visual_style_tags.length===0)&&n.push("Define visual style elements for consistent brand presentation across platforms")),(!((a=e.identity)!=null&&a.team)||Object.values(e.identity.team).filter(Boolean).length<3)&&n.push("Build core team: prioritize producer, mix engineer, and manager relationships"),n}const Dn=[{id:"nea-gap-001",title:"NEA Grants for Arts Projects",description:"The National Endowment for the Arts' principal grants category supporting arts projects of all sizes in a wide variety of artistic disciplines including music, with focus on artistic excellence and public engagement.",summary:"Federal funding for high-quality arts projects that engage the public",funder_name:"National Endowment for the Arts",funder_website:"https://www.arts.gov",funding_source:"federal",grant_type:"project",category:"general_operating",award_amount:{min:1e4,max:1e5,currency:"USD",typical_amount:25e3},total_funding_available:275e5,number_of_awards:900,eligibility:{geographic_restrictions:["United States"],career_stage:["emerging","developing","established"],organization_type:["nonprofit","tribal_government","state_government","local_government"],genres:["all music genres"],project_type:["concerts","festivals","recordings","educational","community_outreach"],citizenship_requirements:["US organizations only"],nonprofit_status_required:!0,matching_funds_required:!0},requirements:{application_materials:["Project narrative","Detailed budget","Timeline","Staff qualifications","Organizational information","Work samples","Support materials"],supporting_documents:["IRS determination letter","Audited financial statements","Board of directors list","Letters of commitment"],references_required:0,work_samples:{type:"audio or video",quantity:2,format:["mp3","mp4","wav"]},project_proposal:!0,budget_required:!0,timeline_required:!0,evaluation_criteria:["Artistic excellence","Artistic merit","Public engagement","Organizational capacity","Project feasibility"]},timeline:{application_deadline:"2026-02-11",notification_date:"2026-06-15",funding_start_date:"2026-10-01",project_completion_date:"2027-09-30",reporting_deadlines:["2027-04-30","2027-10-30"],application_period_start:"2025-12-01"},renewable:!0,multi_year:!1,overhead_allowed:!0,indirect_costs_allowed:!1,created_at:"2025-10-22T00:00:00Z",updated_at:"2025-10-22T00:00:00Z",tags:["federal","arts","music","public_engagement","professional"],external_id:"NEA-GAP-2026",source_platform:"grants.gov",success_rate:.12,average_award_amount:23500,previous_recipients:["Symphony orchestras","Music festivals","Community music programs"]},{id:"ascap-emerging-001",title:"ASCAP Foundation Emerging Artist Grant",description:"Support for emerging songwriters and composers to develop their craft and advance their careers through mentorship, education, and project funding.",summary:"Career development grants for emerging music creators",funder_name:"ASCAP Foundation",funder_website:"https://www.ascapfoundation.org",funding_source:"private_foundation",grant_type:"individual",category:"artist_development",award_amount:{min:1e3,max:15e3,currency:"USD",typical_amount:5e3},total_funding_available:5e5,number_of_awards:75,eligibility:{geographic_restrictions:["United States","Canada"],age_restrictions:{min_age:18,max_age:35},career_stage:["emerging","developing"],genres:["all music genres","contemporary","classical","jazz","pop","hip-hop"],project_type:["songwriting","composition","recording","education"],citizenship_requirements:["US or Canadian citizens/residents"],previous_grant_restrictions:!1},requirements:{application_materials:["Personal statement","Project description","Budget breakdown","Work samples","Biography","Career goals statement"],supporting_documents:["Tax information","Proof of residency"],references_required:2,work_samples:{type:"audio recordings",quantity:3,format:["mp3","wav"]},project_proposal:!0,budget_required:!0,timeline_required:!1,evaluation_criteria:["Artistic merit","Career potential","Project viability","Financial need","Professional development goals"]},timeline:{application_deadline:"2026-01-15",notification_date:"2026-04-01",funding_start_date:"2026-05-01",project_completion_date:"2027-04-30",reporting_deadlines:["2027-05-15"],application_period_start:"2025-11-01"},renewable:!1,multi_year:!1,overhead_allowed:!1,indirect_costs_allowed:!1,created_at:"2025-10-22T00:00:00Z",updated_at:"2025-10-22T00:00:00Z",tags:["emerging","songwriting","individual","career_development"],external_id:"ASCAP-EAG-2026",source_platform:"ascap_foundation",success_rate:.18,average_award_amount:4800,previous_recipients:["Singer-songwriters","Hip-hop producers","Jazz composers"]},{id:"fa-emergency-001",title:"Fractured Atlas Emergency Relief Fund",description:"Emergency financial assistance for artists facing unexpected hardships that threaten their ability to continue their artistic practice.",summary:"Emergency funding for artists in crisis situations",funder_name:"Fractured Atlas",funder_website:"https://www.fracturedatlas.org",funding_source:"nonprofit",grant_type:"individual",category:"emergency",award_amount:{min:500,max:5e3,currency:"USD",typical_amount:2e3},total_funding_available:2e5,number_of_awards:100,eligibility:{geographic_restrictions:["United States"],career_stage:["emerging","developing","established"],genres:["all music genres"],project_type:["emergency_relief","basic_needs","medical","housing"],citizenship_requirements:["US residents"],income_limitations:{max_annual_income:75e3,currency:"USD"},previous_grant_restrictions:!1},requirements:{application_materials:["Emergency situation description","Financial documentation","Artist statement","Proof of income","Emergency documentation"],supporting_documents:["Bills or invoices","Medical documentation (if applicable)","Bank statements"],references_required:1,work_samples:{type:"portfolio or documentation",quantity:1,format:["pdf","jpg","mp3"]},project_proposal:!1,budget_required:!0,timeline_required:!1,evaluation_criteria:["Severity of emergency","Financial need","Artistic practice impact","Likelihood of recovery"]},timeline:{application_deadline:"2026-12-31",notification_date:"2026-01-15",funding_start_date:"2026-01-20",project_completion_date:"2026-06-30",reporting_deadlines:["2026-07-15"]},renewable:!1,multi_year:!1,overhead_allowed:!1,indirect_costs_allowed:!1,created_at:"2025-10-22T00:00:00Z",updated_at:"2025-10-22T00:00:00Z",tags:["emergency","relief","individual","crisis"],external_id:"FA-ERF-2026",source_platform:"fractured_atlas",success_rate:.45,average_award_amount:1800,previous_recipients:["Independent musicians","Sound artists","Music educators"]},{id:"grammy-edu-001",title:"Grammy Music Education Grant",description:"Funding for music education programs, instrument purchases, and educational technology to enhance music learning in schools and communities.",summary:"Support for music education initiatives and programs",funder_name:"Grammy Foundation",funder_website:"https://www.grammy.org/musiccares",funding_source:"private_foundation",grant_type:"organization",category:"education",award_amount:{min:1e3,max:25e3,currency:"USD",typical_amount:8e3},total_funding_available:1e6,number_of_awards:125,eligibility:{geographic_restrictions:["United States"],organization_type:["schools","nonprofits","community_organizations"],genres:["all music genres"],project_type:["education","instruments","technology","programming"],nonprofit_status_required:!1,matching_funds_required:!1},requirements:{application_materials:["Program description","Budget and justification","Curriculum outline","Student impact metrics","Organizational overview","Educator qualifications"],supporting_documents:["School district approval","Program evaluation plan","Community need assessment"],references_required:3,project_proposal:!0,budget_required:!0,timeline_required:!0,evaluation_criteria:["Educational impact","Program sustainability","Community need","Budget effectiveness","Measurable outcomes"]},timeline:{application_deadline:"2026-03-15",notification_date:"2026-05-30",funding_start_date:"2026-07-01",project_completion_date:"2027-06-30",reporting_deadlines:["2027-01-15","2027-07-15"]},renewable:!0,multi_year:!0,overhead_allowed:!0,indirect_costs_allowed:!1,created_at:"2025-10-22T00:00:00Z",updated_at:"2025-10-22T00:00:00Z",tags:["education","schools","community","instruments"],external_id:"GRAMMY-EDU-2026",source_platform:"grammy_foundation",success_rate:.22,average_award_amount:7500,previous_recipients:["Public schools","Community centers","Youth orchestras"]},{id:"state-arts-001",title:"State Arts Agency Individual Artist Grant",description:"Support for individual artists to create new work, develop their artistic practice, and engage with their communities through high-quality arts programming.",summary:"State-level funding for individual artists and small projects",funder_name:"State Arts Agency",funder_website:"https://www.arts.gov/state-and-regional-arts-organizations",funding_source:"state",grant_type:"individual",category:"artist_development",award_amount:{min:500,max:1e4,currency:"USD",typical_amount:3500},total_funding_available:4e5,number_of_awards:80,eligibility:{geographic_restrictions:["State residents only"],age_restrictions:{min_age:18},career_stage:["emerging","developing","established"],genres:["all music genres"],project_type:["creation","performance","education","community_engagement"],citizenship_requirements:["State residents for minimum 1 year"],previous_grant_restrictions:!0},requirements:{application_materials:["Artist statement","Project description","Budget","Timeline","Work samples","Resume/CV","References"],supporting_documents:["Proof of residency","Tax forms","Venue confirmations (if applicable)"],references_required:2,work_samples:{type:"audio or video",quantity:3,format:["mp3","mp4","wav"]},project_proposal:!0,budget_required:!0,timeline_required:!0,evaluation_criteria:["Artistic quality","Project clarity","Community impact","Artist development","Budget appropriateness"]},timeline:{application_deadline:"2026-02-28",notification_date:"2026-05-15",funding_start_date:"2026-07-01",project_completion_date:"2027-06-30",reporting_deadlines:["2027-07-31"]},renewable:!1,multi_year:!1,overhead_allowed:!1,indirect_costs_allowed:!1,created_at:"2025-10-22T00:00:00Z",updated_at:"2025-10-22T00:00:00Z",tags:["state","individual","artist_development","local"],external_id:"SAA-IAG-2026",source_platform:"state_arts_agency",success_rate:.25,average_award_amount:3200,previous_recipients:["Folk musicians","Electronic producers","Singer-songwriters"]},{id:"fca-emergency-001",title:"Foundation for Contemporary Arts Emergency Grant",description:"Emergency funding for artists facing urgent financial needs that threaten their ability to continue their artistic work and maintain basic living conditions.",summary:"Emergency financial assistance for contemporary artists",funder_name:"Foundation for Contemporary Arts",funder_website:"https://www.foundationforcontemporaryarts.org",funding_source:"private_foundation",grant_type:"individual",category:"emergency",award_amount:{min:1e3,max:1e4,currency:"USD",typical_amount:4e3},total_funding_available:3e5,number_of_awards:60,eligibility:{geographic_restrictions:["United States"],career_stage:["developing","established"],genres:["contemporary","experimental","electronic","avant-garde"],project_type:["emergency_relief","medical","housing","studio_loss"],citizenship_requirements:["US residents"],previous_grant_restrictions:!1},requirements:{application_materials:["Emergency description","Artist statement","Financial documentation","Work samples","Professional references","Income verification"],supporting_documents:["Emergency documentation","Medical bills (if applicable)","Eviction notices (if applicable)","Bank statements"],references_required:2,work_samples:{type:"audio, video, or documentation",quantity:5,format:["mp3","mp4","pdf","jpg"]},project_proposal:!1,budget_required:!0,timeline_required:!1,evaluation_criteria:["Artistic quality","Emergency severity","Professional standing","Financial need","Recovery potential"]},timeline:{application_deadline:"2026-12-31",notification_date:"2026-01-30",funding_start_date:"2026-02-07",project_completion_date:"2026-08-31",reporting_deadlines:["2026-09-15"]},renewable:!1,multi_year:!1,overhead_allowed:!1,indirect_costs_allowed:!1,created_at:"2025-10-22T00:00:00Z",updated_at:"2025-10-22T00:00:00Z",tags:["emergency","contemporary","experimental","individual"],external_id:"FCA-EMG-2026",source_platform:"fca",success_rate:.35,average_award_amount:3800,previous_recipients:["Sound artists","Electronic musicians","Experimental composers"]},{id:"community-arts-001",title:"Community Foundation Arts and Culture Grant",description:"Support for local arts projects that engage community members, celebrate cultural diversity, and strengthen social connections through music and performance.",summary:"Local funding for community-based arts projects",funder_name:"Community Foundation",funder_website:"https://www.cof.org",funding_source:"local",grant_type:"project",category:"community_outreach",award_amount:{min:500,max:7500,currency:"USD",typical_amount:2500},total_funding_available:15e4,number_of_awards:40,eligibility:{geographic_restrictions:["Local region only"],organization_type:["nonprofits","community_groups","schools","individuals"],career_stage:["any"],genres:["all music genres","multicultural","traditional","folk"],project_type:["community_events","education","cultural_celebration","outreach"],nonprofit_status_required:!1,matching_funds_required:!1},requirements:{application_materials:["Project narrative","Community impact plan","Budget","Timeline","Partner confirmations","Evaluation plan"],supporting_documents:["Letters of support","Venue agreements","Marketing plan"],references_required:1,work_samples:{type:"optional portfolio",quantity:2,format:["any"]},project_proposal:!0,budget_required:!0,timeline_required:!0,evaluation_criteria:["Community benefit","Cultural value","Project feasibility","Organizational capacity","Sustainability"]},timeline:{application_deadline:"2026-04-01",notification_date:"2026-06-01",funding_start_date:"2026-07-01",project_completion_date:"2027-06-30",reporting_deadlines:["2027-08-01"]},renewable:!0,multi_year:!1,overhead_allowed:!0,indirect_costs_allowed:!1,created_at:"2025-10-22T00:00:00Z",updated_at:"2025-10-22T00:00:00Z",tags:["community","local","cultural","outreach"],external_id:"CF-ACG-2026",source_platform:"community_foundation",success_rate:.42,average_award_amount:2300,previous_recipients:["Community choirs","Cultural festivals","Youth music programs"]},{id:"recording-dev-001",title:"Recording Industry Development Grant",description:"Funding specifically for recording projects, including studio time, production costs, mixing, mastering, and digital distribution for emerging and developing artists.",summary:"Specialized funding for music recording and production",funder_name:"Music Industry Foundation",funder_website:"https://www.musicindustryfoundation.org",funding_source:"corporate",grant_type:"project",category:"recording",award_amount:{min:2500,max:2e4,currency:"USD",typical_amount:8500},total_funding_available:5e5,number_of_awards:45,eligibility:{geographic_restrictions:["United States","Canada"],career_stage:["emerging","developing"],genres:["pop","rock","hip-hop","r&b","electronic","folk","jazz"],project_type:["recording","EP","album","single"],previous_grant_restrictions:!1},requirements:{application_materials:["Recording project plan","Detailed budget breakdown","Studio selection and timeline","Production team credentials","Distribution strategy","Demo recordings","Artist biography"],supporting_documents:["Studio quotes","Producer agreements","Distribution contracts"],references_required:2,work_samples:{type:"demo recordings",quantity:4,format:["mp3","wav"]},project_proposal:!0,budget_required:!0,timeline_required:!0,evaluation_criteria:["Recording quality potential","Commercial viability","Artist development","Production team strength","Distribution plan"]},timeline:{application_deadline:"2026-01-31",notification_date:"2026-04-15",funding_start_date:"2026-05-01",project_completion_date:"2027-04-30",reporting_deadlines:["2027-05-31"]},renewable:!1,multi_year:!1,overhead_allowed:!0,indirect_costs_allowed:!1,created_at:"2025-10-22T00:00:00Z",updated_at:"2025-10-22T00:00:00Z",tags:["recording","production","industry","development"],external_id:"MIF-RDG-2026",source_platform:"music_industry_foundation",success_rate:.28,average_award_amount:7800,previous_recipients:["Indie bands","Solo artists","Singer-songwriters"]}];function Hc(e=90){const r=new Date,n=new Date(r.getTime()+e*24*60*60*1e3);return Dn.filter(a=>{const s=new Date(a.timeline.application_deadline);return s>=r&&s<=n}).sort((a,s)=>new Date(a.timeline.application_deadline).getTime()-new Date(s.timeline.application_deadline).getTime())}const gr={version:"1.0.0",artists:[],activeArtistId:null,settings:{defaultView:"grid",sortBy:"lastModified",sortOrder:"desc"},lastSync:new Date().toISOString()};function Zl(){return`artist_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function zn(e){return{id:Zl(),profile:{artistName:e.profile.artistName||"Unnamed Artist",genres:e.profile.genres,city:e.profile.city},state:e,lastModified:new Date().toISOString(),createdAt:new Date().toISOString()}}function Fn(e){return`artist-roadmap-portfolio-${e||"anonymous"}`}function Ql(e){const r=e||"anonymous";return r==="anonymous"?"artist-roadmap-vite-v1":`artist-roadmap-vite-v1-${r}`}function Xl(e){const r=Fn(e),n=Ql(e);try{const a=localStorage.getItem(r);if(a){const i=JSON.parse(a);let l=!1;return i.artists=i.artists.map(o=>{let c=!1;return o.state.lastActiveTab==="catalog-analyzer"&&(o.state.lastActiveTab="roadmap",c=!0),(o.state.onboardingComplete===!1||o.state.onboardingComplete===void 0)&&(o.state.onboardingComplete=!0,c=!0),o.state.chatPlanningComplete===void 0&&(o.state.chatPlanningComplete=!1,c=!0),c&&(l=!0,o.lastModified=new Date().toISOString()),o}),l&&(console.log(" Migrated portfolio: assessment optional, chat planning skipped by default"),Lt(i,e)),i}const s=localStorage.getItem(n);if(s){const i=JSON.parse(s);console.log(" Migrating legacy single-artist data to portfolio format...");const l=zn(i),o={...gr,artists:[l],activeArtistId:l.id,lastSync:new Date().toISOString()};return Lt(o,e),console.log(" Migration complete! Legacy data preserved as backup."),o}return gr}catch(a){return console.error("Failed to load portfolio:",a),gr}}function Lt(e,r){const n=Fn(r);try{e.lastSync=new Date().toISOString(),localStorage.setItem(n,JSON.stringify(e))}catch(a){console.error("Failed to save portfolio:",a),a instanceof DOMException&&a.name==="QuotaExceededError"&&alert("Storage quota exceeded. Please export and archive some artist projects.")}}function Ps(e){return e.activeArtistId&&e.artists.find(r=>r.id===e.activeArtistId)||null}function ec(e,r){const n=zn(r);return{...e,artists:[...e.artists,n],activeArtistId:n.id,lastSync:new Date().toISOString()}}function tc(e,r,n){return{...e,artists:e.artists.map(a=>a.id===r?{...a,profile:{artistName:n.profile.artistName||a.profile.artistName,genres:n.profile.genres,city:n.profile.city},state:n,lastModified:new Date().toISOString()}:a),lastSync:new Date().toISOString()}}function rc(e,r){const n=e.artists.filter(s=>s.id!==r);let a=e.activeArtistId;return r===e.activeArtistId&&(a=n.length>0?n[0].id:null),{...e,artists:n,activeArtistId:a,lastSync:new Date().toISOString()}}function sc(e,r){return e.artists.find(a=>a.id===r)?{...e,activeArtistId:r,lastSync:new Date().toISOString()}:(console.warn(`Artist ${r} not found in portfolio`),e)}function Kc(e,r){const n=r.toLowerCase();return e.artists.filter(a=>a.profile.artistName.toLowerCase().includes(n)||a.profile.genres.toLowerCase().includes(n)||a.profile.city.toLowerCase().includes(n))}function Jc(e,r,n){return[...e].sort((s,i)=>{var c,f,h,m;let l,o;switch(r){case"name":l=s.profile.artistName.toLowerCase(),o=i.profile.artistName.toLowerCase();break;case"lastModified":l=new Date(s.lastModified).getTime(),o=new Date(i.lastModified).getTime();break;case"stage":l=((f=(c=s.state)==null?void 0:c.profile)==null?void 0:f.stage)||"Unknown",o=((m=(h=i.state)==null?void 0:h.profile)==null?void 0:m.stage)||"Unknown";break;case"genre":l=s.profile.genres.toLowerCase(),o=i.profile.genres.toLowerCase();break;default:return 0}return l<o?n==="asc"?-1:1:l>o?n==="asc"?1:-1:0})}function nc(e){const r=(e.craft+e.catalog+e.brand+e.team+e.audience+e.ops)/6;return r<2?"Emerging":r<3?"Developing":r<4?"Established":"Breakout"}const ac=u.lazy(()=>ve(()=>import("./GrantDiscovery-rsCwcVNZ.js"),__vite__mapDeps([0,1,2,3,4]))),ic=u.lazy(()=>ve(()=>import("./GrantApplicationTracker-DaG4FDhv.js"),__vite__mapDeps([5,1,2,3]))),oc=u.lazy(()=>ve(()=>import("./MixAnalyzer-CGn51gFS.js"),__vite__mapDeps([6,1,2,3,7]))),lc=u.lazy(()=>ve(()=>import("./CatalogAnalyzer-DOCMIOLc.js"),__vite__mapDeps([8,1,2,3,7,4]))),cc=u.lazy(()=>ve(()=>import("./PortfolioDashboard-Da_YNrzh.js"),__vite__mapDeps([9,1,2,3,4]))),dc=u.lazy(()=>ve(()=>import("./ArtistComparisonView-6CdHEwT6.js"),__vite__mapDeps([10,1,2,3,4]))),uc=u.lazy(()=>ve(()=>import("./PortfolioAnalytics-CPfRDmn4.js"),__vite__mapDeps([11,1,2,3,4]))),mc=u.lazy(()=>ve(()=>import("./TourPlanner-C1mMbWtS.js"),__vite__mapDeps([12,1,2,3,4]))),pc=u.lazy(()=>ve(()=>import("./MasterPlan-DuFf6HGc.js"),__vite__mapDeps([13,1,2,3,14]))),hc=u.lazy(()=>ve(()=>import("./TalentFinder-GZjBkWIp.js"),__vite__mapDeps([15,1,2,3,16]))),fc=u.lazy(()=>ve(()=>import("./MerchPlanner-C1SI24iT.js"),__vite__mapDeps([17,1,2,3,16,14,4]))),Et=["Discovery","PreProduction","Production","PostProduction","Release","Growth"],at={artistName:"",genres:"",city:"",elevatorPitch:"",stage:"Emerging",stageScores:{craft:2,catalog:2,brand:1,team:1,audience:1,ops:1}},xe={projectType:"EP",units:3,startWeeks:0,targetWeeks:16,hasGrant:!1,grantAmount:0,targetMarkets:["DSP","TikTok/Shorts","Live","Sync"]},U=()=>Math.random().toString(36).slice(2,9),As=e=>e.reduce((r,n)=>r+n,0),Be=(e,r,n)=>Math.max(r,Math.min(n,e)),Ae=e=>e.toLocaleString(void 0,{style:"currency",currency:"USD",maximumFractionDigits:0}),it=e=>{if(e){const r=e.average_score.toFixed(0),n=e.sonic_identity.consistency_score.toFixed(0),a=e.total_tracks,s=e.score_trend==="improving"?"improving":e.score_trend==="declining"?"declining":"stable";return[{id:U(),type:"system",content:`Catalog analysis complete. We've assessed ${a} tracks with an average quality score of ${r}/100 and ${n}% sonic consistency. Quality trend: ${s}.`},{id:U(),type:"system",content:"Let's build a strategic roadmap. Consider: What's the optimal release format given this catalog strength? What timeline aligns with the artist's current momentum? What budget constraints should we account for?"}]}else return[{id:U(),type:"system",content:"Welcome to the Artist Roadmap Builder. This tool helps A&R professionals and label teams create data-driven release strategies for emerging artists."},{id:U(),type:"system",content:"To begin: What's the artist's release format? (EP, Album, Singles) What's their timeline constraint? What are their primary career goals at this stage?"}]};U(),U();const gc=["Planning a 4-5 track EP to showcase the artist's core sound","Considering a full album (10-12 tracks) for comprehensive market positioning","Singles release strategy - one track every 6-8 weeks to build momentum","Mixtape/compilation format for rapid market testing","Artist needs to release within 3-4 months (fast-track timeline)","Standard 6-9 month development cycle for optimal marketing build","Extended 12+ month timeline for maximum quality and positioning","Specific deadline tied to tour, sync opportunity, or label milestone","Working with limited budget ($2-5K total investment)","Mid-tier budget available ($10-20K for professional production)","DIY/lean approach to minimize risk and maximize learning","Need budget recommendations based on industry standards","Priority: Build streaming presence and playlist placement","Focus: Live performance and touring to develop fanbase","Target: Sync licensing opportunities for film/TV placement","Goal: Position artist for label interest and A&R attention"];function Es(e){const r=e.stageScores;return nc({craft:r.craft,catalog:r.catalog,brand:r.brand,team:r.team,audience:r.audience,ops:r.ops})}function xc(e,r,n){const a={Discovery:1,"PreProduction":2,Production:Math.max(2,Math.ceil(n/2)),"PostProduction":Math.max(2,Math.ceil(n/2)),Release:2,Growth:6},s={Emerging:1.2,Developing:1,Established:.9,Breakout:.8};return Math.max(1,Math.round(a[e]*s[r]))}const Me=(e,r="mid")=>{const a={low:.5,mid:1,high:2}[r];return[{id:U(),category:"Songwriting",description:"Cowriting sessions",qty:e,unitCost:Math.round(300*a),phase:"Discovery",required:!0},{id:U(),category:"PreProd",description:"Producer prepro & charts",qty:e,unitCost:Math.round(250*a),phase:"PreProduction",required:!0},{id:U(),category:"Recording",description:"Studio day rate",qty:Math.ceil(e/2),unitCost:Math.round(600*a),phase:"Production",required:!0},{id:U(),category:"Musicians",description:"Session players",qty:e*2,unitCost:Math.round(200*a),phase:"Production",required:!1},{id:U(),category:"Mixing",description:"Per song mix",qty:e,unitCost:Math.round(400*a),phase:"PostProduction",required:!0},{id:U(),category:"Mastering",description:"Per song master",qty:e,unitCost:Math.round(100*a),phase:"PostProduction",required:!0},{id:U(),category:"Artwork",description:"Cover + alt assets",qty:1,unitCost:Math.round(500*a),phase:"Release",required:!0},{id:U(),category:"Video",description:"Performance/visualizer",qty:1,unitCost:Math.round(750*a),phase:"Release",required:!1},{id:U(),category:"PR/Marketing",description:"3month sprint",qty:1,unitCost:Math.round(3e3*a),phase:"Growth",required:!0},{id:U(),category:"Ads",description:"DSP/social ads",qty:1,unitCost:Math.round(1500*a),phase:"Growth",required:!1}]},Ye=e=>[{id:U(),phase:"Discovery",title:"Vision & references workshop",owner:"Artist/Producer",weeks:1},{id:U(),phase:"PreProduction",title:"Demos & arrangements",owner:"Artist/Producer",weeks:2},{id:U(),phase:"Production",title:`Track ${Math.min(3,e)} songs (core instruments)`,owner:"Producer",weeks:Be(Math.ceil(e/2),1,4)},{id:U(),phase:"PostProduction",title:"Edits, mixing, mastering",owner:"Mix/Master",weeks:Be(Math.ceil(e/1.5),1,4)},{id:U(),phase:"Release",title:"DSP delivery & presave setup",owner:"Mgmt",weeks:1},{id:U(),phase:"Growth",title:"PR, content calendar, ad flights",owner:"Marketing",weeks:4}],Ts=(e,r)=>{let n="EP",a=3,s=16,i="Default configuration for emerging artists";const l=(r==null?void 0:r.map(f=>f.content.toLowerCase()).join(" "))||"";if(l.includes("album")||l.includes("10-12 tracks")||l.includes("full album")?(n="Album",a=10,s=24):l.includes("singles")||l.includes("single strategy")||l.includes("one track")?(n="Singles",a=1,s=12):(l.includes("ep")||l.includes("4-5 track"))&&(n="EP",a=4,s=16),l.includes("3-4 months")||l.includes("fast timeline")||l.includes("quick")?s=Math.min(s,16):l.includes("6-9 months")?s=Be(s,20,36):(l.includes("12+ months")||l.includes("take my time"))&&(s=Math.max(s,40)),e){const f=e.average_score,h=e.total_tracks,m=e.sonic_identity.consistency_score,b=e.score_trend;f>=75&&h>=8&&m>=70&&n==="EP"?(n="Album",a=Math.min(h,12),i=`Your catalog shows ${h} high-quality tracks (${f.toFixed(0)}/100) with ${m.toFixed(0)}% consistency. Perfect for an album!`):f>=65&&h>=3&&h<=6?(n="EP",a=Math.min(h,5),i=`Your ${h} tracks (${f.toFixed(0)}/100 avg) are strong - ideal for a focused EP showcasing your best work.`):f<65||m<60?(n="Singles",a=1,s=12,i="Based on your catalog analysis, starting with singles lets you test and refine your sound before a larger release."):b==="improving"&&h>=5?(n=h>=8?"Album":"EP",a=h>=8?10:5,i=`Your quality is improving (${b}) - capitalize on this momentum with a ${n.toLowerCase()}!`):(a=Be(h,3,6),i=`Based on your ${h}-track catalog with ${f.toFixed(0)}/100 quality, starting with a ${a}-track EP.`)}const c=Me(a).reduce((f,h)=>f+h.qty*h.unitCost,0);return{projectType:n,units:a,targetWeeks:s,estimatedBudget:c,rationale:i}},xr="artist-roadmap-vite-v1";function bc(e){if(!e.length)return"";const r=Object.keys(e[0]),n=[r.join(",")];for(const a of e){const s=r.map(i=>{const l=a[i],o=typeof l=="string"?l:JSON.stringify(l);return`"${String(o).replaceAll('"','""')}"`}).join(",");n.push(s)}return n.join("\\n")}function Ms(e,r,n="text/plain"){const a=new Blob([r],{type:n}),s=URL.createObjectURL(a),i=document.createElement("a");i.href=s,i.download=e,i.click(),URL.revokeObjectURL(s)}function yc(e){const r=JSON.stringify(e),n=btoa(unescape(encodeURIComponent(r))),a=new URL(window.location.href);return a.hash=`#s=${n}`,a.toString()}function vc(){try{const e=window.location.hash;if(!e.startsWith("#s="))return null;const r=e.slice(3),n=decodeURIComponent(escape(atob(r)));return JSON.parse(n)}catch{return null}}function jc({userId:e}={}){var Ve,yt;const r=ta(),n=Us(),a="artist-roadmap-persona-v1",[s,i]=v.useState(()=>Xl(e)),l=Ps(s),[o,c]=v.useState(()=>{if(l)return l.state;const d=vc();if(d)return d.savedGrants||(d.savedGrants=[]),d.grantApplications||(d.grantApplications=[]),d.onboardingComplete===void 0&&(d.onboardingComplete=!0),d.catalogAnalysisComplete===void 0&&(d.catalogAnalysisComplete=!1),d.chatPlanningComplete===void 0&&(d.chatPlanningComplete=!1),d.roadmapGenerated===void 0&&(d.roadmapGenerated=!0),d.lastActiveTab||(d.lastActiveTab="roadmap"),d.firstVisitDate||(d.firstVisitDate=new Date().toISOString()),d.catalogAnalysisData===void 0&&(d.catalogAnalysisData=void 0),d;const p=localStorage.getItem(xr),g=p?JSON.parse(p):{profile:at,project:xe,budget:Me(xe.units),tasks:Ye(xe.units),savedGrants:[],grantApplications:[],onboardingComplete:!0,catalogAnalysisComplete:!1,chatPlanningComplete:!1,roadmapGenerated:!1,lastActiveTab:"roadmap",firstVisitDate:new Date().toISOString(),catalogAnalysisData:void 0,estimatedDraw:100};if(g.savedGrants||(g.savedGrants=[]),g.grantApplications||(g.grantApplications=[]),g.onboardingComplete===void 0){const j=g.profile.artistName||g.budget.length>0;g.onboardingComplete=!0,g.catalogAnalysisComplete=!1,g.chatPlanningComplete=j,g.roadmapGenerated=j,g.lastActiveTab="roadmap",g.firstVisitDate=new Date().toISOString(),g.catalogAnalysisData=void 0}return g.lastActiveTab==="catalog-analyzer"&&(g.lastActiveTab="roadmap"),g.chatPlanningComplete===void 0&&(g.chatPlanningComplete=!1),g.estimatedDraw===void 0&&(g.estimatedDraw=100),g.assessment||(g.assessment=fr(g)),g}),f=(()=>{try{const p=(new URLSearchParams(window.location.search).get("persona")||"").toLowerCase();if(p==="artist"||p==="manager")return p;const g=localStorage.getItem(a);if(g==="artist"||g==="manager")return g;const j=localStorage.getItem(xr);if(j){const q=JSON.parse(j);if(q&&q.portfolio&&Array.isArray(q.portfolio.artists)&&q.portfolio.artists.length>1)return"manager"}}catch{}return"artist"})(),[h,m]=v.useState(f);v.useEffect(()=>{try{localStorage.setItem(a,h);const d=new URL(window.location.href),p=d.hash||"#/",[g,j=""]=p.split("?"),q=new URLSearchParams(j);q.set("persona",h);const fe=`${g}?${q.toString()}`;fe!==p&&(d.hash=fe,window.history.replaceState({},"",d.toString()))}catch{}},[h]);const[b,x]=v.useState(!0),[P,y]=v.useState(()=>it(o.catalogAnalysisData)),[C,_]=v.useState({personality:0,sonics:0,total:0,detailedAnalysis:{personality:{},sonics:{}}}),[N,A]=v.useState(()=>o.onboardingComplete&&(o.catalogAnalysisComplete||o.roadmapGenerated)),[S,k]=v.useState(()=>{const d=r.pathname.replace("/","")||r.hash.replace("#/","");return["roadmap","master-plan","grants","applications","mix-analyzer","catalog-analyzer","portfolio","live","talent","merch"].includes(d)?d:o.lastActiveTab}),D=v.useMemo(()=>new Set(["catalog-analyzer","roadmap","master-plan","grants","applications","merch","live","mix-analyzer","talent"]),[]),O=v.useMemo(()=>new Set(["overview","master-plan","roadmap","grants","applications","merch","portfolio","live"]),[]),w=d=>h==="manager"?O.has(d):D.has(d),M=h==="manager"?"overview":"roadmap",[T,R]=v.useState(!1),[H,K]=v.useState([]),[z,Z]=v.useState(!1);v.useEffect(()=>{const d=r.pathname.replace("/","");d&&["overview","roadmap","master-plan","grants","applications","mix-analyzer","catalog-analyzer","portfolio","live","talent","merch"].includes(d)&&k(d)},[r]),v.useEffect(()=>{if(o.lastActiveTab!==S){c(p=>({...p,lastActiveTab:S}));const d=new URLSearchParams(window.location.search);d.set("persona",h),n(`/${S}?${d.toString()}`,{replace:!0})}},[S,n]),v.useEffect(()=>{w(S)||k(M)},[h]);const ae=d=>{const p={id:U(),type:"user",content:d},g=[...P,p];y(g);const j=Ss(d),q=Object.keys(j.personality).length,fe=Object.keys(j.sonics).length,Ge=g.filter(Le=>Le.type==="user").length;_({personality:q,sonics:fe,total:Ge,detailedAnalysis:j});const Kn=q>=2||fe>=2,Jn=Ge>=2;setTimeout(()=>{let Le;const qr=["Noted. This information helps establish baseline positioning.","Good data point. This clarifies the strategic direction.","Understood. This informs the resource allocation model.","Acknowledged. This helps calibrate timeline expectations.","Recorded. This provides context for budget planning.","Clear. This shapes the go-to-market approach.","Confirmed. This influences the development strategy.","Captured. This affects the launch positioning."];if(Kn){const ke=El(j);if(ke.length>0){const vt=ke[0],jt=Ns(j),Yt=jt.length>0?jt[0]:"What additional factors should we consider in the strategic planning?";Le={id:U(),type:"system",content:`Artist profile shows alignment with ${vt.name}'s positioning strategy. ${Yt}`}}else{const vt=Ns(j),jt=vt.length>0?vt[0]:"What other strategic factors should inform this roadmap?",Yt=qr[Math.floor(Math.random()*qr.length)];Le={id:U(),type:"system",content:`${Yt} ${jt}`}}}else if(Jn){const ke=["Please clarify: What's the production approach? What's the intended emotional impact on the target audience?","Additional context needed: Is this artist positioned as electronic/digital or organic/acoustic? What's the energy profile?","For accurate planning: What's the sonic identity? What's the tempo and intensity range we're working with?"];Le={id:U(),type:"system",content:ke[Math.floor(Math.random()*ke.length)]}}else{const ke=["Initial input received. For strategic planning: What's the core sonic identity? What production style defines this artist?","Processing artist profile. Clarify: What's the primary genre positioning? What's the energy and tempo range?","Beginning assessment. Define: What's the production aesthetic? What's the intended audience emotional response?"];Le={id:U(),type:"system",content:ke[Math.floor(Math.random()*ke.length)]}}y(ke=>[...ke,Le])},800+Math.random()*400)},L=()=>{const d=Ss(P.filter(j=>j.type==="user").map(j=>j.content).join(" ")),p=Tl(d,P,o.profile),g=Ts(o.catalogAnalysisData,P);c(j=>{var q,fe;return{...j,assessment:{...j.assessment,...p},profile:{...j.profile,genres:((q=p.identity.primary_genres)==null?void 0:q.join(", "))||j.profile.genres,elevatorPitch:((fe=p.brand_narrative)==null?void 0:fe.positioning)||j.profile.elevatorPitch},project:{...j.project,projectType:g.projectType,units:g.units,targetWeeks:g.targetWeeks},budget:Me(g.units),tasks:Ye(g.units),chatPlanningComplete:!0,roadmapGenerated:!0}}),x(!0),I(` Roadmap generated: ${g.projectType} (${g.units} tracks, ${g.targetWeeks} weeks, ~${Ae(g.estimatedBudget)})`),k("roadmap")};v.useEffect(()=>{if(localStorage.setItem(xr,JSON.stringify(o)),s.activeArtistId){const d=tc(s,s.activeArtistId,o);i(d),Lt(d,e)}},[o,e]),v.useEffect(()=>{Lt(s,e)},[s.artists.length,s.activeArtistId,s.settings,e]);const[re,je]=v.useState(!1),[$e,me]=v.useState(null),I=d=>{me(d),setTimeout(()=>me(null),3500)},_e=v.useMemo(()=>Es(o.profile),[o.profile.stageScores]);v.useEffect(()=>{_e!==o.profile.stage&&c(d=>({...d,profile:{...d.profile,stage:_e}}))},[_e]);const ie=v.useMemo(()=>{const d={Discovery:0,"PreProduction":0,Production:0,"PostProduction":0,Release:0,Growth:0};for(const j of o.budget)d[j.phase]+=j.qty*j.unitCost;const p=As(Object.values(d)),g=p-(o.project.hasGrant?o.project.grantAmount:0);return{byPhase:d,grand:p,afterGrant:g}},[o.budget,o.project.hasGrant,o.project.grantAmount]),pe=v.useMemo(()=>{const d=[];let p=o.project.startWeeks;for(const g of Et){const j=xc(g,o.profile.stage,o.project.units),q=o.tasks.filter(Ge=>Ge.phase===g),fe=Math.max(j,As(q.map(Ge=>Ge.weeks))||j);d.push({name:g,start:p,end:p+fe,phase:g}),p+=fe}return d},[o.tasks,o.project.startWeeks,o.project.units,o.profile.stage]),qe=d=>c(p=>({...p,budget:[...p.budget,{id:U(),category:"Custom",description:"",qty:1,unitCost:0,phase:d,required:!1}]})),gt=d=>c(p=>({...p,budget:p.budget.filter(g=>g.id!==d)})),Kt=d=>c(p=>({...p,tasks:[...p.tasks,{id:U(),phase:d,title:"New task",owner:"",weeks:1}]})),Jt=d=>c(p=>({...p,tasks:p.tasks.filter(g=>g.id!==d)})),Ue=d=>{c(p=>({...p,savedGrants:p.savedGrants.includes(d.id)?p.savedGrants.filter(g=>g!==d.id):[...p.savedGrants,d.id]})),I(o.savedGrants.includes(d.id)?"Grant removed from saved":"Grant saved successfully")},xt=d=>{const p={id:U(),grant_id:d.id,artist_id:"current_user",status:"not_started",project_title:`${o.profile.artistName||"Untitled"} Project`,project_description:o.profile.elevatorPitch||"",requested_amount:Math.min(d.award_amount.typical_amount||d.award_amount.min,d.award_amount.max),project_timeline:{start_date:new Date().toISOString().split("T")[0],end_date:new Date(Date.now()+31536e6).toISOString().split("T")[0]},completed_materials:[],remaining_materials:d.requirements.application_materials,last_updated:new Date().toISOString(),notes:"",reminders:[]};c(g=>({...g,grantApplications:[...g.grantApplications,p]})),k("applications"),I("Grant application started successfully")},$r=(d,p)=>{c(g=>({...g,grantApplications:g.grantApplications.map(j=>j.id===d?{...j,...p}:j)}))},W=d=>{c(p=>({...p,grantApplications:p.grantApplications.filter(g=>g.id!==d)})),I("Grant application deleted")},F=(d,p)=>{c(g=>({...g,grantApplications:g.grantApplications.map(j=>j.id===d?{...j,reminders:[...j.reminders,{...p,completed:!1}],last_updated:new Date().toISOString()}:j)})),I("Reminder added successfully")},Y=d=>{c(p=>({...p,catalogAnalysisComplete:!0,catalogAnalysisData:d})),y(it(d)),I(` Catalog analyzed: ${d.total_tracks} tracks with ${d.average_score.toFixed(0)}/100 average score`)},B=()=>Ms(`${(o.profile.artistName||"artist").replaceAll(" ","-")}-roadmap.json`,JSON.stringify(o,null,2),"application/json"),oe=d=>{const p=new FileReader;p.onload=()=>{try{c(JSON.parse(String(p.result))),alert("Imported settings.")}catch{alert("Invalid JSON file.")}},p.readAsText(d)},we=()=>{const d=o.budget.map(p=>({phase:p.phase,category:p.category,description:p.description,qty:p.qty,unitCost:p.unitCost,total:p.qty*p.unitCost}));Ms("budget.csv",bc(d),"text/csv")},G=()=>{const d=yc(o);navigator.clipboard.writeText(d),alert("Sharable link copied to clipboard.")},Q=()=>{const d={profile:at,project:xe,budget:Me(xe.units),tasks:Ye(xe.units),assessment:fr({profile:at,project:xe}),savedGrants:[],grantApplications:[],onboardingComplete:!0,catalogAnalysisComplete:!1,chatPlanningComplete:!1,roadmapGenerated:!1,lastActiveTab:"roadmap",firstVisitDate:new Date().toISOString(),catalogAnalysisData:void 0,estimatedDraw:100};c(d),window.history.replaceState({},"",window.location.pathname)},le=()=>{const d={profile:at,project:xe,budget:Me(xe.units),tasks:Ye(xe.units),assessment:fr({profile:at,project:xe}),savedGrants:[],grantApplications:[],onboardingComplete:!0,catalogAnalysisComplete:!1,chatPlanningComplete:!1,roadmapGenerated:!1,lastActiveTab:"roadmap",firstVisitDate:new Date().toISOString(),catalogAnalysisData:void 0,estimatedDraw:100},p=ec(s,d);i(p),c(d),A(!1),x(!1),y(it(void 0)),_({personality:0,sonics:0,total:0,detailedAnalysis:{personality:{},sonics:{}}}),k("catalog-analyzer"),I("New artist created")},tt=d=>{const p=sc(s,d);i(p);const g=p.artists.find(j=>j.id===d);g&&(c(g.state),A(g.state.onboardingComplete&&(g.state.catalogAnalysisComplete||g.state.roadmapGenerated)),x(g.state.chatPlanningComplete),y(it(g.state.catalogAnalysisData)),k(g.state.lastActiveTab||"roadmap"),I(`Switched to ${g.profile.artistName||"Unnamed Artist"}`))},rt=d=>{const p=s.artists.find(j=>j.id===d);if(!p)return;if(window.confirm(`Delete ${p.profile.artistName||"Unnamed Artist"}?

This will permanently remove all data for this artist. This action cannot be undone.`)){const j=rc(s,d);if(i(j),d===s.activeArtistId){const q=Ps(j);q?(c(q.state),A(q.state.onboardingComplete&&(q.state.catalogAnalysisComplete||q.state.roadmapGenerated)),x(q.state.chatPlanningComplete),y(it(q.state.catalogAnalysisData)),k(q.state.lastActiveTab||"roadmap")):le()}I(`Deleted ${p.profile.artistName||"Unnamed Artist"}`)}},bt=()=>l?l.profile.artistName||"Unnamed Artist":o.profile.artistName||"Unnamed Artist",se=d=>{K(d),R(!0)},he=d=>{const p=H.filter(g=>g!==d);K(p),p.length<2&&R(!1)};return t.jsxs("div",{className:"relative min-h-screen w-full",children:[t.jsx("div",{"aria-hidden":!0,className:"fixed inset-0 -z-10 bg-studio"}),o.onboardingComplete?N?t.jsx(jl,{catalogAnalysisData:o.catalogAnalysisData,roadmapGenerated:o.roadmapGenerated,projectType:o.project.projectType,projectUnits:o.project.units,savedGrantsCount:o.savedGrants.length,applicationsCount:o.grantApplications.length,onContinue:()=>{A(!1)},onReAnalyze:()=>{A(!1),k("catalog-analyzer")},onViewRoadmap:()=>{A(!1),k("roadmap")},onViewGrants:()=>{A(!1),k("grants")}}):t.jsxs("div",{className:"mx-auto max-w-7xl px-6 py-8",children:[t.jsxs("header",{className:"mb-6 relative rounded-brand-lg border border-surface-700 p-5 banner-studio z-50 shadow-warm",children:[t.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 bg-gradient-to-r from-surface-900/60 via-surface-900/40 to-transparent rounded-brand-lg overflow-hidden"}),t.jsxs("div",{className:"relative flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("svg",{width:"48",height:"48",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",className:"flex-shrink-0",children:t.jsxs("g",{transform:"translate(256, 256)",children:[t.jsx("circle",{cx:"0",cy:"0",r:"221.867",fill:"none",stroke:"#f8890f",strokeWidth:"14"}),t.jsx("circle",{cx:"-118.17",cy:"0",r:"47",fill:"#faad57"}),t.jsx("circle",{cx:"118.17",cy:"0",r:"47",fill:"#faad57"}),t.jsx("line",{x1:"0",y1:"105.5",x2:"32.33",y2:"110.67",stroke:"#fcd09f",strokeWidth:"12"})]})}),t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-sans font-bold tracking-tight text-surface-50",style:{fontFamily:"Inter, -apple-system, BlinkMacSystemFont, system-ui, sans-serif"},children:["sounds expensive ",t.jsx("span",{className:"text-primary-400",children:""})]}),t.jsx("p",{className:"text-sm font-sans text-surface-300",style:{fontFamily:"Inter, -apple-system, BlinkMacSystemFont, system-ui, sans-serif"},children:"boutique music project planning & strategy"})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs("div",{className:"flex items-center gap-1 rounded-brand border border-surface-600 bg-surface-800/60 p-1",children:[t.jsx("button",{className:`px-3 py-1.5 text-xs rounded-md transition-colors ${h==="artist"?"bg-primary-500 text-white shadow-sm":"text-surface-300 hover:text-surface-100 hover:bg-surface-700/60"}`,onClick:()=>m("artist"),title:"Artist mode: plan and build",children:"artist"}),t.jsx("button",{className:`px-3 py-1.5 text-xs rounded-md transition-colors ${h==="manager"?"bg-primary-500 text-white shadow-sm":"text-surface-300 hover:text-surface-100 hover:bg-surface-700/60"}`,onClick:()=>m("manager"),title:"Manager mode: review and share",children:"manager"})]}),t.jsx(_l,{portfolio:s,onSwitchArtist:tt,onNewArtist:le,onDeleteArtist:rt,currentArtistName:bt()}),e&&t.jsx("button",{className:"rounded-lg border border-red-600 px-3 py-2 text-sm text-red-100 hover:bg-red-800/50 transition-colors",onClick:()=>n("/sign-out"),title:"Log out of this account",children:"Sign out"}),t.jsx("button",{className:"rounded-lg border border-primary-600 px-3 py-2 text-sm text-primary-100 hover:bg-primary-800/50 transition-colors",onClick:G,children:"Share"}),t.jsx("button",{className:"rounded-lg border border-primary-600 px-3 py-2 text-sm text-primary-100 hover:bg-primary-800/50 transition-colors",onClick:we,children:"Export CSV"}),t.jsx("button",{className:"rounded-lg border border-primary-600 px-3 py-2 text-sm text-primary-100 hover:bg-primary-800/50 transition-colors",onClick:B,children:"Export Data"}),t.jsxs("label",{className:"rounded-lg border border-primary-600 px-3 py-2 text-sm text-primary-100 hover:bg-primary-800/50 transition-colors cursor-pointer",children:["Import Data",t.jsx("input",{type:"file",accept:"application/json",className:"hidden",onChange:d=>d.target.files&&oe(d.target.files[0])})]}),t.jsx("button",{className:"rounded-lg border border-red-600 px-3 py-2 text-sm text-red-100 hover:bg-red-800/50 transition-colors",onClick:()=>{confirm("Are you sure you want to clear all data? This cannot be undone.")&&(localStorage.removeItem("artist-roadmap-vite-v1"),Q())},children:"Clear All Data"})]})]})]}),t.jsx("div",{className:"space-y-6",children:b?t.jsxs(t.Fragment,{children:[h==="artist"&&t.jsxs("section",{className:"mb-6 rounded-2xl border border-surface-700 bg-surface-900/60 p-5",children:[t.jsx("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-base md:text-lg font-semibold text-surface-50",children:"Quick Start"}),t.jsx("p",{className:"text-xs md:text-sm text-surface-300 mt-1",children:"Three choices to generate a plan fast, then optionally add a recommended merch bundle."})]})}),t.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-surface-300 mb-1",children:"Release type"}),t.jsxs("select",{className:"w-full rounded-lg bg-surface-800 px-3 py-2 text-surface-100",value:o.project.projectType,onChange:d=>{const p=d.target.value,g=p==="Album"?10:p==="EP"?4:1;c(j=>({...j,project:{...j.project,projectType:p,units:g},budget:Me(g),tasks:Ye(g)}))},children:[t.jsx("option",{value:"EP",children:"EP"}),t.jsx("option",{value:"Album",children:"Album"}),t.jsx("option",{value:"Singles",children:"Singles"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-surface-300 mb-1",children:"Timeline (weeks)"}),t.jsxs("select",{className:"w-full rounded-lg bg-surface-800 px-3 py-2 text-surface-100",value:o.project.targetWeeks,onChange:d=>{const p=parseInt(d.target.value||"16");c(g=>({...g,project:{...g.project,targetWeeks:Be(p,6,104)}}))},children:[t.jsx("option",{value:12,children:"12 (fast)"}),t.jsx("option",{value:16,children:"16"}),t.jsx("option",{value:24,children:"24"}),t.jsx("option",{value:36,children:"36"}),t.jsx("option",{value:48,children:"48 (extended)"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-surface-300 mb-1",children:"Budget range"}),t.jsxs("select",{className:"w-full rounded-lg bg-surface-800 px-3 py-2 text-surface-100",defaultValue:(()=>{const d=ie.grand;return d<=5e3?"low":d<=2e4?"mid":"high"})(),onChange:d=>{const p=d.target.value;c(g=>({...g,budget:Me(g.project.units,p)})),I(p==="low"?" Budget: Lean":p==="mid"?" Budget: Mid-tier":" Budget: High")},children:[t.jsx("option",{value:"low",children:"$25K (lean)"}),t.jsx("option",{value:"mid",children:"$1020K (mid-tier)"}),t.jsx("option",{value:"high",children:"$25K+ (pro)"})]})]})]}),t.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[t.jsx("button",{className:"px-4 py-2 rounded-lg bg-primary-600 text-white text-sm hover:bg-primary-700 transition-colors",onClick:()=>{c(d=>({...d,roadmapGenerated:!0})),I(" Plan generated"),k("master-plan")},children:"Generate Plan"}),t.jsx("button",{className:"px-4 py-2 rounded-lg border border-primary-600 text-primary-100 text-sm hover:bg-primary-800/40 transition-colors",onClick:()=>{const d=Pl(o.profile,o.project,o.estimatedDraw||100),g=`Recommended Merch Bundle (${Array.from(new Set(d.items.map(j=>j.category))).join(", ")})`;c(j=>({...j,budget:[...j.budget,{id:U(),category:"Merch",description:g,qty:1,unitCost:Math.max(0,d.estBudgetUSD||0),phase:"Growth",required:!1}]})),I(`Added merch bundle (~$${d.estBudgetUSD.toLocaleString()}) to budget`)},children:"Add Recommended Merch to Budget"})]})]}),t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"flex flex-wrap gap-2 p-1 bg-surface-800/50 rounded-xl border border-surface-700",children:[h==="manager"&&t.jsx("button",{onClick:()=>k("overview"),className:`tap-target px-4 py-2 rounded-lg text-sm font-medium transition-colors ${S==="overview"?"bg-primary-600 text-primary-50":"text-surface-300 hover:text-surface-200 hover:bg-surface-700"}`,children:" Overview"}),w("catalog-analyzer")&&t.jsxs("button",{onClick:()=>k("catalog-analyzer"),className:`tap-target px-4 py-2 rounded-lg text-sm font-medium transition-colors relative ${S==="catalog-analyzer"?"bg-primary-600 text-primary-50":"text-surface-300 hover:text-surface-200 hover:bg-surface-700"}`,children:[t.jsxs("span",{className:"flex items-center gap-2",children:[o.catalogAnalysisComplete?"":"1.","  Catalog Analysis"]}),o.catalogAnalysisComplete&&!S.includes("catalog")&&t.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full"})]}),w("roadmap")&&t.jsxs("button",{onClick:()=>{!b&&!o.chatPlanningComplete&&x(!1),k("roadmap")},className:`tap-target px-4 py-2 rounded-lg text-sm font-medium transition-colors relative ${!b&&!o.chatPlanningComplete,"text-surface-300 hover:text-surface-200 hover:bg-surface-700"}`,children:[t.jsxs("span",{className:"flex items-center gap-2",children:[o.chatPlanningComplete?"":"2.","  AI Planning"]}),o.chatPlanningComplete&&t.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full"})]}),w("roadmap")&&t.jsxs("button",{onClick:()=>k("roadmap"),className:`tap-target px-4 py-2 rounded-lg text-sm font-medium transition-colors relative ${S==="roadmap"?"bg-primary-600 text-primary-50":"text-surface-300 hover:text-surface-200 hover:bg-surface-700"}`,children:[t.jsxs("span",{className:"flex items-center gap-2",children:[o.roadmapGenerated?"":"3.","  Roadmap"]}),o.roadmapGenerated&&S!=="roadmap"&&t.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full"})]}),o.roadmapGenerated&&w("master-plan")&&t.jsx("button",{onClick:()=>k("master-plan"),className:`tap-target px-4 py-2 rounded-lg text-sm font-medium transition-colors ${S==="master-plan"?"bg-gradient-to-r from-primary-600 to-accent-600 text-white":"text-surface-300 hover:text-surface-200 hover:bg-surface-700"}`,children:" Master Plan"}),w("mix-analyzer")&&t.jsx("button",{onClick:()=>k("mix-analyzer"),className:`tap-target px-4 py-2 rounded-lg text-sm font-medium transition-colors ${S==="mix-analyzer"?"bg-primary-600 text-primary-50":"text-surface-300 hover:text-surface-200 hover:bg-surface-700"}`,children:" Mix Analyzer"}),w("grants")&&t.jsxs("button",{onClick:()=>k("grants"),className:`tap-target px-4 py-2 rounded-lg text-sm font-medium transition-colors ${S==="grants"?"bg-primary-600 text-primary-50":"text-surface-300 hover:text-surface-200 hover:bg-surface-700"}`,children:[" Grants",o.savedGrants.length>0&&t.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-primary-500/30 text-primary-200 rounded text-xs",children:o.savedGrants.length})]}),w("talent")&&t.jsx("button",{onClick:()=>k("talent"),className:`tap-target px-4 py-2 rounded-lg text-sm font-medium transition-colors ${S==="talent"?"bg-primary-600 text-primary-50":"text-surface-300 hover:text-surface-200 hover:bg-surface-700"}`,children:" Talent"}),w("merch")&&t.jsx("button",{onClick:()=>k("merch"),className:`tap-target px-4 py-2 rounded-lg text-sm font-medium transition-colors ${S==="merch"?"bg-primary-600 text-primary-50":"text-surface-300 hover:text-surface-200 hover:bg-surface-700"}`,children:" Merch"}),w("applications")&&t.jsxs("button",{onClick:()=>k("applications"),className:`tap-target px-4 py-2 rounded-lg text-sm font-medium transition-colors ${S==="applications"?"bg-primary-600 text-primary-50":"text-surface-300 hover:text-surface-200 hover:bg-surface-700"}`,children:[" Applications",o.grantApplications.length>0&&t.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-accent-500/30 text-accent-200 rounded text-xs",children:o.grantApplications.length})]}),s.artists.length>1&&w("portfolio")&&t.jsxs("button",{onClick:()=>k("portfolio"),className:`tap-target px-4 py-2 rounded-lg text-sm font-medium transition-colors ${S==="portfolio"?"bg-primary-600 text-primary-50":"text-surface-300 hover:text-surface-200 hover:bg-surface-700"}`,children:[" Portfolio",t.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-purple-500/30 text-purple-200 rounded text-xs",children:s.artists.length})]}),w("live")&&t.jsx("button",{onClick:()=>k("live"),className:`tap-target px-4 py-2 rounded-lg text-sm font-medium transition-colors ${S==="live"?"bg-primary-600 text-primary-50":"text-surface-300 hover:text-surface-200 hover:bg-surface-700"}`,children:" Live"})]})}),t.jsx(Nl,{tab:S}),S==="overview"&&w("overview")&&t.jsx(u.Suspense,{fallback:t.jsx("div",{className:"text-surface-300",children:"Loading Overview"}),children:(()=>{const d=require("./components/ManagerOverview").default;return t.jsx(d,{profile:o.profile,project:o.project,budget:o.budget,stage:o.profile.stage,estimatedDraw:o.estimatedDraw,onExportCSV:we,onExportJSON:B,onShare:G})})()}),S==="mix-analyzer"&&w("mix-analyzer")&&t.jsxs("div",{children:[t.jsxs("div",{className:"mb-6 rounded-2xl border border-primary-700 bg-primary-900/20 p-6 backdrop-blur",children:[t.jsx("h2",{className:"text-xl font-semibold text-primary-100 mb-2",children:" Mix Analyzer"}),t.jsx("p",{className:"text-surface-300 text-sm",children:"Upload your mix and get professional diagnostic feedback based on industry benchmarks for your genre. Identify technical issues, compare against reference tracks, and get actionable recommendations to improve your sound."})]}),t.jsx(u.Suspense,{fallback:t.jsx("div",{className:"text-surface-300",children:"Loading Mix Analyzer"}),children:t.jsx(oc,{})})]}),S==="catalog-analyzer"&&w("catalog-analyzer")&&t.jsxs("div",{id:"catalog-analysis",children:[t.jsxs("div",{className:"mb-6 rounded-2xl border border-primary-700 bg-primary-900/20 p-6 backdrop-blur",children:[t.jsx("h2",{className:"text-xl font-semibold text-primary-100 mb-2",children:" Catalog Analyzer"}),t.jsx("p",{className:"text-surface-300 text-sm",children:"Upload multiple released tracks to analyze your artistic growth and consistency over time. Get insights on quality progression, sonic identity, genre consistency, and recommendations for your next release."}),o.catalogAnalysisComplete&&o.catalogAnalysisData&&t.jsx("div",{className:"mt-4 p-3 rounded-lg bg-green-600/10 border border-green-600/30",children:t.jsxs("div",{className:"text-sm text-green-300",children:[" Last analysis: ",o.catalogAnalysisData.total_tracks," tracks  ",o.catalogAnalysisData.average_score.toFixed(0),"/100 avg score  ",o.catalogAnalysisData.sonic_identity.consistency_score.toFixed(0),"% consistency"]})})]}),t.jsx(u.Suspense,{fallback:t.jsx("div",{className:"text-surface-300",children:"Loading Catalog Analyzer"}),children:t.jsx(lc,{onAnalysisComplete:Y})})]}),S==="grants"&&w("grants")&&t.jsx(u.Suspense,{fallback:t.jsx("div",{className:"text-surface-300",children:"Loading Grants"}),children:t.jsx(ac,{profile:o.profile,assessment:o.assessment,savedGrants:o.savedGrants,applications:o.grantApplications,onSaveGrant:Ue,onStartApplication:xt})}),S==="applications"&&w("applications")&&t.jsx(u.Suspense,{fallback:t.jsx("div",{className:"text-surface-300",children:"Loading Applications"}),children:t.jsx(ic,{applications:o.grantApplications,grants:Dn,onUpdateApplication:$r,onDeleteApplication:W,onAddReminder:F})}),S==="portfolio"&&w("portfolio")&&!T&&!z&&t.jsx(u.Suspense,{fallback:t.jsx("div",{className:"text-surface-300",children:"Loading Portfolio"}),children:t.jsx(cc,{portfolio:s,onSelectArtist:tt,onNewArtist:le,onDeleteArtist:rt,onClose:()=>k("roadmap"),onCompareArtists:se,onShowAnalytics:()=>Z(!0)})}),S==="portfolio"&&w("portfolio")&&T&&t.jsx(u.Suspense,{fallback:t.jsx("div",{className:"text-surface-300",children:"Loading Comparison"}),children:t.jsx(dc,{artists:H.map(d=>s.artists.find(p=>p.id===d)).filter(Boolean),onClose:()=>R(!1),onRemoveArtist:he})}),S==="portfolio"&&w("portfolio")&&z&&t.jsx(u.Suspense,{fallback:t.jsx("div",{className:"text-surface-300",children:"Loading Analytics"}),children:t.jsx(uc,{portfolio:s,onClose:()=>Z(!1)})}),S==="master-plan"&&w("master-plan")&&t.jsx(u.Suspense,{fallback:t.jsx("div",{className:"text-surface-300",children:"Loading Master Plan"}),children:t.jsx(pc,{profile:o.profile,projectConfig:o.project,budgetItems:o.budget,artistStage:o.profile.stage,estimatedDraw:o.estimatedDraw,genres:o.profile.genres.split(",").map(d=>d.trim()).filter(Boolean),onNavigate:d=>k(d)})}),S==="live"&&w("live")&&t.jsx(u.Suspense,{fallback:t.jsx("div",{className:"text-surface-300",children:"Loading Live Planner"}),children:t.jsx(mc,{artistStage:o.profile.stage,genres:o.profile.genres.split(",").map(d=>d.trim()).filter(Boolean),estimatedDraw:o.estimatedDraw,onEstimatedDrawChange:d=>c(p=>({...p,estimatedDraw:d}))})}),S==="talent"&&w("talent")&&t.jsx(u.Suspense,{fallback:t.jsx("div",{className:"text-surface-300",children:"Loading Talent Finder"}),children:t.jsx(hc,{profile:o.profile,project:o.project,budget:o.budget})}),S==="merch"&&w("merch")&&t.jsx(u.Suspense,{fallback:t.jsx("div",{className:"text-surface-300",children:"Loading Merch Planner"}),children:t.jsx(fc,{profile:o.profile,project:o.project,estimatedDraw:o.estimatedDraw,onAddToBudget:({description:d,totalCost:p})=>{c(g=>({...g,budget:[...g.budget,{id:U(),category:"Merch",description:d,qty:1,unitCost:Math.max(0,p||0),phase:"Growth",required:!1}]}))},onToast:I})}),S==="roadmap"&&t.jsxs(t.Fragment,{children:[o.roadmapGenerated&&o.catalogAnalysisData&&t.jsx("section",{className:"mb-6 rounded-2xl border border-accent-700 bg-accent-900/20 p-6 backdrop-blur",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-accent-600/20 flex items-center justify-center",children:t.jsx("span",{className:"text-2xl",children:""})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h2",{className:"text-lg font-semibold text-accent-100 mb-2",children:"Smart Roadmap Generated"}),t.jsx("p",{className:"text-surface-300 text-sm leading-relaxed",children:Ts(o.catalogAnalysisData,P).rationale}),t.jsxs("div",{className:"mt-4 flex flex-wrap gap-3 text-sm",children:[t.jsxs("div",{className:"px-3 py-1.5 rounded-lg bg-surface-800/50 border border-surface-700",children:[t.jsx("span",{className:"text-surface-300",children:"Project: "}),t.jsx("span",{className:"text-surface-100 font-medium",children:o.project.projectType})]}),t.jsxs("div",{className:"px-3 py-1.5 rounded-lg bg-surface-800/50 border border-surface-700",children:[t.jsx("span",{className:"text-surface-300",children:"Tracks: "}),t.jsx("span",{className:"text-surface-100 font-medium",children:o.project.units})]}),t.jsxs("div",{className:"px-3 py-1.5 rounded-lg bg-surface-800/50 border border-surface-700",children:[t.jsx("span",{className:"text-surface-300",children:"Timeline: "}),t.jsxs("span",{className:"text-surface-100 font-medium",children:[o.project.targetWeeks," weeks"]})]}),t.jsxs("div",{className:"px-3 py-1.5 rounded-lg bg-surface-800/50 border border-surface-700",children:[t.jsx("span",{className:"text-surface-300",children:"Est. Budget: "}),t.jsx("span",{className:"text-surface-100 font-medium",children:Ae(ie.grand)})]})]}),t.jsx("p",{className:"mt-3 text-xs text-surface-200",children:" These are smart defaults based on your data. Feel free to customize below!"})]})]})}),o.assessment&&t.jsxs("section",{className:"rounded-2xl border border-primary-700 bg-primary-900/20 p-6 backdrop-blur",children:[t.jsx("h2",{className:"mb-4 text-lg font-semibold text-primary-100",children:"Assessment Insights"}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs("div",{className:"bg-surface-800/50 rounded-lg p-4",children:[t.jsx("h3",{className:"text-sm font-medium text-surface-200 mb-2",children:"Genre Profile"}),t.jsx("div",{className:"space-y-2",children:(Ve=o.assessment.identity.primary_genres)==null?void 0:Ve.map(d=>t.jsx("span",{className:"inline-block bg-primary-500/20 text-primary-300 px-2 py-1 rounded text-xs mr-1",children:d},d))}),o.assessment.identity.subgenres_tags&&o.assessment.identity.subgenres_tags.length>0&&t.jsxs("div",{className:"mt-2",children:[t.jsx("div",{className:"text-xs text-surface-300 mb-1",children:"Subgenres:"}),o.assessment.identity.subgenres_tags.map(d=>t.jsx("span",{className:"inline-block bg-surface-700 text-surface-300 px-2 py-1 rounded text-xs mr-1",children:d},d))]})]}),t.jsxs("div",{className:"bg-surface-800/50 rounded-lg p-4",children:[t.jsx("h3",{className:"text-sm font-medium text-surface-200 mb-2",children:"Audio Profile"}),t.jsx("div",{className:"space-y-2 text-xs",children:o.assessment.audio_profile&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-surface-300",children:"Tempo:"}),t.jsxs("span",{className:"text-surface-200",children:[Math.round(o.assessment.audio_profile.tempo_bpm)," BPM"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-surface-300",children:"Danceability:"}),t.jsxs("span",{className:"text-surface-200",children:[Math.round(o.assessment.audio_profile.danceability*100),"%"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-surface-300",children:"Energy:"}),t.jsxs("span",{className:"text-surface-200",children:[Math.round(o.assessment.audio_profile.energy*100),"%"]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-surface-300",children:"Valence:"}),t.jsxs("span",{className:"text-surface-200",children:[Math.round(o.assessment.audio_profile.valence*100),"%"]})]})]})})]}),t.jsxs("div",{className:"bg-surface-800/50 rounded-lg p-4",children:[t.jsx("h3",{className:"text-sm font-medium text-surface-200 mb-2",children:"Success Indicators"}),(()=>{const d=$l(o.assessment.identity.primary_genres||[]),p=ql(o.assessment,d),g=Yl(o.assessment,d);return t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"text-xs text-surface-300",children:"Market Fit:"}),t.jsxs("div",{className:`text-xs font-medium ${p>.7?"text-green-400":p>.5?"text-yellow-400":"text-red-400"}`,children:[Math.round(p*100),"%"]})]}),g.length>0&&t.jsxs("div",{className:"mt-2",children:[t.jsx("div",{className:"text-xs text-surface-300 mb-1",children:"Top Recommendation:"}),t.jsx("div",{className:"text-xs text-surface-200 bg-surface-700/50 p-2 rounded",children:g[0]})]})]})})()]})]}),((yt=o.assessment.brand_narrative)==null?void 0:yt.themes)&&t.jsxs("div",{className:"mt-4 bg-surface-800/30 rounded-lg p-4",children:[t.jsx("h3",{className:"text-sm font-medium text-surface-200 mb-2",children:"Brand Themes"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:o.assessment.brand_narrative.themes.map(d=>t.jsx("span",{className:"bg-accent-500/20 text-accent-300 px-3 py-1 rounded-full text-sm",children:d},d))}),o.assessment.brand_narrative.positioning&&t.jsxs("div",{className:"mt-3",children:[t.jsx("div",{className:"text-xs text-surface-300 mb-1",children:"Positioning:"}),t.jsxs("div",{className:"text-sm text-surface-200 italic",children:['"',o.assessment.brand_narrative.positioning,'"']})]})]})]}),t.jsxs("section",{className:"rounded-2xl border border-surface-700 bg-surface-800/80 p-6 backdrop-blur",children:[t.jsx("h2",{className:"mb-4 text-lg font-semibold text-primary-100",children:"Profile"}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm text-surface-300",children:"Artist / Project Name"}),t.jsx("input",{className:"w-full rounded-lg bg-surface-700/50 px-3 py-2 text-surface-100 placeholder-surface-500 focus:bg-surface-700 focus:ring-2 focus:ring-primary-500 transition-colors",value:o.profile.artistName,onChange:d=>c({...o,profile:{...o.profile,artistName:d.target.value}}),placeholder:"e.g., Super Star"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm text-surface-300",children:"Genres"}),t.jsx("input",{className:"w-full rounded-lg bg-surface-700/50 px-3 py-2 text-surface-100 placeholder-surface-500 focus:bg-surface-700 focus:ring-2 focus:ring-primary-500 transition-colors",value:o.profile.genres,onChange:d=>c({...o,profile:{...o.profile,genres:d.target.value}}),placeholder:"Soul, R&B, Hiphop"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm text-surface-300",children:"Home base"}),t.jsx("input",{className:"w-full rounded-lg bg-surface-700/50 px-3 py-2 text-surface-100 placeholder-surface-500 focus:bg-surface-700 focus:ring-2 focus:ring-primary-500 transition-colors",value:o.profile.city,onChange:d=>c({...o,profile:{...o.profile,city:d.target.value}}),placeholder:"City, State"})]}),t.jsxs("div",{className:"space-y-2 md:col-span-2",children:[t.jsx("label",{className:"text-sm text-surface-300",children:"Elevator pitch"}),t.jsx("textarea",{rows:3,className:"w-full rounded-lg bg-surface-700/50 px-3 py-2 text-surface-100 placeholder-surface-500 focus:bg-surface-700 focus:ring-2 focus:ring-primary-500 transition-colors",value:o.profile.elevatorPitch,onChange:d=>c({...o,profile:{...o.profile,elevatorPitch:d.target.value}}),placeholder:"One or two sentences defining the sound, story, and audience."})]})]}),t.jsxs("div",{className:"mt-6",children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-base font-semibold",children:"Maturity selfassessment"}),t.jsx("p",{className:"text-xs text-surface-200 mt-0.5",children:"Optional  used to calibrate timelines and budgets"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:"inline-flex items-center gap-1 rounded-md bg-surface-700/60 px-2 py-1 text-xs text-surface-200 border border-surface-600",children:[t.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary-400"}),"Stage: ",o.profile.stage]}),t.jsx("button",{className:"text-xs rounded px-2 py-1 border border-primary-600 text-primary-100 hover:bg-primary-700/30 transition-colors",onClick:()=>{je(!0)},children:"Refine assessment"})]})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:["craft","catalog","brand","team","audience","ops"].map(d=>t.jsxs("span",{className:"text-xs rounded-md border border-surface-700 bg-surface-800/60 px-2 py-1 text-surface-300",children:[d,": ",o.profile.stageScores[d],"/5"]},d))})]}),t.jsx("div",{className:"mt-6 pt-4 border-t border-surface-700/50",children:t.jsxs("button",{onClick:()=>{k("catalog-analyzer"),setTimeout(()=>{const d=document.getElementById("catalog-analysis");d&&d.scrollIntoView({behavior:"smooth",block:"start"})},100)},className:"w-full md:w-auto px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:["Continue to Catalog Analysis",t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})]}),re&&t.jsx(bl,{initialAnswers:o.profile.stageScores,onCancel:()=>je(!1),onFinish:d=>{c(j=>({...j,profile:{...j.profile,stageScores:{...j.profile.stageScores,...d}}}));const p={...o.profile,stageScores:{...o.profile.stageScores,...d}},g=Es(p);I(`Assessment saved  stage: ${g}`),je(!1)}}),$e&&t.jsx(yl,{message:$e}),t.jsxs("section",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6",children:[t.jsx("h2",{className:"mb-4 text-lg font-semibold",children:"Project"}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm",children:"Project type"}),t.jsxs("select",{className:"w-full rounded-lg bg-slate-800 px-3 py-2",value:o.project.projectType,onChange:d=>c({...o,project:{...o.project,projectType:d.target.value}}),children:[t.jsx("option",{value:"EP",children:"EP"}),t.jsx("option",{value:"Album",children:"Album"}),t.jsx("option",{value:"Singles",children:"Singles"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm",children:"# Songs"}),t.jsx("input",{type:"number",min:1,className:"w-full rounded-lg bg-slate-800 px-3 py-2",value:o.project.units,onChange:d=>{const p=Be(parseInt(d.target.value||"1"),1,30);c({...o,project:{...o.project,units:p},budget:Me(p),tasks:Ye(p)})}})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm",children:"Total timeline (weeks)"}),t.jsx("input",{type:"number",min:6,className:"w-full rounded-lg bg-slate-800 px-3 py-2",value:o.project.targetWeeks,onChange:d=>c({...o,project:{...o.project,targetWeeks:Be(parseInt(d.target.value||"6"),6,104)}})})]}),t.jsxs("div",{className:"space-y-2 md:col-span-2",children:[t.jsx("label",{className:"text-sm",children:"Target markets (comma separated)"}),t.jsx("input",{className:"w-full rounded-lg bg-slate-800 px-3 py-2",value:o.project.targetMarkets.join(", "),onChange:d=>c({...o,project:{...o.project,targetMarkets:d.target.value.split(",").map(p=>p.trim()).filter(Boolean)}}),placeholder:"DSP, TikTok/Shorts, Live, Sync"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm",children:"Grant support"}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",checked:o.project.hasGrant,onChange:d=>c({...o,project:{...o.project,hasGrant:d.target.checked}})}),t.jsx("input",{type:"number",min:0,className:"w-full rounded-lg bg-slate-800 px-3 py-2",value:o.project.grantAmount,onChange:d=>c({...o,project:{...o.project,grantAmount:Math.max(0,parseInt(d.target.value||"0"))}})})]})]})]}),t.jsxs("div",{className:"mt-4 rounded-xl bg-indigo-600/10 p-4",children:[t.jsx("div",{className:"text-sm text-indigo-300",children:"Current est. budget"}),t.jsxs("div",{className:"text-2xl font-semibold",children:[Ae(ie.grand)," ",t.jsxs("span",{className:"text-sm text-slate-400",children:["(",Ae(Math.max(0,ie.afterGrant))," after grants)"]})]})]})]}),t.jsx("section",{className:"space-y-4",children:Et.map(d=>t.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6",children:[t.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[t.jsx("h3",{className:"font-semibold",children:d}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("span",{className:"rounded-lg border border-slate-700 px-2 py-1 text-xs",children:["Total: ",Ae(o.budget.filter(p=>p.phase===d).reduce((p,g)=>p+g.qty*g.unitCost,0))]}),t.jsx("button",{className:"rounded-lg border border-slate-700 px-3 py-2 text-sm hover:bg-slate-800",onClick:()=>qe(d),children:"Add item"})]})]}),t.jsx("div",{className:"grid gap-2",children:o.budget.filter(p=>p.phase===d).map(p=>t.jsxs("div",{className:"grid grid-cols-12 items-center gap-2 rounded-xl bg-slate-800/60 p-3",children:[t.jsx("input",{className:"col-span-2 rounded bg-slate-900 px-2 py-1",value:p.category,onChange:g=>c({...o,budget:o.budget.map(j=>j.id===p.id?{...j,category:g.target.value}:j)})}),t.jsx("input",{className:"col-span-5 rounded bg-slate-900 px-2 py-1",value:p.description,onChange:g=>c({...o,budget:o.budget.map(j=>j.id===p.id?{...j,description:g.target.value}:j)})}),t.jsx("input",{type:"number",min:1,className:"col-span-1 rounded bg-slate-900 px-2 py-1",value:p.qty,onChange:g=>c({...o,budget:o.budget.map(j=>j.id===p.id?{...j,qty:Math.max(1,parseInt(g.target.value||"1"))}:j)})}),t.jsx("input",{type:"number",min:0,className:"col-span-2 rounded bg-slate-900 px-2 py-1",value:p.unitCost,onChange:g=>c({...o,budget:o.budget.map(j=>j.id===p.id?{...j,unitCost:Math.max(0,parseInt(g.target.value||"0"))}:j)})}),t.jsx("div",{className:"col-span-1 text-right text-sm",children:Ae(p.qty*p.unitCost)}),t.jsx("div",{className:"col-span-1 flex justify-end",children:t.jsx("button",{className:"rounded-lg border border-slate-700 px-3 py-2 text-sm hover:bg-slate-800",onClick:()=>gt(p.id),children:"X"})})]},p.id))})]},d))}),t.jsx("style",{children:".fixdelbtn{display:none}"}),t.jsxs("section",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6",children:[t.jsx("h3",{className:"mb-3 font-semibold",children:"Phase board"}),t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Et.map(d=>t.jsxs("div",{className:"rounded-2xl border border-slate-800 p-3",children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium",children:d}),t.jsx("button",{className:"rounded-lg border border-slate-700 px-2 py-1 text-xs hover:bg-slate-800",onClick:()=>Kt(d),children:"Add"})]}),t.jsx("div",{className:"space-y-2",children:o.tasks.filter(p=>p.phase===d).map(p=>t.jsxs("div",{className:"rounded-xl bg-slate-800/60 p-3",children:[t.jsx("input",{className:"w-full rounded bg-slate-900 px-2 py-1",value:p.title,onChange:g=>c({...o,tasks:o.tasks.map(j=>j.id===p.id?{...j,title:g.target.value}:j)})}),t.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-2 text-sm",children:[t.jsx("input",{className:"col-span-2 rounded bg-slate-900 px-2 py-1",placeholder:"Owner",value:p.owner,onChange:g=>c({...o,tasks:o.tasks.map(j=>j.id===p.id?{...j,owner:g.target.value}:j)})}),t.jsx("input",{type:"number",min:1,className:"rounded bg-slate-900 px-2 py-1",value:p.weeks,onChange:g=>c({...o,tasks:o.tasks.map(j=>j.id===p.id?{...j,weeks:Math.max(1,parseInt(g.target.value||"1"))}:j)})})]}),t.jsx("div",{className:"mt-2 flex justify-end",children:t.jsx("button",{className:"rounded-lg border border-slate-700 px-2 py-1 text-xs hover:bg-slate-800",onClick:()=>Jt(p.id),children:"Delete"})})]},p.id))})]},d))})]}),t.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6",children:[t.jsx("h3",{className:"mb-3 font-semibold",children:"Timeline (weeks)"}),t.jsx("div",{className:"h-72 w-full",children:t.jsx(Gr,{width:"100%",height:"100%",children:t.jsxs(ra,{data:pe.map(d=>({name:d.phase,length:d.end-d.start})),children:[t.jsx(Hr,{strokeDasharray:"3 3"}),t.jsx(Kr,{dataKey:"name"}),t.jsx(Jr,{}),t.jsx(Yr,{}),t.jsx(sa,{dataKey:"length"})]})})}),t.jsxs("div",{className:"text-sm text-slate-400",children:["Total span: ",pe.length?pe[pe.length-1].end-pe[0].start:0," weeks"]})]})]}),t.jsxs("section",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6",children:[t.jsx("h3",{className:"mb-3 font-semibold",children:"Budget by phase"}),t.jsx("div",{className:"h-64 w-full",children:t.jsx(Gr,{width:"100%",height:"100%",children:t.jsxs(na,{data:Et.map(d=>({phase:d,total:o.budget.filter(p=>p.phase===d).reduce((p,g)=>p+g.qty*g.unitCost,0)})),children:[t.jsx(Hr,{strokeDasharray:"3 3"}),t.jsx(Kr,{dataKey:"phase"}),t.jsx(Jr,{}),t.jsx(Yr,{}),t.jsx(aa,{type:"monotone",dataKey:"total"})]})})})]}),t.jsxs("section",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6",children:[t.jsx("h3",{className:"mb-3 text-lg font-semibold",children:"Reports"}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.jsxs("div",{className:"rounded-2xl bg-slate-800/60 p-4",children:[t.jsx("div",{className:"text-sm text-slate-400",children:"Est. Budget"}),t.jsx("div",{className:"text-2xl font-semibold",children:Ae(ie.grand)})]}),t.jsxs("div",{className:"rounded-2xl bg-slate-800/60 p-4",children:[t.jsx("div",{className:"text-sm text-slate-400",children:"After Grants"}),t.jsx("div",{className:"text-2xl font-semibold",children:Ae(Math.max(0,ie.afterGrant))})]}),t.jsxs("div",{className:"rounded-2xl bg-slate-800/60 p-4",children:[t.jsx("div",{className:"text-sm text-slate-400",children:"Stage"}),t.jsx("div",{className:"text-2xl font-semibold",children:o.profile.stage})]})]}),t.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[t.jsx("button",{className:"rounded-lg border border-slate-700 px-3 py-2 text-sm hover:bg-slate-800",onClick:we,children:"Export budget CSV"}),t.jsx("button",{className:"rounded-lg border border-slate-700 px-3 py-2 text-sm hover:bg-slate-800",onClick:B,children:"Export full JSON"})]})]})]})]}):t.jsxs("section",{className:"relative overflow-hidden rounded-2xl border border-surface-700 banner-studio p-6 h-[85vh] flex flex-col",children:[t.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 bg-gradient-to-b from-surface-900/40 via-transparent to-surface-900/40"}),t.jsxs("div",{className:"relative h-full flex flex-col",children:[t.jsxs("div",{className:"mb-4 pb-4 border-b border-surface-700/50",children:[t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h2",{className:"text-lg md:text-xl font-semibold text-surface-50",children:"Strategic Planning"}),t.jsx("p",{className:"text-xs md:text-sm text-surface-200 mt-1",children:o.catalogAnalysisComplete?"Based on your catalog analysis, let's create a data-driven release plan":"Share your goals and constraints to build a customized project roadmap"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"w-10 h-10 rounded-lg bg-surface-700 border border-surface-600 flex items-center justify-center font-semibold text-surface-200 text-sm",children:[C.total,"/3"]}),t.jsxs("button",{onClick:L,className:"hidden md:flex text-sm text-surface-300 hover:text-surface-200 px-3 py-2 rounded-lg hover:bg-surface-700/50 transition-colors items-center gap-1",title:"Skip to roadmap generation",children:["Skip",t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),t.jsx("button",{onClick:L,className:"md:hidden mt-3 w-full text-center text-sm text-surface-300 hover:text-surface-200 py-2.5 rounded-lg hover:bg-surface-700/50 transition-colors border border-surface-700/50",title:"Skip to roadmap generation",children:"Skip to roadmap "})]}),t.jsxs("div",{className:"flex-1 flex flex-col md:flex-row gap-4 min-h-0",children:[t.jsx("div",{className:"flex-1 flex flex-col min-w-0",children:t.jsx(On,{messages:P,onSendMessage:ae,className:"flex-1"})}),t.jsxs("div",{className:"hidden md:flex md:w-72 lg:w-80 bg-surface-800/50 rounded-xl border border-surface-700/50 p-4 flex-col flex-shrink-0 max-h-full overflow-y-auto",children:[t.jsxs("div",{className:"mb-3",children:[t.jsx("h3",{className:"text-sm font-semibold text-surface-200 mb-1",children:"Quick Topics"}),t.jsx("p",{className:"text-xs text-surface-300",children:"Click to add"})]}),t.jsx("div",{className:"space-y-2 flex-1",children:gc.slice(0,8).map((d,p)=>t.jsx("button",{className:"w-full text-left text-xs px-3 py-2 rounded-lg bg-surface-700/30 hover:bg-primary-600/20 border border-surface-600/30 hover:border-primary-500/30 transition-all text-surface-300 hover:text-surface-100",onClick:()=>ae(d),children:d},p))}),t.jsxs("div",{className:"mt-4 pt-3 border-t border-surface-700/50",children:[t.jsxs("div",{className:"text-xs text-surface-300 mb-2",children:["Progress: ",t.jsxs("span",{className:"text-primary-400 font-semibold",children:[C.total," / 3"]})]}),t.jsx("div",{className:"w-full bg-surface-700 rounded-full h-1.5",children:t.jsx("div",{className:"bg-primary-500 h-1.5 rounded-full transition-all duration-500",style:{width:`${Math.min(100,C.total/3*100)}%`}})})]})]})]}),C.total>=3&&t.jsx("div",{className:"mt-6 bg-primary-600/10 border border-primary-500/30 rounded-xl p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-primary-200",children:"Planning Complete"}),t.jsx("div",{className:"text-xs text-surface-200 mt-0.5",children:"Ready to generate your strategic roadmap"})]}),t.jsxs("button",{onClick:L,className:"px-5 py-2.5 bg-primary-600 hover:bg-primary-700 text-white rounded-lg text-sm font-medium transition-colors flex items-center gap-2",children:["Generate Roadmap",t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})}),C.total>=1&&C.total<3&&t.jsx("div",{className:"mt-4 bg-yellow-500/10 border border-yellow-500/30 rounded-xl p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"text-sm text-yellow-300",children:[3-C.total," more response",3-C.total!==1?"s":""," recommended for better recommendations."]}),t.jsx("button",{onClick:L,className:"px-3 py-1.5 bg-yellow-600/20 hover:bg-yellow-600/30 text-yellow-200 rounded-lg text-sm transition-colors",children:"Continue Anyway "})]})})]})]})})]}):t.jsx(vl,{onStart:()=>{c(d=>({...d,onboardingComplete:!0,lastActiveTab:"catalog-analyzer"})),k("catalog-analyzer"),A(!1)},onSkip:()=>{c(d=>({...d,onboardingComplete:!0})),A(!1)},hasExistingData:o.profile.artistName!==""||o.budget.length>0})]})}const Or="tester-id",br="tester-metadata";function Os(){const e=Date.now().toString(36),r=Math.random().toString(36).substring(2,15);return`tester-${e}-${r}`}function Rr(){try{const e=localStorage.getItem(Or),r=localStorage.getItem(br),n=new Date().toISOString(),a="1.4.0";if(e&&r){const s=JSON.parse(r);return s.lastVisit=n,s.sessionCount+=1,localStorage.setItem(br,JSON.stringify(s)),s}else{const s=Os(),i={id:s,firstVisit:n,lastVisit:n,sessionCount:1,version:a};return localStorage.setItem(Or,s),localStorage.setItem(br,JSON.stringify(i)),i}}catch(e){return console.error("Failed to manage tester identity:",e),{id:Os(),firstVisit:new Date().toISOString(),lastVisit:new Date().toISOString(),sessionCount:1,version:"1.4.0"}}}function Wn(){try{return!localStorage.getItem(Or)}catch{return!0}}function _c(){const[e,r]=v.useState(!1),[n,a]=v.useState(!1);if(v.useEffect(()=>{const i=Wn();a(i);const l=Rr();if(i||l.sessionCount<=2){r(!0);const o=setTimeout(()=>r(!1),8e3);return()=>clearTimeout(o)}},[]),!e)return null;const s=Rr();return t.jsx("div",{className:"fixed top-4 right-4 z-50 max-w-md",children:t.jsx("div",{className:"rounded-xl border border-primary-500/30 bg-surface-800/95 backdrop-blur p-4 shadow-xl",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-primary-500/20 flex items-center justify-center",children:t.jsx("span",{className:"text-2xl",children:""})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-sm font-semibold text-primary-100 mb-1",children:n?"Welcome to Testing!":"Welcome Back!"}),t.jsx("p",{className:"text-xs text-surface-300 leading-relaxed mb-2",children:n?t.jsx(t.Fragment,{children:"Your session data will be saved automatically. Test features over multiple dayswe'll remember your progress!"}):t.jsxs(t.Fragment,{children:["Session ",s.sessionCount,"  Testing since ",new Date(s.firstVisit).toLocaleDateString()]})}),t.jsx("div",{className:"flex items-center gap-2 text-xs text-surface-400",children:t.jsxs("span",{className:"inline-flex items-center gap-1",children:[t.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Anonymous ID: ",s.id.slice(-8)]})})]}),t.jsx("button",{onClick:()=>r(!1),className:"flex-shrink-0 text-surface-400 hover:text-surface-200 transition-colors","aria-label":"Dismiss",children:t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})})})}function wc(){return t.jsxs("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#18181b",flexDirection:"column",gap:"1rem"},children:[t.jsx("div",{style:{color:"#a1a1aa",fontSize:20},children:"Loading authentication..."}),t.jsx("div",{style:{color:"#71717a",fontSize:14},children:"Please wait while we verify your session"})]})}function Bn(){var a;let e=null,r=!0;try{const s=Di();e=s.user,r=s.isLoaded}catch{console.log(" Running in anonymous mode (Clerk disabled)")}if(!r)return t.jsx(wc,{});const n=e==null?void 0:e.id;return n?console.log(" Authenticated as:",((a=e.primaryEmailAddress)==null?void 0:a.emailAddress)||n):console.log(" Running in anonymous mode"),t.jsxs(t.Fragment,{children:[t.jsx(_c,{}),t.jsx(jc,{userId:n})]})}function kc(){return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-studio p-6",children:t.jsxs("div",{className:"w-full max-w-md",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsxs("h1",{className:"text-3xl font-bold text-surface-50 mb-2",children:["Artist Roadmap ",t.jsx("span",{className:"text-primary-400",children:"PRO"})]}),t.jsx("p",{className:"text-surface-300",children:"Professional A&R tools for music industry professionals"})]}),t.jsx("div",{className:"flex justify-center",children:t.jsx(No,{appearance:{elements:{rootBox:"w-full",card:"bg-surface-900 border border-surface-700 shadow-2xl",headerTitle:"text-surface-50",headerSubtitle:"text-surface-300",socialButtonsBlockButton:"bg-surface-800 border-surface-700 text-surface-100 hover:bg-surface-700",formButtonPrimary:"bg-primary-600 hover:bg-primary-700 text-white",formFieldInput:"bg-surface-800 border-surface-700 text-surface-50",formFieldLabel:"text-surface-200",footerActionLink:"text-primary-400 hover:text-primary-300",identityPreviewText:"text-surface-200",identityPreviewEditButton:"text-primary-400"}},routing:"hash",signUpUrl:"#/sign-up"})}),t.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[t.jsxs("div",{className:"p-4 rounded-lg bg-surface-900/50 border border-surface-700",children:[t.jsx("div",{className:"text-2xl mb-2",children:""}),t.jsx("div",{className:"text-sm font-medium text-surface-200",children:"Multi-Artist"}),t.jsx("div",{className:"text-xs text-surface-400 mt-1",children:"Manage 20+ artists"})]}),t.jsxs("div",{className:"p-4 rounded-lg bg-surface-900/50 border border-surface-700",children:[t.jsx("div",{className:"text-2xl mb-2",children:""}),t.jsx("div",{className:"text-sm font-medium text-surface-200",children:"Team Workspaces"}),t.jsx("div",{className:"text-xs text-surface-400 mt-1",children:"Collaborate with A&R team"})]}),t.jsxs("div",{className:"p-4 rounded-lg bg-surface-900/50 border border-surface-700",children:[t.jsx("div",{className:"text-2xl mb-2",children:""}),t.jsx("div",{className:"text-sm font-medium text-surface-200",children:"Analytics"}),t.jsx("div",{className:"text-xs text-surface-400 mt-1",children:"Data-driven decisions"})]})]}),t.jsx("div",{className:"mt-8 text-center text-xs text-surface-400",children:t.jsxs("p",{children:["By signing in, you agree to our"," ",t.jsx("a",{href:"#",className:"text-primary-400 hover:text-primary-300",children:"Terms of Service"})," ","and"," ",t.jsx("a",{href:"#",className:"text-primary-400 hover:text-primary-300",children:"Privacy Policy"})]})})]})})}function Sc(){return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-studio p-6",children:t.jsxs("div",{className:"w-full max-w-md",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsxs("h1",{className:"text-3xl font-bold text-surface-50 mb-2",children:["Artist Roadmap ",t.jsx("span",{className:"text-primary-400",children:"PRO"})]}),t.jsx("p",{className:"text-surface-300",children:"Join music industry professionals managing their rosters"})]}),t.jsx("div",{className:"flex justify-center",children:t.jsx(Co,{appearance:{elements:{rootBox:"w-full",card:"bg-surface-900 border border-surface-700 shadow-2xl",headerTitle:"text-surface-50",headerSubtitle:"text-surface-300",socialButtonsBlockButton:"bg-surface-800 border-surface-700 text-surface-100 hover:bg-surface-700",formButtonPrimary:"bg-primary-600 hover:bg-primary-700 text-white",formFieldInput:"bg-surface-800 border-surface-700 text-surface-50",formFieldLabel:"text-surface-200",footerActionLink:"text-primary-400 hover:text-primary-300",identityPreviewText:"text-surface-200",identityPreviewEditButton:"text-primary-400"}},routing:"hash",signInUrl:"#/sign-in"})}),t.jsxs("div",{className:"mt-8 space-y-3",children:[t.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-surface-900/50 border border-surface-700",children:[t.jsx("div",{className:"text-green-400 mt-0.5",children:""}),t.jsxs("div",{className:"text-sm text-surface-200",children:[t.jsx("div",{className:"font-medium",children:"Free Forever"}),t.jsx("div",{className:"text-xs text-surface-400 mt-0.5",children:"Manage up to 20 artists, 3 team members"})]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-surface-900/50 border border-surface-700",children:[t.jsx("div",{className:"text-green-400 mt-0.5",children:""}),t.jsxs("div",{className:"text-sm text-surface-200",children:[t.jsx("div",{className:"font-medium",children:"Cloud Sync"}),t.jsx("div",{className:"text-xs text-surface-400 mt-0.5",children:"Access your portfolio from any device"})]})]}),t.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-surface-900/50 border border-surface-700",children:[t.jsx("div",{className:"text-green-400 mt-0.5",children:""}),t.jsxs("div",{className:"text-sm text-surface-200",children:[t.jsx("div",{className:"font-medium",children:"Team Collaboration"}),t.jsx("div",{className:"text-xs text-surface-400 mt-0.5",children:"Invite colleagues to your label workspace"})]})]})]}),t.jsx("div",{className:"mt-8 text-center text-xs text-surface-400",children:t.jsxs("p",{children:["By signing up, you agree to our"," ",t.jsx("a",{href:"#",className:"text-primary-400 hover:text-primary-300",children:"Terms of Service"})," ","and"," ",t.jsx("a",{href:"#",className:"text-primary-400 hover:text-primary-300",children:"Privacy Policy"})]})})]})})}function Nc(){const e=Us();let r=null;try{const{signOut:n}=dn();r=async()=>{await n()}}catch{r=null}return v.useEffect(()=>{let n=!0;return(async()=>{try{r&&await r()}finally{try{localStorage.removeItem("artist-roadmap-vite-v1");const a=Object.keys(localStorage);for(const s of a)s.startsWith("artist-roadmap-portfolio-")&&localStorage.removeItem(s)}catch{}n&&e("/sign-in",{replace:!0})}})(),()=>{n=!1}},[e]),t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-studio p-6",children:t.jsxs("div",{className:"w-full max-w-md text-center",children:[t.jsx("div",{className:"text-2xl font-semibold text-surface-50 mb-2",children:"Signing out"}),t.jsx("div",{className:"text-surface-300",children:"Please wait while we securely end your session."}),t.jsx("div",{className:"mt-6 inline-block animate-spin rounded-full h-8 w-8 border-2 border-surface-600 border-t-primary-500"})]})})}function Cc(){return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-950 via-surface-950 to-primary-900 flex items-center justify-center p-4",children:t.jsxs("div",{className:"w-full max-w-2xl",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-4xl font-bold text-primary-100 mb-3",children:"Create Your Organization"}),t.jsx("p",{className:"text-lg text-surface-300",children:"Set up your label or team workspace to collaborate with your A&R staff"})]}),t.jsx("div",{className:"bg-surface-900/80 backdrop-blur-sm rounded-2xl shadow-2xl border border-surface-700/50 p-8",children:t.jsx(Oo,{appearance:{elements:{rootBox:"w-full",card:"bg-transparent shadow-none",headerTitle:"text-primary-100 text-2xl",headerSubtitle:"text-surface-300",formButtonPrimary:"bg-primary-600 hover:bg-primary-700 text-white",formFieldInput:"bg-surface-800 border-surface-600 text-surface-100",formFieldLabel:"text-surface-200",identityPreviewText:"text-surface-200",identityPreviewEditButton:"text-primary-400 hover:text-primary-300"}},skipInvitationScreen:!1})}),t.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-surface-900/60 backdrop-blur-sm rounded-xl p-4 border border-surface-700/30",children:[t.jsx("div",{className:"text-primary-400 text-2xl mb-2",children:""}),t.jsx("h3",{className:"text-surface-100 font-semibold mb-1",children:"Team Collaboration"}),t.jsx("p",{className:"text-surface-400 text-sm",children:"Invite A&R staff, managers, and analysts to collaborate on your roster"})]}),t.jsxs("div",{className:"bg-surface-900/60 backdrop-blur-sm rounded-xl p-4 border border-surface-700/30",children:[t.jsx("div",{className:"text-primary-400 text-2xl mb-2",children:""}),t.jsx("h3",{className:"text-surface-100 font-semibold mb-1",children:"Role-Based Access"}),t.jsx("p",{className:"text-surface-400 text-sm",children:"Admin, Manager, and Analyst roles with different permission levels"})]}),t.jsxs("div",{className:"bg-surface-900/60 backdrop-blur-sm rounded-xl p-4 border border-surface-700/30",children:[t.jsx("div",{className:"text-primary-400 text-2xl mb-2",children:""}),t.jsx("h3",{className:"text-surface-100 font-semibold mb-1",children:"Shared Portfolio"}),t.jsx("p",{className:"text-surface-400 text-sm",children:"Manage up to 50 artists together with team analytics and insights"})]})]})]})})}function Pc(){return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-950 via-surface-950 to-primary-900 flex items-center justify-center p-4",children:t.jsxs("div",{className:"w-full max-w-2xl",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-4xl font-bold text-primary-100 mb-3",children:"Your Organizations"}),t.jsx("p",{className:"text-lg text-surface-300",children:"Switch between your labels and teams"})]}),t.jsx("div",{className:"bg-surface-900/80 backdrop-blur-sm rounded-2xl shadow-2xl border border-surface-700/50 p-8",children:t.jsx(Uo,{appearance:{elements:{rootBox:"w-full",card:"bg-transparent shadow-none",headerTitle:"text-primary-100 text-2xl",headerSubtitle:"text-surface-300",organizationSwitcherTrigger:"bg-surface-800 border-surface-600 text-surface-100 hover:bg-surface-700",organizationPreview:"text-surface-200",organizationSwitcherPreviewButton:"text-primary-400 hover:text-primary-300",formButtonPrimary:"bg-primary-600 hover:bg-primary-700 text-white"}},hidePersonal:!1})}),t.jsx("div",{className:"mt-6 bg-surface-900/60 backdrop-blur-sm rounded-xl p-4 border border-surface-700/30",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"text-2xl",children:""}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-surface-100 font-semibold mb-1",children:"Personal vs Organization"}),t.jsx("p",{className:"text-surface-400 text-sm",children:"Your personal account is for individual use. Organizations allow team collaboration with shared portfolios and role-based permissions."})]})]})})]})})}function Ac(){return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-950 via-surface-950 to-primary-900 flex items-center justify-center p-4",children:t.jsxs("div",{className:"w-full max-w-5xl",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-4xl font-bold text-primary-100 mb-3",children:"Organization Settings"}),t.jsx("p",{className:"text-lg text-surface-300",children:"Manage your team, invite members, and configure settings"})]}),t.jsx("div",{className:"bg-surface-900/80 backdrop-blur-sm rounded-2xl shadow-2xl border border-surface-700/50 p-8",children:t.jsx(Mo,{appearance:{elements:{rootBox:"w-full",card:"bg-transparent shadow-none",headerTitle:"text-primary-100 text-2xl",headerSubtitle:"text-surface-300",navbar:"bg-surface-800 border-surface-600",navbarButton:"text-surface-300 hover:text-primary-400 hover:bg-surface-700",navbarButtonActive:"text-primary-400 bg-surface-700",pageScrollBox:"bg-transparent",formButtonPrimary:"bg-primary-600 hover:bg-primary-700 text-white",formFieldInput:"bg-surface-800 border-surface-600 text-surface-100",formFieldLabel:"text-surface-200",memberListButton:"bg-surface-800 hover:bg-surface-700 text-surface-100",badge:"bg-primary-600 text-white",table:"border-surface-700",tableHead:"bg-surface-800 text-surface-200",tableBody:"text-surface-300"}}})}),t.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-surface-900/60 backdrop-blur-sm rounded-xl p-4 border border-surface-700/30",children:[t.jsx("div",{className:"flex items-center gap-2 mb-2",children:t.jsx("span",{className:"bg-red-600 text-white text-xs font-bold px-2 py-1 rounded",children:"ADMIN"})}),t.jsx("p",{className:"text-surface-400 text-sm",children:"Full access: Manage team, settings, and all portfolios. Can invite members and assign roles."})]}),t.jsxs("div",{className:"bg-surface-900/60 backdrop-blur-sm rounded-xl p-4 border border-surface-700/30",children:[t.jsx("div",{className:"flex items-center gap-2 mb-2",children:t.jsx("span",{className:"bg-primary-600 text-white text-xs font-bold px-2 py-1 rounded",children:"MANAGER"})}),t.jsx("p",{className:"text-surface-400 text-sm",children:"Can create, edit, and delete artists. Can view all analytics and export data. Cannot manage team."})]}),t.jsxs("div",{className:"bg-surface-900/60 backdrop-blur-sm rounded-xl p-4 border border-surface-700/30",children:[t.jsx("div",{className:"flex items-center gap-2 mb-2",children:t.jsx("span",{className:"bg-surface-600 text-white text-xs font-bold px-2 py-1 rounded",children:"ANALYST"})}),t.jsx("p",{className:"text-surface-400 text-sm",children:"View-only access: Can view portfolios and analytics. Cannot create, edit, or delete artists."})]})]})]})})}const Br="fe434cc7ce2241938a9440d2026c4302",$n="https://trentbecknell.github.io/soundsexpensive/",Ec=["playlist-read-private","playlist-read-collaborative","user-library-read","user-read-email"].join(" ");async function Yc(){const e=Rs(16),r=Rs(128);localStorage.setItem("spotify_auth_state",e),localStorage.setItem("spotify_code_verifier",r);const n=await Mc(r);return`https://accounts.spotify.com/authorize?${new URLSearchParams({client_id:Br,response_type:"code",redirect_uri:$n,state:e,scope:Ec,code_challenge_method:"S256",code_challenge:n}).toString()}`}async function Tc(e,r){const n=localStorage.getItem("spotify_auth_state"),a=localStorage.getItem("spotify_code_verifier");if(!n||r!==n)throw new Error("State mismatch - possible CSRF attack");if(!a)throw new Error("Code verifier not found");const s=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"authorization_code",code:e,redirect_uri:$n,client_id:Br,code_verifier:a})});if(!s.ok)throw new Error("Failed to exchange code for token");const i=await s.json();return localStorage.setItem("spotify_access_token",i.access_token),localStorage.setItem("spotify_refresh_token",i.refresh_token),localStorage.setItem("spotify_token_expiry",String(Date.now()+i.expires_in*1e3)),localStorage.removeItem("spotify_auth_state"),localStorage.removeItem("spotify_code_verifier"),i.access_token}async function qn(){const e=localStorage.getItem("spotify_access_token"),r=localStorage.getItem("spotify_refresh_token"),n=localStorage.getItem("spotify_token_expiry");if(!e)return null;if(n&&Date.now()>=parseInt(n)){if(!r)return null;try{const a=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"refresh_token",refresh_token:r,client_id:Br})});if(!a.ok)return localStorage.removeItem("spotify_access_token"),localStorage.removeItem("spotify_refresh_token"),localStorage.removeItem("spotify_token_expiry"),null;const s=await a.json();return localStorage.setItem("spotify_access_token",s.access_token),localStorage.setItem("spotify_token_expiry",String(Date.now()+s.expires_in*1e3)),s.access_token}catch(a){return console.error("Failed to refresh token:",a),null}}return e}async function Zc(e){const r=await qn();if(!r)throw new Error("Not authenticated");const n=await fetch(`https://api.spotify.com/v1/playlists/${e}`,{headers:{Authorization:`Bearer ${r}`}});if(!n.ok)throw new Error(`Failed to fetch playlist: ${n.statusText}`);const a=await n.json(),s=a.tracks.items.filter(i=>i.track!==null).map(i=>({id:i.track.id,name:i.track.name,artists:i.track.artists.map(l=>l.name),album:i.track.album.name,duration_ms:i.track.duration_ms,preview_url:i.track.preview_url}));return{id:a.id,name:a.name,description:a.description||"",tracks:s,total_tracks:s.length}}async function Qc(e){const r=await qn();if(!r)throw new Error("Not authenticated");const n=[];for(let s=0;s<e.length;s+=100)n.push(e.slice(s,s+100));const a=[];for(const s of n){const i=await fetch(`https://api.spotify.com/v1/audio-features?ids=${s.join(",")}`,{headers:{Authorization:`Bearer ${r}`}});if(!i.ok)throw new Error(`Failed to fetch audio features: ${i.statusText}`);const l=await i.json();a.push(...l.audio_features.filter(o=>o!==null))}return a}function Xc(e){return{tempo_bpm:e.tempo,danceability:e.danceability,energy:e.energy,valence:e.valence,acousticness:e.acousticness,instrumentalness:e.instrumentalness,speechiness:e.speechiness,loudness_db:e.loudness,duration_seconds:e.duration_ms/1e3,key:e.key,mode:e.mode===1?"major":"minor",key_confidence:1,dynamic_range_db:8,stereo_width:.7,peak_db:-1,rms_db:e.loudness+3,crest_factor:8}}function Rs(e){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return crypto.getRandomValues(new Uint8Array(e)).reduce((a,s)=>a+r[s%r.length],"")}async function Mc(e){const n=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",n);return Oc(a)}function Oc(e){const r=new Uint8Array(e);let n="";for(const a of r)n+=String.fromCharCode(a);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Dt(){const[e,r]=v.useState("processing"),[n,a]=v.useState(null);return v.useEffect(()=>{(async()=>{try{const i=new URLSearchParams(window.location.search),l=i.get("code"),o=i.get("state"),c=i.get("error");if(c)throw new Error(`Spotify authorization failed: ${c}`);if(!l||!o)throw new Error("Missing authorization code or state");const f=localStorage.getItem("spotify_auth_state");if(o!==f)throw new Error("State mismatch - possible CSRF attack");await Tc(l,o),r("success"),setTimeout(()=>{window.location.href="/soundsexpensive/#catalog-analyzer"},2e3)}catch(i){console.error("Spotify callback error:",i),a(i instanceof Error?i.message:"Unknown error"),r("error")}})()},[]),t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center p-6",children:t.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-8 max-w-md w-full",children:[e==="processing"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"flex justify-center mb-4",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-400"})}),t.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-2",children:"Connecting to Spotify..."}),t.jsx("p",{className:"text-gray-300 text-center",children:"Please wait while we complete the authentication."})]}),e==="success"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"flex justify-center mb-4",children:t.jsx("div",{className:"rounded-full bg-green-500/20 p-3",children:t.jsx("svg",{className:"w-12 h-12 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),t.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-2",children:"Successfully Connected!"}),t.jsx("p",{className:"text-gray-300 text-center",children:"Redirecting you back to the Catalog Analyzer..."})]}),e==="error"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"flex justify-center mb-4",children:t.jsx("div",{className:"rounded-full bg-red-500/20 p-3",children:t.jsx("svg",{className:"w-12 h-12 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),t.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-2",children:"Connection Failed"}),t.jsx("p",{className:"text-red-300 text-center mb-4",children:n}),t.jsx("button",{onClick:()=>window.location.href="/soundsexpensive/#catalog-analyzer",className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded transition",children:"Return to Catalog Analyzer"})]})]})})}function Rc(e,r,n,a){const s=!!(a||r);return{FORCE_ANON:s,ENABLE_CLERK:!s&&!r}}function Ic({children:e}){const{loaded:r}=dn();return r?t.jsx(t.Fragment,{children:e}):t.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#18181b"},children:t.jsx("div",{style:{color:"#a1a1aa",fontSize:20},children:"Loading authentication..."})})}const Uc="pk_test_YW11c2luZy1wZW5ndWluLTI3LmNsZXJrLmFjY291bnRzLmRldiQ";function Lc(){try{const e=window.location.search||"",r=window.location.hash||"",n=/[?&]anon=1(?!\d)/.test(e),a=r.includes("?")?r.substring(r.indexOf("?")):"",s=/[?&]anon=1(?!\d)/.test(a);return n||s?(localStorage.setItem("artist-roadmap-force-anon","1"),!0):localStorage.getItem("artist-roadmap-force-anon")==="1"}catch{return!1}}const Vn=!0,Gn=(()=>{try{return window.location.host||""}catch{return""}})(),Dc=Lc(),{FORCE_ANON:zc,ENABLE_CLERK:Ht}=Rc(Gn,Vn,!0,Dc);window.__AUTH_FLAGS__={FORCE_ANON:zc,ENABLE_CLERK:Ht,HOST:Gn,IS_PROD_BUILD:Vn};const ze=Rr(),Hn=Wn();window.__TESTER__={id:ze.id,sessionCount:ze.sessionCount,isNewUser:Hn,firstVisit:ze.firstVisit,lastVisit:ze.lastVisit};console.log(Hn?` Welcome, tester ${ze.id}! Your session data will be saved across visits.`:` Welcome back! Session ${ze.sessionCount}  First visit: ${new Date(ze.firstVisit).toLocaleDateString()}`);console.assert(!Ht,"[Auth] ENABLE_CLERK must be false on prod/public hosts");Ht||console.warn("[Auth] Running in anonymous mode. Clerk is disabled for this environment.");const Is=window.location.pathname.includes("/callback")||window.location.search.includes("code=")&&window.location.search.includes("state="),Fc=()=>t.jsx(Ls,{children:t.jsxs(Ds,{children:[t.jsx(Se,{path:"/sign-in/*",element:t.jsx(Nt,{children:t.jsx(kc,{})})}),t.jsx(Se,{path:"/sign-up/*",element:t.jsx(Nt,{children:t.jsx(Sc,{})})}),t.jsx(Se,{path:"/sign-out",element:t.jsxs(t.Fragment,{children:[t.jsx(st,{children:t.jsx(Nc,{})}),t.jsx(Nt,{children:t.jsx(Vr,{to:"/sign-in",replace:!0})})]})}),t.jsx(Se,{path:"/create-organization",element:t.jsx(st,{children:t.jsx(Cc,{})})}),t.jsx(Se,{path:"/organizations",element:t.jsx(st,{children:t.jsx(Pc,{})})}),t.jsx(Se,{path:"/organization-profile",element:t.jsx(st,{children:t.jsx(Ac,{})})}),t.jsx(Se,{path:"/callback",element:t.jsx(Dt,{})}),t.jsx(Se,{path:"/*",element:t.jsxs(t.Fragment,{children:[t.jsx(st,{children:t.jsx(Bn,{})}),t.jsx(Nt,{children:t.jsx(Vr,{to:"/sign-in",replace:!0})})]})})]})}),Wc=()=>t.jsx(Ls,{children:t.jsxs(Ds,{children:[t.jsx(Se,{path:"/callback",element:t.jsx(Dt,{})}),t.jsx(Se,{path:"/*",element:t.jsx(Bn,{})})]})});Qn(document.getElementById("root")).render(t.jsx(u.StrictMode,{children:t.jsx(fl,{children:Ht?t.jsx(Mn,{publishableKey:Uc,children:t.jsx(Ic,{children:Is?t.jsx(Dt,{}):t.jsx(Fc,{})})}):t.jsx(t.Fragment,{children:Is?t.jsx(Dt,{}):t.jsx(Wc,{})})})}));try{const e=Xn();"serviceWorker"in navigator&&navigator.serviceWorker.register("/soundsexpensive/sw.js").catch(()=>{})}catch{}export{Dn as G,Gc as M,yl as T,Qc as a,qn as b,Xc as c,Yc as d,Jc as e,Zc as f,Hc as g,Pl as i,Kc as s};
