const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/GrantDiscovery-BJKg9wNt.js","assets/vendor-react-qlUKr35t.js","assets/vendor-DRYpiXEa.js","assets/vendor-clerk-Amc1Y_id.js","assets/flags-Y1Kcqn3e.js","assets/flags-BJqO5oyO.css","assets/vendor-recharts-CRQ0LcWq.js","assets/GrantApplicationTracker-DjLM3V-M.js","assets/MixAnalyzer-CrBQggA5.js","assets/workers-C2qbLtHH.js","assets/CatalogAnalyzer-D5wXwhum.js","assets/PortfolioDashboard-BklTmWlD.js","assets/ArtistComparisonView-DL2qzvuk.js","assets/PortfolioAnalytics-rquHezNt.js","assets/TourPlanner-BxTDmO3J.js","assets/MasterPlan-Drf5IzPJ.js","assets/pricing-RT0dD_qj.js","assets/TalentFinder-CSL8teUc.js","assets/testerContact-Bnwc-oM4.js","assets/MerchPlanner-B0I3-CUn.js","assets/ClerkApp-kmCKT3FG.js"])))=>i.map(i=>d[i]);
import{g as _t}from"./flags-Y1Kcqn3e.js";import{r as y,R as N,j as e,u as wt,b as Nt,c as kt,H as St,d as At,e as Ne}from"./vendor-react-qlUKr35t.js";import{R as ke,B as Ct,C as Se,X as Ae,Y as Ce,T as Te,a as Tt,L as Pt,b as Et}from"./vendor-recharts-CRQ0LcWq.js";import"./vendor-DRYpiXEa.js";import"./vendor-clerk-Amc1Y_id.js";const Dt="modulepreload",It=function(t){return"/soundsexpensive/"+t},Pe={},S=function(a,i,r){let o=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),c=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));o=Promise.allSettled(i.map(p=>{if(p=It(p),p in Pe)return;Pe[p]=!0;const x=p.endsWith(".css"),h=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${h}`))return;const g=document.createElement("link");if(g.rel=x?"stylesheet":Dt,x||(g.as="script"),g.crossOrigin="",g.href=p,c&&g.setAttribute("nonce",c),document.head.appendChild(g),x)return new Promise((f,_)=>{g.addEventListener("load",f),g.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${p}`)))})}))}function d(s){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=s,window.dispatchEvent(c),!c.defaultPrevented)throw s}return o.then(s=>{for(const c of s||[])c.status==="rejected"&&d(c.reason);return a().catch(d)})},T=[{key:"craft",title:"Craft (writing & performance)",help:"How consistent and developed are your songwriting, vocal or instrumental skills? 1 = emerging, 5 = world-class"},{key:"catalog",title:"Catalog (song inventory)",help:"How many finished, releasable songs do you have and how strong are they? 1 = a few rough ideas, 5 = large, release-ready catalog"},{key:"brand",title:"Brand & Visuals",help:"Do you have a clear sound, visual identity, and assets (photos, artwork, colors)?"},{key:"team",title:"Team & Partners",help:"Do you have consistent collaborators, management, booking, or label partners?"},{key:"audience",title:"Audience & Engagement",help:"Do you have a measurable and engaged audience across platforms?"},{key:"ops",title:"Ops (finance & legal)",help:"Are your business operations, rights ownership, and finances organised?"}],B=[{key:"craft",systemMessage:"Let's talk about your musical abilities. Tell me about your songwriting process, performance experience, or technical skills. For example, do you write your own songs? Play instruments? Produce?",suggestions:["I write and produce my own music","I collaborate with other songwriters","I'm mainly focused on performing","I'm learning production right now"]},{key:"catalog",systemMessage:"Let's discuss your song catalog. How many finished songs do you have? Are they released or unreleased? Think about both quantity and quality.",suggestions:["I have several demos","I release music regularly","Working on my first EP","Building a collection of singles"]},{key:"brand",systemMessage:"Tell me about your artist brand and visual identity. Do you have a consistent look, logo, or aesthetic? What story does your visual presence tell?",suggestions:["I have professional photos","Working on my visual style","My aesthetic is DIY/authentic","Need help with branding"]},{key:"team",systemMessage:"Who's on your team? This could include managers, producers, bookers, or regular collaborators. Don't worry if you're doing everything yourself right now.",suggestions:["I'm indie/self-managed","I work with a producer","Have some key collaborators","Looking for management"]},{key:"audience",systemMessage:"Let's talk about your audience and engagement. This includes social media followers, streaming numbers, live show attendance, or any other ways you connect with fans.",suggestions:["Building social following","Regular live shows","Growing streaming numbers","Focused on content creation"]},{key:"ops",systemMessage:"How organized are your music business operations? Think about things like copyright registration, streaming accounts, financial tracking, or legal agreements.",suggestions:["Registered for PROs","Have distribution setup","Track my expenses","Need legal help"]}];function Fe({messages:t,onSendMessage:a,suggestions:i=[],className:r="",placeholder:o="Type your response or question..."}){const[d,s]=y.useState(""),[c,p]=y.useState(!1),x=N.useRef(!1);y.useEffect(()=>{const g=t[t.length-1];if(!x.current){x.current=!0,p(!1);return}if((g==null?void 0:g.type)==="user"){p(!0);const f=setTimeout(()=>{p(!1)},800);return()=>clearTimeout(f)}else p(!1)},[t]);const h=g=>{g.preventDefault(),d.trim()&&(a(d),s(""))};return e.jsxs("div",{className:`flex flex-col h-full ${r} bg-surface-800/50 rounded-xl border border-surface-700`,children:[e.jsx("div",{className:"border-b border-surface-700/50 px-6 py-4 bg-surface-800/80",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-surface-50",children:"Strategic Planning Assistant"}),e.jsx("p",{className:"text-sm text-surface-400 mt-0.5",children:t.filter(g=>g.type==="user").length===0?"Let's create a data-driven roadmap for your next release":`${t.filter(g=>g.type==="user").length} response${t.filter(g=>g.type==="user").length===1?"":"s"} â€¢ Building your strategic plan`})]}),c&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-surface-400",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-primary-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Analyzing..."})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[t.map(g=>e.jsx("div",{className:`max-w-[85%] rounded-lg p-4 ${g.type==="user"?"bg-primary-600/20 ml-auto text-surface-50 border border-primary-500/30":g.type==="suggestion"?"bg-surface-700/30 text-surface-200 border border-surface-600/30":"bg-surface-700/50 text-surface-100 border border-surface-600/40"}`,children:e.jsx("p",{className:"text-sm leading-relaxed",children:g.content})},g.id)),i.length>0&&e.jsx("div",{className:"space-y-2","aria-label":"suggestions",children:i.map((g,f)=>e.jsx("button",{type:"button",className:"max-w-[85%] text-left w-full rounded-lg p-3 bg-surface-700/30 text-surface-200 border border-surface-600/30 hover:bg-surface-700/50 transition",onClick:()=>a(g),children:g},f))}),c&&e.jsx("div",{className:"max-w-[85%]",children:e.jsx("div",{className:"bg-surface-700/50 border border-surface-600/40 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex space-x-1.5",children:[e.jsx("div",{className:"w-2 h-2 bg-primary-400 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-primary-400 rounded-full animate-bounce",style:{animationDelay:"0.15s"}}),e.jsx("div",{className:"w-2 h-2 bg-primary-400 rounded-full animate-bounce",style:{animationDelay:"0.3s"}})]}),e.jsx("span",{className:"text-xs text-surface-400",children:"Analyzing your response..."})]})})})]}),e.jsxs("form",{onSubmit:h,className:"px-6 py-4 border-t border-surface-700/50 bg-surface-800/40",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"text",value:d,onChange:g=>s(g.target.value),placeholder:o,className:"flex-1 bg-surface-700/50 rounded-lg px-4 py-3 text-sm text-surface-100 placeholder-surface-400 border border-surface-600 focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 transition-all outline-none",disabled:c}),e.jsx("button",{type:"submit","aria-label":"Send",disabled:!d.trim()||c,className:"px-6 py-3 bg-primary-600 hover:bg-primary-700 disabled:bg-surface-600 disabled:cursor-not-allowed text-white rounded-lg text-sm font-medium transition-all",children:c?e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin","aria-hidden":"true"}):e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]}),e.jsx("div",{className:"mt-2 text-xs text-surface-500",children:"Press Enter to send â€¢ Be specific about your goals and constraints"})]})]})}const se=()=>Math.random().toString(36).slice(2,9);function Mt({initialAnswers:t,onFinish:a,onCancel:i}){const[r,o]=y.useState(0),[d,s]=y.useState(()=>({...t})),[c,p]=y.useState(!1),[x,h]=y.useState(()=>{const v=B[0];return[{id:se(),type:"system",content:v.systemMessage}]}),g=y.useRef(null);y.useEffect(()=>{if(r<B.length){const v=B[r];h(b=>[...b,{id:se(),type:"system",content:v.systemMessage}])}},[r]);const f=v=>{h(b=>[...b,{id:se(),type:"user",content:v}])};y.useEffect(()=>{const v=b=>{g.current&&(b.key==="ArrowLeft"&&o(w=>Math.max(0,w-1)),b.key==="ArrowRight"&&o(w=>Math.min(T.length,w+1)),b.key==="Enter"&&r===T.length&&a(d),b.key==="Escape"&&i())};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[r,d,a,i]);const _=T[r],A=r===T.length;return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",role:"dialog","aria-modal":"true","aria-labelledby":"wizard-title",ref:g,children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:i,role:"presentation"}),e.jsxs("div",{className:"relative w-full max-w-5xl rounded-2xl bg-surface-800 p-6",role:"document",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-primary-100",children:"Guided assessment"}),e.jsx("p",{className:"text-sm text-surface-300 mb-4",children:"Answer a few short prompts to help compute your maturity baseline. You can edit values later."}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsx("div",{className:"flex-1",children:A?e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-sm font-medium",children:"Review your answers"}),e.jsx("div",{className:"mt-3 grid gap-2",children:T.map(v=>e.jsxs("div",{className:"flex items-center justify-between rounded p-2 bg-surface-700/40",children:[e.jsx("div",{className:"text-sm",children:v.title}),e.jsxs("div",{className:"text-sm font-medium",children:[d[v.key]," / 5"]})]},v.key))}),e.jsx("div",{className:"mt-3 text-xs text-surface-400",children:"Note: These values will be used as the baseline for the automated maturity calculation. You can tweak them later from the profile screen."})]}):e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-sm font-medium",id:"wizard-title",children:_.title}),e.jsx("div",{className:"text-xs text-surface-400 mb-2",children:_.help}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("input",{"aria-label":`${_.title} score`,type:"range",min:1,max:5,step:1,value:d[_.key],onChange:v=>s(b=>({...b,[_.key]:parseInt(v.target.value)})),className:"w-full"}),e.jsx("div",{className:"w-12 text-center text-surface-100","aria-live":"polite",children:d[_.key]})]})]})}),e.jsxs("div",{className:"w-full md:w-96",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Need help?"}),e.jsx("button",{onClick:()=>p(!c),className:"text-xs px-2 py-1 rounded border border-surface-600 hover:bg-surface-700",children:c?"Hide chat":"Show chat"})]}),c&&!A&&e.jsx("div",{className:"h-[400px] border border-surface-700 rounded-lg",children:e.jsx(Fe,{messages:x,onSendMessage:f,suggestions:B[Math.min(r,B.length-1)].suggestions,placeholder:"Type your message..."})})]})]}),e.jsxs("div",{className:"flex justify-between mt-6",children:[e.jsxs("div",{children:[e.jsx("button",{className:"rounded px-3 py-2 border border-surface-700 text-xs",onClick:()=>o(v=>Math.max(0,v-1)),disabled:r===0,children:"Prev"}),e.jsx("button",{className:"ml-2 rounded px-3 py-2 border border-primary-600 text-xs text-primary-100",onClick:()=>s(v=>({...v,[T[Math.max(0,Math.min(T.length-1,r))].key]:Math.min(5,(v[T[Math.max(0,Math.min(T.length-1,r))].key]||1)+1)})),children:"+1"})]}),e.jsx("div",{children:A?e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"rounded px-3 py-2 border border-surface-700 text-xs",onClick:()=>o(T.length-1),children:"Back"}),e.jsx("button",{className:"rounded px-3 py-2 bg-accent-600 text-xs text-accent-50",onClick:()=>a(d),children:"Save & Finish"})]}):e.jsx("button",{className:"rounded px-3 py-2 bg-primary-600 text-xs text-primary-50",onClick:()=>o(v=>Math.min(T.length,v+1)),children:"Next"})})]})]})]})}function Rt({message:t}){return e.jsx("div",{className:"fixed right-6 bottom-6 z-60 rounded-lg bg-surface-700/90 border border-surface-600 px-4 py-2 text-sm text-surface-50 shadow-lg",children:t})}function Lt({onStart:t,onSkip:a,hasExistingData:i}){return e.jsx("div",{className:"min-h-[80vh] flex items-center justify-center p-6",children:e.jsxs("div",{className:"max-w-3xl w-full",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-surface-700 banner-studio p-8 md:p-12 shadow-2xl",children:[e.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 bg-gradient-to-b from-surface-900/40 via-transparent to-surface-900/40"}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br from-primary-500 to-primary-600 mb-6 shadow-lg",children:e.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:"Artist Roadmap PRO"}),e.jsx("p",{className:"text-lg text-surface-200 max-w-2xl mx-auto",children:"Professional A&R platform for data-driven artist development and strategic release planning"})]}),e.jsxs("div",{className:"mb-10",children:[e.jsx("h2",{className:"text-xl font-semibold text-primary-300 mb-6 text-center",children:"Artist Development Workflow"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4 p-5 rounded-xl bg-surface-800/50 border border-surface-700 hover:border-primary-600/50 transition-colors",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-primary-600/20 border-2 border-primary-600 flex items-center justify-center",children:e.jsx("span",{className:"text-xl font-bold text-primary-400",children:"1"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Baseline Assessment"}),e.jsx("p",{className:"text-surface-200 text-sm leading-relaxed",children:"Analyze artist catalog with objective metrics. Spotify integration or direct upload provides quality scores, consistency analysis, sonic identity, and trend detection. Establish data-driven baseline."}),e.jsxs("div",{className:"mt-3 flex gap-2 text-xs",children:[e.jsx("span",{className:"px-2 py-1 rounded bg-primary-600/20 text-primary-300",children:"Quality Metrics"}),e.jsx("span",{className:"px-2 py-1 rounded bg-primary-600/20 text-primary-300",children:"Consistency Scoring"}),e.jsx("span",{className:"px-2 py-1 rounded bg-primary-600/20 text-primary-300",children:"Trend Analysis"})]})]})]}),e.jsxs("div",{className:"flex gap-4 p-5 rounded-xl bg-surface-800/50 border border-surface-700 hover:border-accent-600/50 transition-colors",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-accent-600/20 border-2 border-accent-600 flex items-center justify-center",children:e.jsx("span",{className:"text-xl font-bold text-accent-400",children:"2"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Strategic Planning"}),e.jsx("p",{className:"text-surface-200 text-sm leading-relaxed",children:"Define release strategy based on catalog data. AI assistant guides format selection (EP/Album/Singles), timeline planning, budget allocation, and goal setting. Evidence-based recommendations."}),e.jsxs("div",{className:"mt-3 flex gap-2 text-xs",children:[e.jsx("span",{className:"px-2 py-1 rounded bg-accent-600/20 text-accent-300",children:"Format Selection"}),e.jsx("span",{className:"px-2 py-1 rounded bg-accent-600/20 text-accent-300",children:"Timeline Planning"}),e.jsx("span",{className:"px-2 py-1 rounded bg-accent-600/20 text-accent-300",children:"Budget Modeling"})]})]})]}),e.jsxs("div",{className:"flex gap-4 p-5 rounded-xl bg-surface-800/50 border border-surface-700 hover:border-green-600/50 transition-colors",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-600/20 border-2 border-green-600 flex items-center justify-center",children:e.jsx("span",{className:"text-xl font-bold text-green-400",children:"3"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Roadmap Generation"}),e.jsx("p",{className:"text-surface-200 text-sm leading-relaxed",children:"System generates comprehensive roadmap from catalog + planning data. Includes realistic timelines, budget estimates by phase, task management, and grant opportunities. Fully customizable post-generation."}),e.jsxs("div",{className:"mt-3 flex gap-2 text-xs",children:[e.jsx("span",{className:"px-2 py-1 rounded bg-green-600/20 text-green-300",children:"Phase Planning"}),e.jsx("span",{className:"px-2 py-1 rounded bg-green-600/20 text-green-300",children:"Budget Breakdown"}),e.jsx("span",{className:"px-2 py-1 rounded bg-green-600/20 text-green-300",children:"Grant Matching"})]})]})]})]})]}),e.jsxs("div",{className:"mb-8 p-6 rounded-xl bg-primary-600/10 border border-primary-600/30",children:[e.jsx("h3",{className:"text-lg font-semibold text-primary-200 mb-3",children:"Evidence-Based Artist Development"}),e.jsxs("p",{className:"text-surface-300 text-sm leading-relaxed",children:["Traditional A&R relies on subjective assessment and generic templates. This platform provides",e.jsx("strong",{children:" objective catalog metrics first"}),", then builds custom strategies based on actual data. Results: More accurate artist positioning, realistic timelines, better resource allocation, and higher probability of successful launches."]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-center",children:[e.jsx("button",{onClick:t,className:"group w-full sm:w-auto px-8 py-4 bg-gradient-to-r from-primary-600 to-primary-500 hover:from-primary-500 hover:to-primary-400 text-surface-50 rounded-xl font-semibold text-lg transition-all shadow-lg hover:shadow-primary-500/50 hover:scale-105",children:e.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Begin Artist Assessment",e.jsx("svg",{className:"w-5 h-5 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})}),i&&e.jsx("button",{onClick:a,className:"w-full sm:w-auto px-6 py-4 border border-surface-600 hover:border-surface-500 text-surface-200 hover:text-white rounded-xl text-sm transition-colors",children:"Skip to Existing Data"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-xs text-surface-300",children:[e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx("span",{children:"â±ï¸"})," Takes about 5-10 minutes"]})," â€¢ ",e.jsx("span",{children:"Your data is saved automatically"})]})})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{className:"relative overflow-hidden p-4 rounded-xl border border-surface-700/50 banner-studio",children:[e.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 bg-gradient-to-b from-surface-900/30 via-transparent to-surface-900/30"}),e.jsxs("div",{className:"relative flex flex-col items-center",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary-600/20 flex items-center justify-center mb-2",children:e.jsx("svg",{className:"w-5 h-5 text-primary-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6l4 2"})})}),e.jsx("div",{className:"text-sm font-medium text-white mb-1",children:"Data-Driven"}),e.jsx("div",{className:"text-xs text-surface-200",children:"Decisions based on real analysis"})]})]}),e.jsxs("div",{className:"relative overflow-hidden p-4 rounded-xl border border-surface-700/50 banner-studio",children:[e.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 bg-gradient-to-b from-surface-900/30 via-transparent to-surface-900/30"}),e.jsxs("div",{className:"relative flex flex-col items-center",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-accent-600/20 flex items-center justify-center mb-2",children:e.jsx("svg",{className:"w-5 h-5 text-accent-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-4.197-2.42A1 1 0 009 9.618v4.764a1 1 0 001.555.832l4.197-2.42a1 1 0 000-1.726z"})})}),e.jsx("div",{className:"text-sm font-medium text-white mb-1",children:"AI-Powered"}),e.jsx("div",{className:"text-xs text-surface-200",children:"Smart recommendations for your stage"})]})]}),e.jsxs("div",{className:"relative overflow-hidden p-4 rounded-xl border border-surface-700/50 banner-studio",children:[e.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 bg-gradient-to-b from-surface-900/30 via-transparent to-surface-900/30"}),e.jsxs("div",{className:"relative flex flex-col items-center",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-600/20 flex items-center justify-center mb-2",children:e.jsx("svg",{className:"w-5 h-5 text-green-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("div",{className:"text-sm font-medium text-white mb-1",children:"Auto-Saved"}),e.jsx("div",{className:"text-xs text-surface-200",children:"Never lose your progress"})]})]})]})]})})}function zt({catalogAnalysisData:t,roadmapGenerated:a,projectType:i,projectUnits:r,savedGrantsCount:o,applicationsCount:d,onContinue:s,onReAnalyze:c,onViewRoadmap:p,onViewGrants:x}){const h=()=>{const g=new Date().getHours();return g<12?"Good morning":g<18?"Good afternoon":"Good evening"};return e.jsx("div",{className:"min-h-[80vh] flex items-center justify-center p-6",children:e.jsxs("div",{className:"max-w-5xl w-full",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-surface-700 p-6 mb-8 banner-studio text-center",children:[e.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 bg-gradient-to-r from-surface-900/50 via-surface-900/30 to-transparent"}),e.jsxs("div",{className:"relative",children:[e.jsx("h1",{className:"text-4xl font-bold text-surface-50 mb-2",children:h()}),e.jsx("p",{className:"text-sm text-surface-300",children:"Artist Development Session"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[e.jsxs("div",{className:"rounded-2xl border border-surface-700 bg-surface-800/50 p-6 backdrop-blur",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-surface-300 mb-1",children:"Catalog Analysis"}),e.jsx("div",{className:"text-2xl font-bold text-surface-50",children:t?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-green-400",children:"âœ“"}),t.total_tracks," tracks"]}):e.jsx("span",{className:"text-surface-300",children:"Not yet"})})]}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-primary-600/20 flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-primary-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]}),t&&e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-surface-300",children:"Avg Score:"}),e.jsxs("span",{className:"text-surface-200 font-medium",children:[t.average_score.toFixed(0),"/100"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-surface-300",children:"Consistency:"}),e.jsxs("span",{className:"text-surface-200 font-medium",children:[t.sonic_identity.consistency_score.toFixed(0),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-surface-300",children:"Trend:"}),e.jsx("span",{className:`font-medium ${t.score_trend==="improving"?"text-green-400":t.score_trend==="declining"?"text-orange-400":"text-surface-300"}`,children:t.score_trend==="improving"?"â†— Improving":t.score_trend==="declining"?"â†˜ Declining":"â†’ Stable"})]})]})]}),e.jsxs("div",{className:"rounded-2xl border border-surface-700 bg-surface-800/50 p-6 backdrop-blur",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-surface-300 mb-1",children:"Project Roadmap"}),e.jsx("div",{className:"text-2xl font-bold text-surface-50",children:a?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-green-400",children:"âœ“"}),i]}):e.jsx("span",{className:"text-surface-300",children:"Not set"})})]}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-accent-600/20 flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"ðŸ“‹"})})]}),a&&e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-surface-300",children:"Tracks:"}),e.jsx("span",{className:"text-surface-200 font-medium",children:r})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-surface-300",children:"Status:"}),e.jsx("span",{className:"text-accent-300 font-medium",children:"In Progress"})]})]})]}),e.jsxs("div",{className:"rounded-2xl border border-surface-700 bg-surface-800/50 p-6 backdrop-blur",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-surface-300 mb-1",children:"Grant Opportunities"}),e.jsx("div",{className:"text-2xl font-bold text-surface-50",children:o>0?e.jsxs("span",{className:"flex items-center gap-2",children:[o," saved"]}):e.jsx("span",{className:"text-surface-300",children:"Explore"})})]}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-600/20 flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-surface-300",children:"Applications:"}),e.jsx("span",{className:"text-surface-200 font-medium",children:d})]}),o>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-surface-300",children:"Status:"}),e.jsx("span",{className:"text-green-300 font-medium",children:"Active"})]})]})]})]}),e.jsxs("div",{className:"rounded-2xl border border-surface-700 bg-surface-800/50 p-8 backdrop-blur mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-surface-100 mb-6",children:"Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:s,className:"group p-6 rounded-xl border-2 border-primary-600 bg-primary-600/10 hover:bg-primary-600/20 transition-all text-left",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-primary-600/30 flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-primary-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 9l3 3m0 0l-3 3m3-3H8m13 0a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("div",{className:"text-xs px-2 py-1 rounded bg-primary-600/30 text-primary-200",children:"Resume"})]}),e.jsx("h3",{className:"text-lg font-semibold text-surface-100 mb-2 group-hover:text-primary-200 transition-colors",children:"Continue Session"}),e.jsx("p",{className:"text-sm text-surface-200",children:"Resume artist development planning from last checkpoint"})]}),e.jsxs("button",{onClick:p,className:"group p-6 rounded-xl border border-surface-600 hover:border-accent-600 bg-surface-800/30 hover:bg-accent-600/10 transition-all text-left",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-accent-600/20 flex items-center justify-center mb-3",children:e.jsx("svg",{className:"w-6 h-6 text-accent-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsx("h3",{className:"text-lg font-semibold text-surface-100 mb-2 group-hover:text-accent-200 transition-colors",children:a?"View Roadmap":"Generate Roadmap"}),e.jsx("p",{className:"text-sm text-surface-200",children:a?"Review timeline, budget, and tasks":"Start planning your next release"})]}),e.jsxs("button",{onClick:c,className:"group p-6 rounded-xl border border-surface-600 hover:border-primary-600 bg-surface-800/30 hover:bg-primary-600/10 transition-all text-left",children:[e.jsx("div",{className:"text-3xl mb-3",children:"ðŸ”„"}),e.jsx("h3",{className:"text-lg font-semibold text-surface-100 mb-2 group-hover:text-primary-200 transition-colors",children:t?"Update Catalog Analysis":"Analyze Your Catalog"}),e.jsx("p",{className:"text-sm text-surface-200",children:t?"Add new tracks or refresh your analysis":"Upload tracks to get data-driven insights"})]}),e.jsxs("button",{onClick:x,className:"group p-6 rounded-xl border border-surface-600 hover:border-green-600 bg-surface-800/30 hover:bg-green-600/10 transition-all text-left",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-600/20 flex items-center justify-center mb-3",children:e.jsx("svg",{className:"w-6 h-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-surface-100 mb-2 group-hover:text-green-200 transition-colors",children:"Explore Grant Opportunities"}),e.jsx("p",{className:"text-sm text-surface-200",children:o>0?`${o} saved funding opportunities`:"Identify funding opportunities for artist development"})]})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-surface-800/50 border border-surface-700 text-sm text-surface-300",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{children:"All data is automatically saved. Resume artist development planning anytime."})]})})]})})}function Ot({portfolio:t,onSwitchArtist:a,onNewArtist:i,onDeleteArtist:r,currentArtistName:o}){const[d,s]=y.useState(!1),c=y.useRef(null);y.useEffect(()=>{const f=_=>{c.current&&!c.current.contains(_.target)&&s(!1)};if(d)return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[d]);const p=t.artists.find(f=>f.id===t.activeArtistId),x=t.artists.filter(f=>f.id!==t.activeArtistId),h=f=>{var _,A;return((A=(_=f.state)==null?void 0:_.profile)==null?void 0:A.stage)||"Unknown"},g=f=>{var A,v;const _=f.profile.genres||((v=(A=f.state)==null?void 0:A.profile)==null?void 0:v.genres);return _?_.length>30?_.substring(0,30)+"...":_:"No genre"};return e.jsxs("div",{className:"relative",ref:c,children:[e.jsxs("button",{onClick:()=>s(!d),className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-surface-700 bg-surface-800/50 hover:bg-surface-800 transition-colors text-left min-w-[200px]",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-surface-100 truncate",children:o}),e.jsxs("div",{className:"text-xs text-surface-400",children:[t.artists.length," artist",t.artists.length!==1?"s":""]})]}),e.jsx("svg",{className:`w-4 h-4 text-surface-400 transition-transform ${d?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),d&&e.jsxs("div",{className:"absolute top-full left-0 mt-2 w-80 max-h-96 overflow-y-auto rounded-lg border border-surface-700 bg-surface-900 shadow-2xl z-[9999]",children:[p&&e.jsxs("div",{className:"p-3 border-b border-surface-700 bg-primary-600/10",children:[e.jsx("div",{className:"text-xs text-surface-400 mb-1",children:"Current Artist"}),e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-semibold text-surface-50 truncate",children:p.profile.artistName||"Unnamed Artist"}),e.jsxs("div",{className:"text-xs text-surface-300 mt-0.5",children:[g(p)," â€¢ ",h(p)]})]}),e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-primary-600/20 text-primary-300 border border-primary-600/30",children:"Active"})]})]}),x.length>0&&e.jsxs("div",{className:"p-2",children:[e.jsx("div",{className:"text-xs text-surface-400 px-2 py-1 mb-1",children:"Switch to Artist"}),x.map(f=>e.jsxs("div",{className:"group flex items-center justify-between px-2 py-2 rounded-lg hover:bg-surface-800 transition-colors",children:[e.jsxs("button",{onClick:()=>{a(f.id),s(!1)},className:"flex-1 text-left min-w-0 mr-2",children:[e.jsx("div",{className:"text-sm font-medium text-surface-200 group-hover:text-surface-50 truncate",children:f.profile.artistName||"Unnamed Artist"}),e.jsxs("div",{className:"text-xs text-surface-400 mt-0.5",children:[g(f)," â€¢ ",h(f)]}),e.jsxs("div",{className:"text-xs text-surface-500 mt-0.5",children:["Modified: ",new Date(f.lastModified).toLocaleDateString()]})]}),e.jsx("button",{onClick:_=>{_.stopPropagation(),r(f.id),s(!1)},className:"opacity-0 group-hover:opacity-100 p-1.5 rounded text-surface-500 hover:text-red-400 hover:bg-red-900/20 transition-all",title:"Delete artist",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},f.id))]}),e.jsx("div",{className:"p-2 border-t border-surface-700",children:e.jsxs("button",{onClick:()=>{i(),s(!1)},className:"w-full flex items-center justify-center gap-2 px-3 py-2 rounded-lg bg-primary-600 hover:bg-primary-700 text-white text-sm font-medium transition-colors",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Artist"]})}),e.jsx("div",{className:"p-3 border-t border-surface-700 bg-surface-800/30",children:e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-surface-100",children:t.artists.length}),e.jsx("div",{className:"text-xs text-surface-400",children:"Artists"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-surface-100",children:t.artists.filter(f=>{var _;return(_=f.state)==null?void 0:_.catalogAnalysisComplete}).length}),e.jsx("div",{className:"text-xs text-surface-400",children:"Analyzed"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-surface-100",children:t.artists.filter(f=>{var _;return(_=f.state)==null?void 0:_.roadmapGenerated}).length}),e.jsx("div",{className:"text-xs text-surface-400",children:"Roadmaps"})]})]})})]})]})}const We="ar-page-tips-v1";function qt(){try{const t=localStorage.getItem(We);if(t)return JSON.parse(t)}catch{}return{byTab:{},enabled:!0}}function Gt(t){try{localStorage.setItem(We,JSON.stringify(t))}catch{}}const Bt={"catalog-analyzer":["Upload several released tracks to analyze consistency and quality trends.","Use the insights to decide EP vs. Singles vs. Album before budgeting."],roadmap:["This board mirrors release phases. Add tasks per phase and owners to keep it accountable.","Adjust tracks and weeks in Project to auto-update timeline and phase budgets."],"master-plan":["Master Plan summarizes project scope, ROI signals, and key risks for stakeholders."],grants:["Save grants to track deadlines. Start an application to create a checklist and reminders.","Match genre and location filters to narrow opportunities quickly."],applications:["Keep application notes and reminders here. Status changes will bubble up in navigation."],"mix-analyzer":["Run mixes against benchmarks by genre. Address the top 1â€“2 issues per iteration."],portfolio:["Manage multiple artists. Compare two or more to see relative strengths and opportunities."],live:["Estimate draw to plan routing and budgets. Increase accuracy as you collect show data."],talent:["Use recommendations by role, then copy an outreach brief. Add your contact to speed replies.","Try External Sources (beta) to search credits and local live activity."],merch:["Start with tees and stickers; adjust quantities by expected show draw. Use Copy quote to email vendors fast.","Add items to your budget to track costs in the Growth phase. Iterate quantities after first runs."]};function Ft({tab:t}){const[a,i]=y.useState(()=>qt()),r=Bt[t]||[],o=a.byTab[t]||{index:0,dismissed:!1};if(y.useEffect(()=>{Gt(a)},[a]),!y.useMemo(()=>a.enabled&&r.length>0&&!o.dismissed,[a.enabled,r.length,o.dismissed]))return e.jsx("div",{className:"mb-3 flex items-center justify-end",children:e.jsx("button",{className:"text-[11px] rounded border border-surface-600 text-surface-300 px-2 py-1 hover:bg-surface-700",onClick:()=>i(g=>({...g,enabled:!0,byTab:{...g.byTab,[t]:{index:0,dismissed:!1}}})),children:"Show tips"})});const s=Math.min(o.index,r.length-1),c=r[s],p=()=>i(g=>({...g,byTab:{...g.byTab,[t]:{index:(s+1)%r.length,dismissed:!1}}})),x=()=>i(g=>({...g,byTab:{...g.byTab,[t]:{index:s,dismissed:!0}}})),h=()=>i(g=>({...g,enabled:!1}));return e.jsxs("div",{className:"mb-4 rounded-xl border border-surface-700 bg-surface-800/70 p-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"text-xs text-surface-200 leading-relaxed",children:[e.jsx("span",{className:"mr-2 inline-flex h-5 w-5 items-center justify-center rounded-full bg-primary-700/40 text-primary-200 text-[11px] align-top",children:"i"}),c]}),e.jsxs("div",{className:"flex items-center gap-2",children:[r.length>1&&e.jsx("button",{className:"text-[11px] rounded border border-primary-600 text-primary-200 px-2 py-1 hover:bg-primary-700/30",onClick:p,children:"Next"}),e.jsx("button",{className:"text-[11px] rounded border border-surface-600 text-surface-300 px-2 py-1 hover:bg-surface-700",onClick:x,children:"Donâ€™t show for this page"}),e.jsx("button",{className:"text-[11px] rounded border border-surface-600 text-surface-400 px-2 py-1 hover:bg-surface-700",onClick:h,children:"Hide all"})]})]}),r.length>1&&e.jsxs("div",{className:"mt-2 text-[11px] text-surface-400",children:["Tip ",s+1," of ",r.length]})]})}const Wt=[{id:"the-weeknd",name:"The Weeknd",personality:{experimentalness:.8,genreFluidity:.9,productionStyle:.9,workflowPreference:.7,performanceEnergy:.8,collaborationStyle:.6,commercialAppeal:.9,audienceConnection:.8,emotionalDepth:.9,artisticIntensity:.9},maturity:{creative:"Innovating",technical:"Established",business:"Transforming",audience:"Transforming",brand:"Transforming"},sonics:{danceability:.8,energy:.7,valence:.4,instrumentalness:.1,acousticness:.2,speechiness:.1,tempo:.6,complexity:.8,dynamics:.7,textureDepth:.9},primaryGenres:["R&B","Pop"],secondaryGenres:["New Wave","Dance","Alternative"],keyInfluences:["Michael Jackson","Prince","Depeche Mode"],targetAudience:{demographics:["18-34","Urban","Global"],psychographics:["Trend-conscious","Night life","Fashion-forward"],platforms:["Spotify","TikTok","Instagram","YouTube"]}},{id:"taylor-swift",name:"Taylor Swift",personality:{experimentalness:.7,genreFluidity:.8,productionStyle:.9,workflowPreference:.9,performanceEnergy:.8,collaborationStyle:.7,commercialAppeal:1,audienceConnection:1,emotionalDepth:.9,artisticIntensity:.8},maturity:{creative:"Transforming",technical:"Established",business:"Transforming",audience:"Transforming",brand:"Transforming"},sonics:{danceability:.7,energy:.6,valence:.6,instrumentalness:.1,acousticness:.4,speechiness:.2,tempo:.6,complexity:.7,dynamics:.8,textureDepth:.8},primaryGenres:["Pop","Country Pop"],secondaryGenres:["Folk","Alternative","Rock"],keyInfluences:["Shania Twain","Stevie Nicks","Paul McCartney"],targetAudience:{demographics:["13-34","Female-leaning","Global"],psychographics:["Story-focused","Relationship-oriented","Personal growth"],platforms:["Spotify","Instagram","TikTok","YouTube"]}},{id:"kendrick-lamar",name:"Kendrick Lamar",personality:{experimentalness:.9,genreFluidity:.8,productionStyle:.9,workflowPreference:.8,performanceEnergy:.9,collaborationStyle:.7,commercialAppeal:.8,audienceConnection:.9,emotionalDepth:1,artisticIntensity:1},maturity:{creative:"Transforming",technical:"Innovating",business:"Established",audience:"Transforming",brand:"Transforming"},sonics:{danceability:.6,energy:.8,valence:.4,instrumentalness:.2,acousticness:.3,speechiness:.9,tempo:.7,complexity:1,dynamics:.9,textureDepth:.9},primaryGenres:["Hip Hop","Conscious Rap"],secondaryGenres:["Jazz Rap","West Coast Hip Hop","Soul"],keyInfluences:["Tupac","Eminem","Andre 3000"],targetAudience:{demographics:["16-35","Urban","Global"],psychographics:["Socially conscious","Lyric-focused","Cultural"],platforms:["Spotify","YouTube","Twitter"]}}],$e={experimentalness:{high:["experiment","innovative","unique","different","new","boundary","push"],low:["traditional","classic","proven","established","conventional"]},genreFluidity:{high:["blend","mix","fusion","cross-genre","diverse"],low:["pure","authentic","traditional","classic"]},productionStyle:{high:["polished","pristine","clean","refined","detailed"],low:["raw","rough","natural","organic","unfiltered"]},workflowPreference:{high:["structured","organized","planned","methodical"],low:["spontaneous","freestyle","improvised","organic"]},performanceEnergy:{high:["energetic","powerful","intense","dynamic","explosive"],low:["subtle","gentle","soft","delicate","understated"]},collaborationStyle:{high:["collaborative","team","together","collective","band"],low:["solo","independent","alone","personal"]},commercialAppeal:{high:["mainstream","popular","accessible","universal","broad"],low:["underground","alternative","niche","experimental"]},audienceConnection:{high:["interactive","engaging","connecting","community"],low:["introspective","personal","private","intimate"]},emotionalDepth:{high:["deep","emotional","intense","passionate","raw"],low:["light","fun","playful","casual","simple"]},artisticIntensity:{high:["focused","dedicated","serious","committed","driven"],low:["relaxed","casual","easy-going","flexible"]}},Ue={danceability:{high:["dance","groove","rhythm","beat","movement"],low:["ambient","atmospheric","floating","abstract"]},energy:{high:["energetic","powerful","intense","driving","strong"],low:["calm","gentle","soft","mellow","subtle"]},valence:{high:["happy","uplifting","positive","bright","joyful"],low:["dark","moody","melancholic","sad","somber"]},instrumentalness:{high:["instrumental","orchestral","symphonic","acoustic"],low:["vocal","lyrics","singing","voice"]},acousticness:{high:["acoustic","unplugged","organic","natural"],low:["electronic","digital","synthetic","processed"]},speechiness:{high:["rap","spoken","words","lyrical","poetry"],low:["melodic","singing","instrumental","humming"]},tempo:{high:["fast","quick","uptempo","rapid","energetic"],low:["slow","downtempo","relaxed","steady"]},complexity:{high:["complex","intricate","layered","sophisticated"],low:["simple","minimal","straightforward","basic"]},dynamics:{high:["dynamic","contrast","varied","range"],low:["consistent","steady","even","stable"]},textureDepth:{high:["rich","dense","layered","textured","full"],low:["minimal","sparse","simple","clean"]}};function Ee(t){const a={personality:{},sonics:{}};return t=t.toLowerCase(),Object.entries($e).forEach(([i,r])=>{const o=i,d=r.high.filter(c=>t.includes(c)).length,s=r.low.filter(c=>t.includes(c)).length;if(d>0||s>0){const c=(d-s+r.high.length)/(r.high.length*2);a.personality[o]=c}}),Object.entries(Ue).forEach(([i,r])=>{const o=i,d=r.high.filter(c=>t.includes(c)).length,s=r.low.filter(c=>t.includes(c)).length;if(d>0||s>0){const c=(d-s+r.high.length)/(r.high.length*2);a.sonics[o]=c}}),a}function $t(t){return Wt.map(i=>{let r=0,o=0;Object.entries(t.personality).forEach(([s,c])=>{const p=s;i.personality[p]&&(r+=1-Math.abs(i.personality[p]-c),o++)}),Object.entries(t.sonics).forEach(([s,c])=>{const p=s;i.sonics[p]&&(r+=1-Math.abs(i.sonics[p]-c),o++)});const d=o>0?r/o:0;return{artist:i,score:d}}).sort((i,r)=>r.score-i.score).map(i=>i.artist).slice(0,3)}function De(t){const a=Object.entries($e).filter(([r])=>!t.personality[r]).map(([r])=>`Tell me more about your ${r}...`),i=Object.entries(Ue).filter(([r])=>!t.sonics[r]).map(([r])=>`How ${r} is your music?`);return[...a,...i]}function Ut(t,a,i){const o=a.filter(h=>h.type==="user").map(h=>h.content).join(" ").toLowerCase(),d={tempo_bpm:Vt(t.sonics),danceability:t.sonics.danceability||.5,energy:t.sonics.energy||.5,valence:t.sonics.valence||.5,acousticness:t.sonics.acousticness,instrumentalness:t.sonics.instrumentalness,speechiness:t.sonics.speechiness,vocal_prominence:Ht(o)},s={positioning:Kt(t,o),themes:Yt(o),audience_problem_solved:Jt(o)},c={artist_name:(i==null?void 0:i.artistName)||"",primary_genres:Zt(o),home_market:(i==null?void 0:i.city)||"",subgenres_tags:Qt(o)},p={vision_statement:Xt(o),time_horizon_months:12,success_kpis:es(o)},x={reference_artists:ts(o),adjacency_focus:ss(t)};return{identity:c,goals:p,influences:x,audio_profile:d,brand_narrative:s,catalog_plan:{planned_releases:4,collaboration_ratio:.3},release_strategy:{cadence_weeks:8,pre_save_push_days:14}}}function Vt(t){return t.tempo?t.tempo*200:t.energy>.7?120:t.energy<.3?80:100}function Ht(t){const a=["vocals","singing","voice","lyrics","storytelling"],i=["instrumental","beat","production","synth"],r=a.filter(d=>t.includes(d)).length,o=i.filter(d=>t.includes(d)).length;return Math.min(1,Math.max(0,(r-o+3)/6))}function Kt(t,a){const i=Object.keys(t.personality),r=Object.keys(t.sonics);let o="";return i.includes("emotionalDepth")&&(o+="emotional "),r.includes("danceability")&&t.sonics.danceability>.6&&(o+="danceable "),r.includes("energy")&&t.sonics.energy>.7&&(o+="energetic "),(a.includes("atmospheric")||a.includes("dreamy"))&&(o+="atmospheric "),o.trim()+" artist with authentic storytelling"}function Yt(t){const a=[];return(t.includes("love")||t.includes("relationship"))&&a.push("Love & Relationships"),(t.includes("empowerment")||t.includes("strength"))&&a.push("Empowerment"),(t.includes("story")||t.includes("personal"))&&a.push("Personal Storytelling"),(t.includes("social")||t.includes("change"))&&a.push("Social Commentary"),(t.includes("healing")||t.includes("uplift"))&&a.push("Healing & Wellness"),(t.includes("fun")||t.includes("party"))&&a.push("Celebration & Joy"),a.length>0?a:["Authentic Expression"]}function Jt(t){return t.includes("healing")||t.includes("comfort")?"Seeking emotional healing and comfort":t.includes("empowerment")||t.includes("strength")?"Need for empowerment and self-confidence":t.includes("dance")||t.includes("energy")?"Desire for uplifting, energetic experiences":t.includes("story")||t.includes("connection")?"Craving authentic connection and relatability":"Seeking authentic artistic expression and emotional connection"}function Zt(t){const a=[];return(t.includes("r&b")||t.includes("soul"))&&a.push("R&B","Soul"),t.includes("pop")&&a.push("Pop"),(t.includes("hip hop")||t.includes("rap"))&&a.push("Hip Hop"),(t.includes("electronic")||t.includes("synth"))&&a.push("Electronic"),t.includes("dance")&&a.push("Dance"),(t.includes("indie")||t.includes("alternative"))&&a.push("Indie","Alternative"),t.includes("folk")&&a.push("Other"),t.includes("jazz")&&a.push("Jazz"),t.includes("gospel")&&a.push("Gospel"),a.length>0?[...new Set(a)]:["Pop"]}function Qt(t){const a=[];return t.includes("neo-soul")&&a.push("Neo-Soul"),t.includes("alternative r&b")&&a.push("Alternative R&B"),t.includes("bedroom pop")&&a.push("Bedroom Pop"),t.includes("indie pop")&&a.push("Indie Pop"),t.includes("dream pop")&&a.push("Dream Pop"),t.includes("afrobeats")&&a.push("Afrobeats"),t.includes("contemporary")&&a.push("Contemporary"),a}function Xt(t){const a=["want to","hope to","dream","vision","goal","aspire"],i=t.split(/[.!?]+/);for(const r of i)if(a.some(o=>r.includes(o)))return r.trim();return"Create authentic music that resonates with listeners and builds meaningful connections"}function es(t){const a=[];return(t.includes("stream")||t.includes("spotify"))&&a.push("MonthlyListeners","StreamsPerRelease"),(t.includes("live")||t.includes("concert")||t.includes("show"))&&a.push("TicketSales"),t.includes("playlist")&&a.push("PlaylistAdds"),(t.includes("social")||t.includes("follow"))&&a.push("SocialFollowers"),(t.includes("sync")||t.includes("tv")||t.includes("film"))&&a.push("SyncPlacements"),t.includes("chart")&&a.push("ChartPosition"),a.length>0?a:["MonthlyListeners","StreamsPerRelease"]}function ts(t){const i=["BeyoncÃ©","SZA","H.E.R.","The Weeknd","Frank Ocean","Solange","Billie Eilish","Lorde","FKA twigs","JhenÃ© Aiko","Summer Walker","Kali Uchis","Daniel Caesar","Tyler Cole","Blood Orange"].filter(r=>t.toLowerCase().includes(r.toLowerCase()));return i.length>0?i:["SZA","H.E.R."]}function ss(t){const a=[];return t.personality.emotionalDepth>.6&&a.push("H.E.R."),t.sonics.danceability>.7&&a.push("BeyoncÃ©"),t.personality.experimentalness>.6&&a.push("FKA twigs"),t.sonics.valence<.4&&a.push("SZA"),a}function ae(t){var a;return{identity:{artist_name:t.profile.artistName||"",primary_genres:t.profile.genres?t.profile.genres.split(",").map(i=>i.trim()).slice(0,3):["Pop"],home_market:t.profile.city||""},goals:{vision_statement:t.profile.elevatorPitch||"Create authentic music that connects with audiences",time_horizon_months:Math.round(t.project.targetWeeks/4)||12,target_markets:t.project.targetMarkets||[]},influences:{reference_artists:["SZA","H.E.R."]},audio_profile:{tempo_bpm:100,danceability:.5,energy:.5,valence:.5},catalog_plan:{planned_releases:t.project.units||3,collaboration_ratio:.3},release_strategy:{cadence_weeks:Math.round(t.project.targetWeeks/t.project.units)||8,pre_save_push_days:14},brand_narrative:{positioning:t.profile.elevatorPitch||"Authentic artist with unique voice",themes:["Authentic Expression"]},resources:{budget_total_usd:((a=t.budget)==null?void 0:a.reduce((i,r)=>i+r.qty*r.unitCost,0))||0}}}const Ve={"R&B":{audio_feature_targets:{tempo_bpm:[70,110],danceability:[.4,.8],energy:[.3,.7],valence:[.2,.7]},release_cadence_weeks:[6,12],engagement_targets:{skip_rate_pct_max:25,save_rate_pct_min:15},adjacent_artist_clusters:["SZA","H.E.R.","Summer Walker","JhenÃ© Aiko"]},Pop:{audio_feature_targets:{tempo_bpm:[90,130],danceability:[.5,.9],energy:[.5,.9],valence:[.4,.8]},release_cadence_weeks:[4,8],engagement_targets:{skip_rate_pct_max:20,save_rate_pct_min:20},adjacent_artist_clusters:["Dua Lipa","The Weeknd","Billie Eilish","Ariana Grande"]},Soul:{audio_feature_targets:{tempo_bpm:[60,100],danceability:[.3,.7],energy:[.2,.6],valence:[.3,.8]},release_cadence_weeks:[8,16],engagement_targets:{skip_rate_pct_max:20,save_rate_pct_min:25},adjacent_artist_clusters:["Solange","Daniel Caesar","Blood Orange","Frank Ocean"]},"Hip Hop":{audio_feature_targets:{tempo_bpm:[70,140],danceability:[.6,.9],energy:[.6,.9],valence:[.3,.8]},release_cadence_weeks:[2,6],engagement_targets:{skip_rate_pct_max:30,save_rate_pct_min:12},adjacent_artist_clusters:["Drake","Kendrick Lamar","J. Cole","Tyler, The Creator"]},Electronic:{audio_feature_targets:{tempo_bpm:[100,150],danceability:[.7,.95],energy:[.7,.95],valence:[.4,.9]},release_cadence_weeks:[3,8],engagement_targets:{skip_rate_pct_max:25,save_rate_pct_min:18},adjacent_artist_clusters:["FKA twigs","ODESZA","Disclosure","Flume"]},Alternative:{audio_feature_targets:{tempo_bpm:[80,120],danceability:[.3,.7],energy:[.4,.8],valence:[.2,.7]},release_cadence_weeks:[6,12],engagement_targets:{skip_rate_pct_max:22,save_rate_pct_min:22},adjacent_artist_clusters:["Lorde","Phoebe Bridgers","Tame Impala","Glass Animals"]}},Ie=Ve.Pop;function as(t){if(t.length===0)return Ie;const a=t[0];return Ve[a]||Ie}function rs(t,a){var o,d;let i=0,r=0;if(t.audio_profile&&a.audio_feature_targets){const s=ns(t.audio_profile,a.audio_feature_targets);i+=s*.3,r+=.3}if(t.release_strategy&&a.release_cadence_weeks){const s=is(t.release_strategy.cadence_weeks,a.release_cadence_weeks)?1:.5;i+=s*.2,r+=.2}if(t.brand_narrative){const s=os(t.brand_narrative);i+=s*.25,r+=.25}if((o=t.identity)!=null&&o.team||t.resources){const s=ls((d=t.identity)==null?void 0:d.team,t.resources);i+=s*.15,r+=.15}if(t.current_metrics){const s=cs(t.current_metrics);i+=s*.1,r+=.1}return r>0?Math.min(1,i/r):.5}function ns(t,a){let i=0,r=0;for(const[o,d]of Object.entries(a))if(t[o]!==void 0&&Array.isArray(d)){const[s,c]=d,p=t[o];if(p>=s&&p<=c)i+=1;else{const x=Math.min(Math.abs(p-s),Math.abs(p-c)),h=(c-s)*.2;i+=Math.max(0,1-x/h)}r++}return r>0?i/r:.5}function is(t,a){return t>=a[0]&&t<=a[1]}function os(t){let a=0;return t.positioning&&t.positioning.length>=10&&(a+=.3),t.themes&&t.themes.length>=2&&(a+=.3),t.audience_problem_solved&&(a+=.2),t.visual_style_tags&&t.visual_style_tags.length>0&&(a+=.2),a}function ls(t,a){let i=0;if(t){const r=Object.values(t).filter(Boolean).length;i+=Math.min(.5,r*.1)}return a!=null&&a.budget_total_usd&&(a.budget_total_usd>=1e4?i+=.3:a.budget_total_usd>=5e3?i+=.2:a.budget_total_usd>=1e3&&(i+=.1)),a!=null&&a.hours_available_per_week&&(a.hours_available_per_week>=20?i+=.2:a.hours_available_per_week>=10&&(i+=.1)),i}function cs(t){let a=0;return t.spotify_monthly_listeners&&(t.spotify_monthly_listeners>=1e4?a+=.4:t.spotify_monthly_listeners>=1e3?a+=.2:t.spotify_monthly_listeners>=100&&(a+=.1)),t.avg_save_rate_pct&&t.avg_save_rate_pct>=15&&(a+=.3),t.avg_skip_rate_pct&&t.avg_skip_rate_pct<=25&&(a+=.3),a}function ds(t,a){var r;const i=[];if(t.audio_profile&&a.audio_feature_targets){const{tempo_bpm:o,danceability:d,energy:s,valence:c}=t.audio_profile,p=a.audio_feature_targets;p.tempo_bpm&&(o<p.tempo_bpm[0]||o>p.tempo_bpm[1])&&i.push(`Consider adjusting tempo to ${p.tempo_bpm[0]}-${p.tempo_bpm[1]} BPM for better genre alignment`),p.danceability&&d<p.danceability[0]&&i.push("Increase danceability with stronger rhythm and groove elements"),p.energy&&s<p.energy[0]&&i.push("Boost energy with dynamic arrangements and compelling hooks")}if(t.release_strategy&&a.release_cadence_weeks){const o=t.release_strategy.cadence_weeks,[d,s]=a.release_cadence_weeks;o>s?i.push(`Release more frequently - aim for every ${s} weeks to maintain momentum`):o<d&&i.push(`Allow more time between releases - ${d} weeks minimum for quality and promotion`)}return t.brand_narrative&&((!t.brand_narrative.themes||t.brand_narrative.themes.length<2)&&i.push("Develop 2-3 core themes to strengthen brand narrative and audience connection"),(!t.brand_narrative.visual_style_tags||t.brand_narrative.visual_style_tags.length===0)&&i.push("Define visual style elements for consistent brand presentation across platforms")),(!((r=t.identity)!=null&&r.team)||Object.values(t.identity.team).filter(Boolean).length<3)&&i.push("Build core team: prioritize producer, mix engineer, and manager relationships"),i}const He=[{id:"nea-gap-001",title:"NEA Grants for Arts Projects",description:"The National Endowment for the Arts' principal grants category supporting arts projects of all sizes in a wide variety of artistic disciplines including music, with focus on artistic excellence and public engagement.",summary:"Federal funding for high-quality arts projects that engage the public",funder_name:"National Endowment for the Arts",funder_website:"https://www.arts.gov",funding_source:"federal",grant_type:"project",category:"general_operating",award_amount:{min:1e4,max:1e5,currency:"USD",typical_amount:25e3},total_funding_available:275e5,number_of_awards:900,eligibility:{geographic_restrictions:["United States"],career_stage:["emerging","developing","established"],organization_type:["nonprofit","tribal_government","state_government","local_government"],genres:["all music genres"],project_type:["concerts","festivals","recordings","educational","community_outreach"],citizenship_requirements:["US organizations only"],nonprofit_status_required:!0,matching_funds_required:!0},requirements:{application_materials:["Project narrative","Detailed budget","Timeline","Staff qualifications","Organizational information","Work samples","Support materials"],supporting_documents:["IRS determination letter","Audited financial statements","Board of directors list","Letters of commitment"],references_required:0,work_samples:{type:"audio or video",quantity:2,format:["mp3","mp4","wav"]},project_proposal:!0,budget_required:!0,timeline_required:!0,evaluation_criteria:["Artistic excellence","Artistic merit","Public engagement","Organizational capacity","Project feasibility"]},timeline:{application_deadline:"2026-02-11",notification_date:"2026-06-15",funding_start_date:"2026-10-01",project_completion_date:"2027-09-30",reporting_deadlines:["2027-04-30","2027-10-30"],application_period_start:"2025-12-01"},renewable:!0,multi_year:!1,overhead_allowed:!0,indirect_costs_allowed:!1,created_at:"2025-10-22T00:00:00Z",updated_at:"2025-10-22T00:00:00Z",tags:["federal","arts","music","public_engagement","professional"],external_id:"NEA-GAP-2026",source_platform:"grants.gov",success_rate:.12,average_award_amount:23500,previous_recipients:["Symphony orchestras","Music festivals","Community music programs"]},{id:"ascap-emerging-001",title:"ASCAP Foundation Emerging Artist Grant",description:"Support for emerging songwriters and composers to develop their craft and advance their careers through mentorship, education, and project funding.",summary:"Career development grants for emerging music creators",funder_name:"ASCAP Foundation",funder_website:"https://www.ascapfoundation.org",funding_source:"private_foundation",grant_type:"individual",category:"artist_development",award_amount:{min:1e3,max:15e3,currency:"USD",typical_amount:5e3},total_funding_available:5e5,number_of_awards:75,eligibility:{geographic_restrictions:["United States","Canada"],age_restrictions:{min_age:18,max_age:35},career_stage:["emerging","developing"],genres:["all music genres","contemporary","classical","jazz","pop","hip-hop"],project_type:["songwriting","composition","recording","education"],citizenship_requirements:["US or Canadian citizens/residents"],previous_grant_restrictions:!1},requirements:{application_materials:["Personal statement","Project description","Budget breakdown","Work samples","Biography","Career goals statement"],supporting_documents:["Tax information","Proof of residency"],references_required:2,work_samples:{type:"audio recordings",quantity:3,format:["mp3","wav"]},project_proposal:!0,budget_required:!0,timeline_required:!1,evaluation_criteria:["Artistic merit","Career potential","Project viability","Financial need","Professional development goals"]},timeline:{application_deadline:"2026-01-15",notification_date:"2026-04-01",funding_start_date:"2026-05-01",project_completion_date:"2027-04-30",reporting_deadlines:["2027-05-15"],application_period_start:"2025-11-01"},renewable:!1,multi_year:!1,overhead_allowed:!1,indirect_costs_allowed:!1,created_at:"2025-10-22T00:00:00Z",updated_at:"2025-10-22T00:00:00Z",tags:["emerging","songwriting","individual","career_development"],external_id:"ASCAP-EAG-2026",source_platform:"ascap_foundation",success_rate:.18,average_award_amount:4800,previous_recipients:["Singer-songwriters","Hip-hop producers","Jazz composers"]},{id:"fa-emergency-001",title:"Fractured Atlas Emergency Relief Fund",description:"Emergency financial assistance for artists facing unexpected hardships that threaten their ability to continue their artistic practice.",summary:"Emergency funding for artists in crisis situations",funder_name:"Fractured Atlas",funder_website:"https://www.fracturedatlas.org",funding_source:"nonprofit",grant_type:"individual",category:"emergency",award_amount:{min:500,max:5e3,currency:"USD",typical_amount:2e3},total_funding_available:2e5,number_of_awards:100,eligibility:{geographic_restrictions:["United States"],career_stage:["emerging","developing","established"],genres:["all music genres"],project_type:["emergency_relief","basic_needs","medical","housing"],citizenship_requirements:["US residents"],income_limitations:{max_annual_income:75e3,currency:"USD"},previous_grant_restrictions:!1},requirements:{application_materials:["Emergency situation description","Financial documentation","Artist statement","Proof of income","Emergency documentation"],supporting_documents:["Bills or invoices","Medical documentation (if applicable)","Bank statements"],references_required:1,work_samples:{type:"portfolio or documentation",quantity:1,format:["pdf","jpg","mp3"]},project_proposal:!1,budget_required:!0,timeline_required:!1,evaluation_criteria:["Severity of emergency","Financial need","Artistic practice impact","Likelihood of recovery"]},timeline:{application_deadline:"2026-12-31",notification_date:"2026-01-15",funding_start_date:"2026-01-20",project_completion_date:"2026-06-30",reporting_deadlines:["2026-07-15"]},renewable:!1,multi_year:!1,overhead_allowed:!1,indirect_costs_allowed:!1,created_at:"2025-10-22T00:00:00Z",updated_at:"2025-10-22T00:00:00Z",tags:["emergency","relief","individual","crisis"],external_id:"FA-ERF-2026",source_platform:"fractured_atlas",success_rate:.45,average_award_amount:1800,previous_recipients:["Independent musicians","Sound artists","Music educators"]},{id:"grammy-edu-001",title:"Grammy Music Education Grant",description:"Funding for music education programs, instrument purchases, and educational technology to enhance music learning in schools and communities.",summary:"Support for music education initiatives and programs",funder_name:"Grammy Foundation",funder_website:"https://www.grammy.org/musiccares",funding_source:"private_foundation",grant_type:"organization",category:"education",award_amount:{min:1e3,max:25e3,currency:"USD",typical_amount:8e3},total_funding_available:1e6,number_of_awards:125,eligibility:{geographic_restrictions:["United States"],organization_type:["schools","nonprofits","community_organizations"],genres:["all music genres"],project_type:["education","instruments","technology","programming"],nonprofit_status_required:!1,matching_funds_required:!1},requirements:{application_materials:["Program description","Budget and justification","Curriculum outline","Student impact metrics","Organizational overview","Educator qualifications"],supporting_documents:["School district approval","Program evaluation plan","Community need assessment"],references_required:3,project_proposal:!0,budget_required:!0,timeline_required:!0,evaluation_criteria:["Educational impact","Program sustainability","Community need","Budget effectiveness","Measurable outcomes"]},timeline:{application_deadline:"2026-03-15",notification_date:"2026-05-30",funding_start_date:"2026-07-01",project_completion_date:"2027-06-30",reporting_deadlines:["2027-01-15","2027-07-15"]},renewable:!0,multi_year:!0,overhead_allowed:!0,indirect_costs_allowed:!1,created_at:"2025-10-22T00:00:00Z",updated_at:"2025-10-22T00:00:00Z",tags:["education","schools","community","instruments"],external_id:"GRAMMY-EDU-2026",source_platform:"grammy_foundation",success_rate:.22,average_award_amount:7500,previous_recipients:["Public schools","Community centers","Youth orchestras"]},{id:"state-arts-001",title:"State Arts Agency Individual Artist Grant",description:"Support for individual artists to create new work, develop their artistic practice, and engage with their communities through high-quality arts programming.",summary:"State-level funding for individual artists and small projects",funder_name:"State Arts Agency",funder_website:"https://www.arts.gov/state-and-regional-arts-organizations",funding_source:"state",grant_type:"individual",category:"artist_development",award_amount:{min:500,max:1e4,currency:"USD",typical_amount:3500},total_funding_available:4e5,number_of_awards:80,eligibility:{geographic_restrictions:["State residents only"],age_restrictions:{min_age:18},career_stage:["emerging","developing","established"],genres:["all music genres"],project_type:["creation","performance","education","community_engagement"],citizenship_requirements:["State residents for minimum 1 year"],previous_grant_restrictions:!0},requirements:{application_materials:["Artist statement","Project description","Budget","Timeline","Work samples","Resume/CV","References"],supporting_documents:["Proof of residency","Tax forms","Venue confirmations (if applicable)"],references_required:2,work_samples:{type:"audio or video",quantity:3,format:["mp3","mp4","wav"]},project_proposal:!0,budget_required:!0,timeline_required:!0,evaluation_criteria:["Artistic quality","Project clarity","Community impact","Artist development","Budget appropriateness"]},timeline:{application_deadline:"2026-02-28",notification_date:"2026-05-15",funding_start_date:"2026-07-01",project_completion_date:"2027-06-30",reporting_deadlines:["2027-07-31"]},renewable:!1,multi_year:!1,overhead_allowed:!1,indirect_costs_allowed:!1,created_at:"2025-10-22T00:00:00Z",updated_at:"2025-10-22T00:00:00Z",tags:["state","individual","artist_development","local"],external_id:"SAA-IAG-2026",source_platform:"state_arts_agency",success_rate:.25,average_award_amount:3200,previous_recipients:["Folk musicians","Electronic producers","Singer-songwriters"]},{id:"fca-emergency-001",title:"Foundation for Contemporary Arts Emergency Grant",description:"Emergency funding for artists facing urgent financial needs that threaten their ability to continue their artistic work and maintain basic living conditions.",summary:"Emergency financial assistance for contemporary artists",funder_name:"Foundation for Contemporary Arts",funder_website:"https://www.foundationforcontemporaryarts.org",funding_source:"private_foundation",grant_type:"individual",category:"emergency",award_amount:{min:1e3,max:1e4,currency:"USD",typical_amount:4e3},total_funding_available:3e5,number_of_awards:60,eligibility:{geographic_restrictions:["United States"],career_stage:["developing","established"],genres:["contemporary","experimental","electronic","avant-garde"],project_type:["emergency_relief","medical","housing","studio_loss"],citizenship_requirements:["US residents"],previous_grant_restrictions:!1},requirements:{application_materials:["Emergency description","Artist statement","Financial documentation","Work samples","Professional references","Income verification"],supporting_documents:["Emergency documentation","Medical bills (if applicable)","Eviction notices (if applicable)","Bank statements"],references_required:2,work_samples:{type:"audio, video, or documentation",quantity:5,format:["mp3","mp4","pdf","jpg"]},project_proposal:!1,budget_required:!0,timeline_required:!1,evaluation_criteria:["Artistic quality","Emergency severity","Professional standing","Financial need","Recovery potential"]},timeline:{application_deadline:"2026-12-31",notification_date:"2026-01-30",funding_start_date:"2026-02-07",project_completion_date:"2026-08-31",reporting_deadlines:["2026-09-15"]},renewable:!1,multi_year:!1,overhead_allowed:!1,indirect_costs_allowed:!1,created_at:"2025-10-22T00:00:00Z",updated_at:"2025-10-22T00:00:00Z",tags:["emergency","contemporary","experimental","individual"],external_id:"FCA-EMG-2026",source_platform:"fca",success_rate:.35,average_award_amount:3800,previous_recipients:["Sound artists","Electronic musicians","Experimental composers"]},{id:"community-arts-001",title:"Community Foundation Arts and Culture Grant",description:"Support for local arts projects that engage community members, celebrate cultural diversity, and strengthen social connections through music and performance.",summary:"Local funding for community-based arts projects",funder_name:"Community Foundation",funder_website:"https://www.cof.org",funding_source:"local",grant_type:"project",category:"community_outreach",award_amount:{min:500,max:7500,currency:"USD",typical_amount:2500},total_funding_available:15e4,number_of_awards:40,eligibility:{geographic_restrictions:["Local region only"],organization_type:["nonprofits","community_groups","schools","individuals"],career_stage:["any"],genres:["all music genres","multicultural","traditional","folk"],project_type:["community_events","education","cultural_celebration","outreach"],nonprofit_status_required:!1,matching_funds_required:!1},requirements:{application_materials:["Project narrative","Community impact plan","Budget","Timeline","Partner confirmations","Evaluation plan"],supporting_documents:["Letters of support","Venue agreements","Marketing plan"],references_required:1,work_samples:{type:"optional portfolio",quantity:2,format:["any"]},project_proposal:!0,budget_required:!0,timeline_required:!0,evaluation_criteria:["Community benefit","Cultural value","Project feasibility","Organizational capacity","Sustainability"]},timeline:{application_deadline:"2026-04-01",notification_date:"2026-06-01",funding_start_date:"2026-07-01",project_completion_date:"2027-06-30",reporting_deadlines:["2027-08-01"]},renewable:!0,multi_year:!1,overhead_allowed:!0,indirect_costs_allowed:!1,created_at:"2025-10-22T00:00:00Z",updated_at:"2025-10-22T00:00:00Z",tags:["community","local","cultural","outreach"],external_id:"CF-ACG-2026",source_platform:"community_foundation",success_rate:.42,average_award_amount:2300,previous_recipients:["Community choirs","Cultural festivals","Youth music programs"]},{id:"recording-dev-001",title:"Recording Industry Development Grant",description:"Funding specifically for recording projects, including studio time, production costs, mixing, mastering, and digital distribution for emerging and developing artists.",summary:"Specialized funding for music recording and production",funder_name:"Music Industry Foundation",funder_website:"https://www.musicindustryfoundation.org",funding_source:"corporate",grant_type:"project",category:"recording",award_amount:{min:2500,max:2e4,currency:"USD",typical_amount:8500},total_funding_available:5e5,number_of_awards:45,eligibility:{geographic_restrictions:["United States","Canada"],career_stage:["emerging","developing"],genres:["pop","rock","hip-hop","r&b","electronic","folk","jazz"],project_type:["recording","EP","album","single"],previous_grant_restrictions:!1},requirements:{application_materials:["Recording project plan","Detailed budget breakdown","Studio selection and timeline","Production team credentials","Distribution strategy","Demo recordings","Artist biography"],supporting_documents:["Studio quotes","Producer agreements","Distribution contracts"],references_required:2,work_samples:{type:"demo recordings",quantity:4,format:["mp3","wav"]},project_proposal:!0,budget_required:!0,timeline_required:!0,evaluation_criteria:["Recording quality potential","Commercial viability","Artist development","Production team strength","Distribution plan"]},timeline:{application_deadline:"2026-01-31",notification_date:"2026-04-15",funding_start_date:"2026-05-01",project_completion_date:"2027-04-30",reporting_deadlines:["2027-05-31"]},renewable:!1,multi_year:!1,overhead_allowed:!0,indirect_costs_allowed:!1,created_at:"2025-10-22T00:00:00Z",updated_at:"2025-10-22T00:00:00Z",tags:["recording","production","industry","development"],external_id:"MIF-RDG-2026",source_platform:"music_industry_foundation",success_rate:.28,average_award_amount:7800,previous_recipients:["Indie bands","Solo artists","Singer-songwriters"]}];function ta(t=90){const a=new Date,i=new Date(a.getTime()+t*24*60*60*1e3);return He.filter(r=>{const o=new Date(r.timeline.application_deadline);return o>=a&&o<=i}).sort((r,o)=>new Date(r.timeline.application_deadline).getTime()-new Date(o.timeline.application_deadline).getTime())}const re={version:"1.0.0",artists:[],activeArtistId:null,settings:{defaultView:"grid",sortBy:"lastModified",sortOrder:"desc"},lastSync:new Date().toISOString()};function us(){return`artist_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function Ke(t){return{id:us(),profile:{artistName:t.profile.artistName||"Unnamed Artist",genres:t.profile.genres,city:t.profile.city},state:t,lastModified:new Date().toISOString(),createdAt:new Date().toISOString()}}function Ye(t){return`artist-roadmap-portfolio-${t||"anonymous"}`}function ms(t){const a=t||"anonymous";return a==="anonymous"?"artist-roadmap-vite-v1":`artist-roadmap-vite-v1-${a}`}function ps(t){const a=Ye(t),i=ms(t);try{const r=localStorage.getItem(a);if(r){const d=JSON.parse(r);let s=!1;return d.artists=d.artists.map(c=>{let p=!1;return c.state.lastActiveTab==="catalog-analyzer"&&(c.state.lastActiveTab="roadmap",p=!0),(c.state.onboardingComplete===!1||c.state.onboardingComplete===void 0)&&(c.state.onboardingComplete=!0,p=!0),c.state.chatPlanningComplete===void 0&&(c.state.chatPlanningComplete=!1,p=!0),p&&(s=!0,c.lastModified=new Date().toISOString()),c}),s&&(console.log("ðŸ”„ Migrated portfolio: assessment optional, chat planning skipped by default"),Y(d,t)),d}const o=localStorage.getItem(i);if(o){const d=JSON.parse(o);console.log("ðŸ“¦ Migrating legacy single-artist data to portfolio format...");const s=Ke(d),c={...re,artists:[s],activeArtistId:s.id,lastSync:new Date().toISOString()};return Y(c,t),console.log("âœ… Migration complete! Legacy data preserved as backup."),c}return re}catch(r){return console.error("Failed to load portfolio:",r),re}}function Y(t,a){const i=Ye(a);try{t.lastSync=new Date().toISOString(),localStorage.setItem(i,JSON.stringify(t))}catch(r){console.error("Failed to save portfolio:",r),r instanceof DOMException&&r.name==="QuotaExceededError"&&alert("Storage quota exceeded. Please export and archive some artist projects.")}}function Me(t){return t.activeArtistId&&t.artists.find(a=>a.id===t.activeArtistId)||null}function gs(t,a){const i=Ke(a);return{...t,artists:[...t.artists,i],activeArtistId:i.id,lastSync:new Date().toISOString()}}function hs(t,a,i){return{...t,artists:t.artists.map(r=>r.id===a?{...r,profile:{artistName:i.profile.artistName||r.profile.artistName,genres:i.profile.genres,city:i.profile.city},state:i,lastModified:new Date().toISOString()}:r),lastSync:new Date().toISOString()}}function fs(t,a){const i=t.artists.filter(o=>o.id!==a);let r=t.activeArtistId;return a===t.activeArtistId&&(r=i.length>0?i[0].id:null),{...t,artists:i,activeArtistId:r,lastSync:new Date().toISOString()}}function xs(t,a){return t.artists.find(r=>r.id===a)?{...t,activeArtistId:a,lastSync:new Date().toISOString()}:(console.warn(`Artist ${a} not found in portfolio`),t)}function sa(t,a){const i=a.toLowerCase();return t.artists.filter(r=>r.profile.artistName.toLowerCase().includes(i)||r.profile.genres.toLowerCase().includes(i)||r.profile.city.toLowerCase().includes(i))}function aa(t,a,i){return[...t].sort((o,d)=>{var p,x,h,g;let s,c;switch(a){case"name":s=o.profile.artistName.toLowerCase(),c=d.profile.artistName.toLowerCase();break;case"lastModified":s=new Date(o.lastModified).getTime(),c=new Date(d.lastModified).getTime();break;case"stage":s=((x=(p=o.state)==null?void 0:p.profile)==null?void 0:x.stage)||"Unknown",c=((g=(h=d.state)==null?void 0:h.profile)==null?void 0:g.stage)||"Unknown";break;case"genre":s=o.profile.genres.toLowerCase(),c=d.profile.genres.toLowerCase();break;default:return 0}return s<c?i==="asc"?-1:1:s>c?i==="asc"?1:-1:0})}function ys(t){const a=(t.craft+t.catalog+t.brand+t.team+t.audience+t.ops)/6;return a<2?"Emerging":a<3?"Developing":a<4?"Established":"Breakout"}const bs=N.lazy(()=>S(()=>import("./GrantDiscovery-BJKg9wNt.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),vs=N.lazy(()=>S(()=>import("./GrantApplicationTracker-DjLM3V-M.js"),__vite__mapDeps([7,1,2,3]))),js=N.lazy(()=>S(()=>import("./MixAnalyzer-CrBQggA5.js"),__vite__mapDeps([8,1,2,3,9,4,5]))),_s=N.lazy(()=>S(()=>import("./CatalogAnalyzer-D5wXwhum.js"),__vite__mapDeps([10,1,2,3,9,4,5,6]))),ws=N.lazy(()=>S(()=>import("./PortfolioDashboard-BklTmWlD.js"),__vite__mapDeps([11,1,2,3,4,5,6]))),Ns=N.lazy(()=>S(()=>import("./ArtistComparisonView-DL2qzvuk.js"),__vite__mapDeps([12,1,2,3,6]))),ks=N.lazy(()=>S(()=>import("./PortfolioAnalytics-rquHezNt.js"),__vite__mapDeps([13,1,2,3,6]))),Ss=N.lazy(()=>S(()=>import("./TourPlanner-BxTDmO3J.js"),__vite__mapDeps([14,1,2,3,4,5,6]))),As=N.lazy(()=>S(()=>import("./MasterPlan-Drf5IzPJ.js"),__vite__mapDeps([15,1,2,3,16]))),Cs=N.lazy(()=>S(()=>import("./TalentFinder-CSL8teUc.js"),__vite__mapDeps([17,1,2,3,18]))),Ts=N.lazy(()=>S(()=>import("./MerchPlanner-B0I3-CUn.js"),__vite__mapDeps([19,1,2,3,18,16]))),K=["Discovery","Preâ€‘Production","Production","Postâ€‘Production","Release","Growth"],F={artistName:"",genres:"",city:"",elevatorPitch:"",stage:"Emerging",stageScores:{craft:2,catalog:2,brand:1,team:1,audience:1,ops:1}},P={projectType:"EP",units:3,startWeeks:0,targetWeeks:16,hasGrant:!1,grantAmount:0,targetMarkets:["DSP","TikTok/Shorts","Live","Sync"]},j=()=>Math.random().toString(36).slice(2,9),Re=t=>t.reduce((a,i)=>a+i,0),O=(t,a,i)=>Math.max(a,Math.min(i,t)),I=t=>t.toLocaleString(void 0,{style:"currency",currency:"USD",maximumFractionDigits:0}),W=t=>{if(t){const a=t.average_score.toFixed(0),i=t.sonic_identity.consistency_score.toFixed(0),r=t.total_tracks,o=t.score_trend==="improving"?"improving":t.score_trend==="declining"?"declining":"stable";return[{id:j(),type:"system",content:`Catalog analysis complete. We've assessed ${r} tracks with an average quality score of ${a}/100 and ${i}% sonic consistency. Quality trend: ${o}.`},{id:j(),type:"system",content:"Let's build a strategic roadmap. Consider: What's the optimal release format given this catalog strength? What timeline aligns with the artist's current momentum? What budget constraints should we account for?"}]}else return[{id:j(),type:"system",content:"Welcome to the Artist Roadmap Builder. This tool helps A&R professionals and label teams create data-driven release strategies for emerging artists."},{id:j(),type:"system",content:"To begin: What's the artist's release format? (EP, Album, Singles) What's their timeline constraint? What are their primary career goals at this stage?"}]};j(),j();const Ps=["Planning a 4-5 track EP to showcase the artist's core sound","Considering a full album (10-12 tracks) for comprehensive market positioning","Singles release strategy - one track every 6-8 weeks to build momentum","Mixtape/compilation format for rapid market testing","Artist needs to release within 3-4 months (fast-track timeline)","Standard 6-9 month development cycle for optimal marketing build","Extended 12+ month timeline for maximum quality and positioning","Specific deadline tied to tour, sync opportunity, or label milestone","Working with limited budget ($2-5K total investment)","Mid-tier budget available ($10-20K for professional production)","DIY/lean approach to minimize risk and maximize learning","Need budget recommendations based on industry standards","Priority: Build streaming presence and playlist placement","Focus: Live performance and touring to develop fanbase","Target: Sync licensing opportunities for film/TV placement","Goal: Position artist for label interest and A&R attention"];function Le(t){const a=t.stageScores;return ys({craft:a.craft,catalog:a.catalog,brand:a.brand,team:a.team,audience:a.audience,ops:a.ops})}function Es(t,a,i){const r={Discovery:1,"Preâ€‘Production":2,Production:Math.max(2,Math.ceil(i/2)),"Postâ€‘Production":Math.max(2,Math.ceil(i/2)),Release:2,Growth:6},o={Emerging:1.2,Developing:1,Established:.9,Breakout:.8};return Math.max(1,Math.round(r[t]*o[a]))}const z=t=>[{id:j(),category:"Songwriting",description:"Coâ€‘writing sessions",qty:t,unitCost:300,phase:"Discovery",required:!0},{id:j(),category:"Preâ€‘Prod",description:"Producer preâ€‘pro & charts",qty:t,unitCost:250,phase:"Preâ€‘Production",required:!0},{id:j(),category:"Recording",description:"Studio day rate",qty:Math.ceil(t/2),unitCost:600,phase:"Production",required:!0},{id:j(),category:"Musicians",description:"Session players",qty:t*2,unitCost:200,phase:"Production",required:!1},{id:j(),category:"Mixing",description:"Per song mix",qty:t,unitCost:400,phase:"Postâ€‘Production",required:!0},{id:j(),category:"Mastering",description:"Per song master",qty:t,unitCost:100,phase:"Postâ€‘Production",required:!0},{id:j(),category:"Artwork",description:"Cover + alt assets",qty:1,unitCost:500,phase:"Release",required:!0},{id:j(),category:"Video",description:"Performance/visualizer",qty:1,unitCost:750,phase:"Release",required:!1},{id:j(),category:"PR/Marketing",description:"3â€‘month sprint",qty:1,unitCost:3e3,phase:"Growth",required:!0},{id:j(),category:"Ads",description:"DSP/social ads",qty:1,unitCost:1500,phase:"Growth",required:!1}],$=t=>[{id:j(),phase:"Discovery",title:"Vision & references workshop",owner:"Artist/Producer",weeks:1},{id:j(),phase:"Preâ€‘Production",title:"Demos & arrangements",owner:"Artist/Producer",weeks:2},{id:j(),phase:"Production",title:`Track ${Math.min(3,t)} songs (core instruments)`,owner:"Producer",weeks:O(Math.ceil(t/2),1,4)},{id:j(),phase:"Postâ€‘Production",title:"Edits, mixing, mastering",owner:"Mix/Master",weeks:O(Math.ceil(t/1.5),1,4)},{id:j(),phase:"Release",title:"DSP delivery & preâ€‘save setup",owner:"Mgmt",weeks:1},{id:j(),phase:"Growth",title:"PR, content calendar, ad flights",owner:"Marketing",weeks:4}],ze=(t,a)=>{let i="EP",r=3,o=16,d="Default configuration for emerging artists";const s=(a==null?void 0:a.map(x=>x.content.toLowerCase()).join(" "))||"";if(s.includes("album")||s.includes("10-12 tracks")||s.includes("full album")?(i="Album",r=10,o=24):s.includes("singles")||s.includes("single strategy")||s.includes("one track")?(i="Singles",r=1,o=12):(s.includes("ep")||s.includes("4-5 track"))&&(i="EP",r=4,o=16),s.includes("3-4 months")||s.includes("fast timeline")||s.includes("quick")?o=Math.min(o,16):s.includes("6-9 months")?o=O(o,20,36):(s.includes("12+ months")||s.includes("take my time"))&&(o=Math.max(o,40)),t){const x=t.average_score,h=t.total_tracks,g=t.sonic_identity.consistency_score,f=t.score_trend;x>=75&&h>=8&&g>=70&&i==="EP"?(i="Album",r=Math.min(h,12),d=`Your catalog shows ${h} high-quality tracks (${x.toFixed(0)}/100) with ${g.toFixed(0)}% consistency. Perfect for an album!`):x>=65&&h>=3&&h<=6?(i="EP",r=Math.min(h,5),d=`Your ${h} tracks (${x.toFixed(0)}/100 avg) are strong - ideal for a focused EP showcasing your best work.`):x<65||g<60?(i="Singles",r=1,o=12,d="Based on your catalog analysis, starting with singles lets you test and refine your sound before a larger release."):f==="improving"&&h>=5?(i=h>=8?"Album":"EP",r=h>=8?10:5,d=`Your quality is improving (${f}) - capitalize on this momentum with a ${i.toLowerCase()}!`):(r=O(h,3,6),d=`Based on your ${h}-track catalog with ${x.toFixed(0)}/100 quality, starting with a ${r}-track EP.`)}const p=z(r).reduce((x,h)=>x+h.qty*h.unitCost,0);return{projectType:i,units:r,targetWeeks:o,estimatedBudget:p,rationale:d}},Oe="artist-roadmap-vite-v1";function Ds(t){if(!t.length)return"";const a=Object.keys(t[0]),i=[a.join(",")];for(const r of t){const o=a.map(d=>{const s=r[d],c=typeof s=="string"?s:JSON.stringify(s);return`"${String(c).replaceAll('"','""')}"`}).join(",");i.push(o)}return i.join("\\n")}function qe(t,a,i="text/plain"){const r=new Blob([a],{type:i}),o=URL.createObjectURL(r),d=document.createElement("a");d.href=o,d.download=t,d.click(),URL.revokeObjectURL(o)}function Is(t){const a=JSON.stringify(t),i=btoa(unescape(encodeURIComponent(a))),r=new URL(window.location.href);return r.hash=`#s=${i}`,r.toString()}function Ms(){try{const t=window.location.hash;if(!t.startsWith("#s="))return null;const a=t.slice(3),i=decodeURIComponent(escape(atob(a)));return JSON.parse(i)}catch{return null}}function Rs({userId:t}={}){var je,_e;const a=wt(),i=Nt(),[r,o]=y.useState(()=>ps(t)),d=Me(r),[s,c]=y.useState(()=>{if(d)return d.state;const n=Ms();if(n)return n.savedGrants||(n.savedGrants=[]),n.grantApplications||(n.grantApplications=[]),n.onboardingComplete===void 0&&(n.onboardingComplete=!0),n.catalogAnalysisComplete===void 0&&(n.catalogAnalysisComplete=!1),n.chatPlanningComplete===void 0&&(n.chatPlanningComplete=!1),n.roadmapGenerated===void 0&&(n.roadmapGenerated=!0),n.lastActiveTab||(n.lastActiveTab="roadmap"),n.firstVisitDate||(n.firstVisitDate=new Date().toISOString()),n.catalogAnalysisData===void 0&&(n.catalogAnalysisData=void 0),n;const l=localStorage.getItem(Oe),u=l?JSON.parse(l):{profile:F,project:P,budget:z(P.units),tasks:$(P.units),savedGrants:[],grantApplications:[],onboardingComplete:!0,catalogAnalysisComplete:!1,chatPlanningComplete:!1,roadmapGenerated:!1,lastActiveTab:"roadmap",firstVisitDate:new Date().toISOString(),catalogAnalysisData:void 0,estimatedDraw:100};if(u.savedGrants||(u.savedGrants=[]),u.grantApplications||(u.grantApplications=[]),u.onboardingComplete===void 0){const m=u.profile.artistName||u.budget.length>0;u.onboardingComplete=!0,u.catalogAnalysisComplete=!1,u.chatPlanningComplete=m,u.roadmapGenerated=m,u.lastActiveTab="roadmap",u.firstVisitDate=new Date().toISOString(),u.catalogAnalysisData=void 0}return u.lastActiveTab==="catalog-analyzer"&&(u.lastActiveTab="roadmap"),u.chatPlanningComplete===void 0&&(u.chatPlanningComplete=!1),u.estimatedDraw===void 0&&(u.estimatedDraw=100),u.assessment||(u.assessment=ae(u)),u}),[p,x]=y.useState(!0),[h,g]=y.useState(()=>W(s.catalogAnalysisData)),[f,_]=y.useState({personality:0,sonics:0,total:0,detailedAnalysis:{personality:{},sonics:{}}}),[A,v]=y.useState(()=>s.onboardingComplete&&(s.catalogAnalysisComplete||s.roadmapGenerated)),[b,w]=y.useState(()=>{const n=a.pathname.replace("/","")||a.hash.replace("#/","");return["roadmap","master-plan","grants","applications","mix-analyzer","catalog-analyzer","portfolio","live","talent","merch"].includes(n)?n:s.lastActiveTab}),[ce,Z]=y.useState(!1),[de,ue]=y.useState([]),[me,pe]=y.useState(!1);y.useEffect(()=>{const n=a.pathname.replace("/","");n&&["roadmap","master-plan","grants","applications","mix-analyzer","catalog-analyzer","portfolio","live","talent","merch"].includes(n)&&w(n)},[a]),y.useEffect(()=>{s.lastActiveTab!==b&&(c(n=>({...n,lastActiveTab:b})),i(`/${b}`,{replace:!0}))},[b,i]);const ge=n=>{const l={id:j(),type:"user",content:n},u=[...h,l];g(u);const m=Ee(n),k=Object.keys(m.personality).length,D=Object.keys(m.sonics).length,L=u.filter(M=>M.type==="user").length;_({personality:k,sonics:D,total:L,detailedAnalysis:m});const vt=k>=2||D>=2,jt=L>=2;setTimeout(()=>{let M;const we=["Noted. This information helps establish baseline positioning.","Good data point. This clarifies the strategic direction.","Understood. This informs the resource allocation model.","Acknowledged. This helps calibrate timeline expectations.","Recorded. This provides context for budget planning.","Clear. This shapes the go-to-market approach.","Confirmed. This influences the development strategy.","Captured. This affects the launch positioning."];if(vt){const E=$t(m);if(E.length>0){const V=E[0],H=De(m),te=H.length>0?H[0]:"What additional factors should we consider in the strategic planning?";M={id:j(),type:"system",content:`Artist profile shows alignment with ${V.name}'s positioning strategy. ${te}`}}else{const V=De(m),H=V.length>0?V[0]:"What other strategic factors should inform this roadmap?",te=we[Math.floor(Math.random()*we.length)];M={id:j(),type:"system",content:`${te} ${H}`}}}else if(jt){const E=["Please clarify: What's the production approach? What's the intended emotional impact on the target audience?","Additional context needed: Is this artist positioned as electronic/digital or organic/acoustic? What's the energy profile?","For accurate planning: What's the sonic identity? What's the tempo and intensity range we're working with?"];M={id:j(),type:"system",content:E[Math.floor(Math.random()*E.length)]}}else{const E=["Initial input received. For strategic planning: What's the core sonic identity? What production style defines this artist?","Processing artist profile. Clarify: What's the primary genre positioning? What's the energy and tempo range?","Beginning assessment. Define: What's the production aesthetic? What's the intended audience emotional response?"];M={id:j(),type:"system",content:E[Math.floor(Math.random()*E.length)]}}g(E=>[...E,M])},800+Math.random()*400)},U=()=>{const n=Ee(h.filter(m=>m.type==="user").map(m=>m.content).join(" ")),l=Ut(n,h,s.profile),u=ze(s.catalogAnalysisData,h);c(m=>{var k,D;return{...m,assessment:{...m.assessment,...l},profile:{...m.profile,genres:((k=l.identity.primary_genres)==null?void 0:k.join(", "))||m.profile.genres,elevatorPitch:((D=l.brand_narrative)==null?void 0:D.positioning)||m.profile.elevatorPitch},project:{...m.project,projectType:u.projectType,units:u.units,targetWeeks:u.targetWeeks},budget:z(u.units),tasks:$(u.units),chatPlanningComplete:!0,roadmapGenerated:!0}}),x(!0),C(`âœ“ Roadmap generated: ${u.projectType} (${u.units} tracks, ${u.targetWeeks} weeks, ~${I(u.estimatedBudget)})`),w("roadmap")};y.useEffect(()=>{if(localStorage.setItem(Oe,JSON.stringify(s)),r.activeArtistId){const n=hs(r,r.activeArtistId,s);o(n),Y(n,t)}},[s,t]),y.useEffect(()=>{Y(r,t)},[r.artists.length,r.activeArtistId,r.settings,t]);const[at,Q]=y.useState(!1),[he,fe]=y.useState(null),C=n=>{fe(n),setTimeout(()=>fe(null),3500)},X=y.useMemo(()=>Le(s.profile),[s.profile.stageScores]);y.useEffect(()=>{X!==s.profile.stage&&c(n=>({...n,profile:{...n.profile,stage:X}}))},[X]);const q=y.useMemo(()=>{const n={Discovery:0,"Preâ€‘Production":0,Production:0,"Postâ€‘Production":0,Release:0,Growth:0};for(const m of s.budget)n[m.phase]+=m.qty*m.unitCost;const l=Re(Object.values(n)),u=l-(s.project.hasGrant?s.project.grantAmount:0);return{byPhase:n,grand:l,afterGrant:u}},[s.budget,s.project.hasGrant,s.project.grantAmount]),G=y.useMemo(()=>{const n=[];let l=s.project.startWeeks;for(const u of K){const m=Es(u,s.profile.stage,s.project.units),k=s.tasks.filter(L=>L.phase===u),D=Math.max(m,Re(k.map(L=>L.weeks))||m);n.push({name:u,start:l,end:l+D,phase:u}),l+=D}return n},[s.tasks,s.project.startWeeks,s.project.units,s.profile.stage]),rt=n=>c(l=>({...l,budget:[...l.budget,{id:j(),category:"Custom",description:"",qty:1,unitCost:0,phase:n,required:!1}]})),nt=n=>c(l=>({...l,budget:l.budget.filter(u=>u.id!==n)})),it=n=>c(l=>({...l,tasks:[...l.tasks,{id:j(),phase:n,title:"New task",owner:"",weeks:1}]})),ot=n=>c(l=>({...l,tasks:l.tasks.filter(u=>u.id!==n)})),lt=n=>{c(l=>({...l,savedGrants:l.savedGrants.includes(n.id)?l.savedGrants.filter(u=>u!==n.id):[...l.savedGrants,n.id]})),C(s.savedGrants.includes(n.id)?"Grant removed from saved":"Grant saved successfully")},ct=n=>{const l={id:j(),grant_id:n.id,artist_id:"current_user",status:"not_started",project_title:`${s.profile.artistName||"Untitled"} Project`,project_description:s.profile.elevatorPitch||"",requested_amount:Math.min(n.award_amount.typical_amount||n.award_amount.min,n.award_amount.max),project_timeline:{start_date:new Date().toISOString().split("T")[0],end_date:new Date(Date.now()+31536e6).toISOString().split("T")[0]},completed_materials:[],remaining_materials:n.requirements.application_materials,last_updated:new Date().toISOString(),notes:"",reminders:[]};c(u=>({...u,grantApplications:[...u.grantApplications,l]})),w("applications"),C("Grant application started successfully")},dt=(n,l)=>{c(u=>({...u,grantApplications:u.grantApplications.map(m=>m.id===n?{...m,...l}:m)}))},ut=n=>{c(l=>({...l,grantApplications:l.grantApplications.filter(u=>u.id!==n)})),C("Grant application deleted")},mt=(n,l)=>{c(u=>({...u,grantApplications:u.grantApplications.map(m=>m.id===n?{...m,reminders:[...m.reminders,{...l,completed:!1}],last_updated:new Date().toISOString()}:m)})),C("Reminder added successfully")},pt=n=>{c(l=>({...l,catalogAnalysisComplete:!0,catalogAnalysisData:n})),g(W(n)),C(`âœ“ Catalog analyzed: ${n.total_tracks} tracks with ${n.average_score.toFixed(0)}/100 average score`)},xe=()=>qe(`${(s.profile.artistName||"artist").replaceAll(" ","-")}-roadmap.json`,JSON.stringify(s,null,2),"application/json"),gt=n=>{const l=new FileReader;l.onload=()=>{try{c(JSON.parse(String(l.result))),alert("Imported settings.")}catch{alert("Invalid JSON file.")}},l.readAsText(n)},ye=()=>{const n=s.budget.map(l=>({phase:l.phase,category:l.category,description:l.description,qty:l.qty,unitCost:l.unitCost,total:l.qty*l.unitCost}));qe("budget.csv",Ds(n),"text/csv")},ht=()=>{const n=Is(s);navigator.clipboard.writeText(n),alert("Sharable link copied to clipboard.")},ft=()=>{const n={profile:F,project:P,budget:z(P.units),tasks:$(P.units),assessment:ae({profile:F,project:P}),savedGrants:[],grantApplications:[],onboardingComplete:!0,catalogAnalysisComplete:!1,chatPlanningComplete:!1,roadmapGenerated:!1,lastActiveTab:"roadmap",firstVisitDate:new Date().toISOString(),catalogAnalysisData:void 0,estimatedDraw:100};c(n),window.history.replaceState({},"",window.location.pathname)},ee=()=>{const n={profile:F,project:P,budget:z(P.units),tasks:$(P.units),assessment:ae({profile:F,project:P}),savedGrants:[],grantApplications:[],onboardingComplete:!0,catalogAnalysisComplete:!1,chatPlanningComplete:!1,roadmapGenerated:!1,lastActiveTab:"roadmap",firstVisitDate:new Date().toISOString(),catalogAnalysisData:void 0,estimatedDraw:100},l=gs(r,n);o(l),c(n),v(!1),x(!1),g(W(void 0)),_({personality:0,sonics:0,total:0,detailedAnalysis:{personality:{},sonics:{}}}),w("catalog-analyzer"),C("New artist created")},be=n=>{const l=xs(r,n);o(l);const u=l.artists.find(m=>m.id===n);u&&(c(u.state),v(u.state.onboardingComplete&&(u.state.catalogAnalysisComplete||u.state.roadmapGenerated)),x(u.state.chatPlanningComplete),g(W(u.state.catalogAnalysisData)),w(u.state.lastActiveTab||"roadmap"),C(`Switched to ${u.profile.artistName||"Unnamed Artist"}`))},ve=n=>{const l=r.artists.find(m=>m.id===n);if(!l)return;if(window.confirm(`Delete ${l.profile.artistName||"Unnamed Artist"}?

This will permanently remove all data for this artist. This action cannot be undone.`)){const m=fs(r,n);if(o(m),n===r.activeArtistId){const k=Me(m);k?(c(k.state),v(k.state.onboardingComplete&&(k.state.catalogAnalysisComplete||k.state.roadmapGenerated)),x(k.state.chatPlanningComplete),g(W(k.state.catalogAnalysisData)),w(k.state.lastActiveTab||"roadmap")):ee()}C(`Deleted ${l.profile.artistName||"Unnamed Artist"}`)}},xt=()=>d?d.profile.artistName||"Unnamed Artist":s.profile.artistName||"Unnamed Artist",yt=n=>{ue(n),Z(!0)},bt=n=>{const l=de.filter(u=>u!==n);ue(l),l.length<2&&Z(!1)};return e.jsxs("div",{className:"relative min-h-screen w-full",children:[e.jsx("div",{"aria-hidden":!0,className:"fixed inset-0 -z-10 bg-studio"}),s.onboardingComplete?A?e.jsx(zt,{catalogAnalysisData:s.catalogAnalysisData,roadmapGenerated:s.roadmapGenerated,projectType:s.project.projectType,projectUnits:s.project.units,savedGrantsCount:s.savedGrants.length,applicationsCount:s.grantApplications.length,onContinue:()=>{v(!1)},onReAnalyze:()=>{v(!1),w("catalog-analyzer")},onViewRoadmap:()=>{v(!1),w("roadmap")},onViewGrants:()=>{v(!1),w("grants")}}):e.jsxs("div",{className:"mx-auto max-w-7xl px-6 py-8",children:[e.jsxs("header",{className:"mb-6 relative rounded-2xl border border-surface-700 p-5 banner-studio z-50",children:[e.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 bg-gradient-to-r from-surface-900/60 via-surface-900/40 to-transparent rounded-2xl overflow-hidden"}),e.jsxs("div",{className:"relative flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-semibold tracking-tight text-surface-50",children:["Artist Roadmap ",e.jsx("span",{className:"text-surface-300",children:"PRO"})]}),e.jsx("p",{className:"text-sm text-surface-300",children:"Professional A&R tool for baseline assessment, strategic planning, and career development."})]})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(Ot,{portfolio:r,onSwitchArtist:be,onNewArtist:ee,onDeleteArtist:ve,currentArtistName:xt()}),t&&e.jsx("button",{className:"rounded-lg border border-red-600 px-3 py-2 text-sm text-red-100 hover:bg-red-800/50 transition-colors",onClick:()=>i("/sign-out"),title:"Log out of this account",children:"Sign out"}),e.jsx("button",{className:"rounded-lg border border-primary-600 px-3 py-2 text-sm text-primary-100 hover:bg-primary-800/50 transition-colors",onClick:ht,children:"Share"}),e.jsx("button",{className:"rounded-lg border border-primary-600 px-3 py-2 text-sm text-primary-100 hover:bg-primary-800/50 transition-colors",onClick:ye,children:"Export CSV"}),e.jsx("button",{className:"rounded-lg border border-primary-600 px-3 py-2 text-sm text-primary-100 hover:bg-primary-800/50 transition-colors",onClick:xe,children:"Export Data"}),e.jsxs("label",{className:"rounded-lg border border-primary-600 px-3 py-2 text-sm text-primary-100 hover:bg-primary-800/50 transition-colors cursor-pointer",children:["Import Data",e.jsx("input",{type:"file",accept:"application/json",className:"hidden",onChange:n=>n.target.files&&gt(n.target.files[0])})]}),e.jsx("button",{className:"rounded-lg border border-red-600 px-3 py-2 text-sm text-red-100 hover:bg-red-800/50 transition-colors",onClick:()=>{confirm("Are you sure you want to clear all data? This cannot be undone.")&&(localStorage.removeItem("artist-roadmap-vite-v1"),ft())},children:"Clear All Data"})]})]})]}),e.jsx("div",{className:"space-y-6",children:p?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex flex-wrap gap-2 p-1 bg-surface-800/50 rounded-xl border border-surface-700",children:[e.jsxs("button",{onClick:()=>w("catalog-analyzer"),className:`tap-target px-4 py-2 rounded-lg text-sm font-medium transition-colors relative ${b==="catalog-analyzer"?"bg-primary-600 text-primary-50":"text-surface-300 hover:text-surface-200 hover:bg-surface-700"}`,children:[e.jsxs("span",{className:"flex items-center gap-2",children:[s.catalogAnalysisComplete?"âœ“":"1."," ðŸ“Š Catalog Analysis"]}),s.catalogAnalysisComplete&&!b.includes("catalog")&&e.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full"})]}),e.jsxs("button",{onClick:()=>{!p&&!s.chatPlanningComplete&&x(!1),w("roadmap")},className:`tap-target px-4 py-2 rounded-lg text-sm font-medium transition-colors relative ${!p&&!s.chatPlanningComplete,"text-surface-300 hover:text-surface-200 hover:bg-surface-700"}`,children:[e.jsxs("span",{className:"flex items-center gap-2",children:[s.chatPlanningComplete?"âœ“":"2."," ðŸ’¬ AI Planning"]}),s.chatPlanningComplete&&e.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full"})]}),e.jsxs("button",{onClick:()=>w("roadmap"),className:`tap-target px-4 py-2 rounded-lg text-sm font-medium transition-colors relative ${b==="roadmap"?"bg-primary-600 text-primary-50":"text-surface-300 hover:text-surface-200 hover:bg-surface-700"}`,children:[e.jsxs("span",{className:"flex items-center gap-2",children:[s.roadmapGenerated?"âœ“":"3."," ðŸ“‹ Roadmap"]}),s.roadmapGenerated&&b!=="roadmap"&&e.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full"})]}),s.roadmapGenerated&&e.jsx("button",{onClick:()=>w("master-plan"),className:`tap-target px-4 py-2 rounded-lg text-sm font-medium transition-colors ${b==="master-plan"?"bg-gradient-to-r from-primary-600 to-accent-600 text-white":"text-surface-300 hover:text-surface-200 hover:bg-surface-700"}`,children:"ðŸ’Ž Master Plan"}),e.jsx("button",{onClick:()=>w("mix-analyzer"),className:`tap-target px-4 py-2 rounded-lg text-sm font-medium transition-colors ${b==="mix-analyzer"?"bg-primary-600 text-primary-50":"text-surface-300 hover:text-surface-200 hover:bg-surface-700"}`,children:"ðŸŽšï¸ Mix Analyzer"}),e.jsxs("button",{onClick:()=>w("grants"),className:`tap-target px-4 py-2 rounded-lg text-sm font-medium transition-colors ${b==="grants"?"bg-primary-600 text-primary-50":"text-surface-300 hover:text-surface-200 hover:bg-surface-700"}`,children:["ðŸŽ¯ Grants",s.savedGrants.length>0&&e.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-primary-500/30 text-primary-200 rounded text-xs",children:s.savedGrants.length})]}),e.jsx("button",{onClick:()=>w("talent"),className:`tap-target px-4 py-2 rounded-lg text-sm font-medium transition-colors ${b==="talent"?"bg-primary-600 text-primary-50":"text-surface-300 hover:text-surface-200 hover:bg-surface-700"}`,children:"ðŸ¤ Talent"}),e.jsx("button",{onClick:()=>w("merch"),className:`tap-target px-4 py-2 rounded-lg text-sm font-medium transition-colors ${b==="merch"?"bg-primary-600 text-primary-50":"text-surface-300 hover:text-surface-200 hover:bg-surface-700"}`,children:"ðŸ›ï¸ Merch"}),e.jsxs("button",{onClick:()=>w("applications"),className:`tap-target px-4 py-2 rounded-lg text-sm font-medium transition-colors ${b==="applications"?"bg-primary-600 text-primary-50":"text-surface-300 hover:text-surface-200 hover:bg-surface-700"}`,children:["ðŸ“ Applications",s.grantApplications.length>0&&e.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-accent-500/30 text-accent-200 rounded text-xs",children:s.grantApplications.length})]}),r.artists.length>1&&e.jsxs("button",{onClick:()=>w("portfolio"),className:`tap-target px-4 py-2 rounded-lg text-sm font-medium transition-colors ${b==="portfolio"?"bg-primary-600 text-primary-50":"text-surface-300 hover:text-surface-200 hover:bg-surface-700"}`,children:["ðŸ‘¥ Portfolio",e.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-purple-500/30 text-purple-200 rounded text-xs",children:r.artists.length})]}),e.jsx("button",{onClick:()=>w("live"),className:`tap-target px-4 py-2 rounded-lg text-sm font-medium transition-colors ${b==="live"?"bg-primary-600 text-primary-50":"text-surface-300 hover:text-surface-200 hover:bg-surface-700"}`,children:"ðŸŽ¸ Live"})]})}),e.jsx(Ft,{tab:b}),b==="mix-analyzer"&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6 rounded-2xl border border-primary-700 bg-primary-900/20 p-6 backdrop-blur",children:[e.jsx("h2",{className:"text-xl font-semibold text-primary-100 mb-2",children:"ðŸŽšï¸ Mix Analyzer"}),e.jsx("p",{className:"text-surface-300 text-sm",children:"Upload your mix and get professional diagnostic feedback based on industry benchmarks for your genre. Identify technical issues, compare against reference tracks, and get actionable recommendations to improve your sound."})]}),e.jsx(N.Suspense,{fallback:e.jsx("div",{className:"text-surface-300",children:"Loading Mix Analyzerâ€¦"}),children:e.jsx(js,{})})]}),b==="catalog-analyzer"&&e.jsxs("div",{id:"catalog-analysis",children:[e.jsxs("div",{className:"mb-6 rounded-2xl border border-primary-700 bg-primary-900/20 p-6 backdrop-blur",children:[e.jsx("h2",{className:"text-xl font-semibold text-primary-100 mb-2",children:"ðŸ“Š Catalog Analyzer"}),e.jsx("p",{className:"text-surface-300 text-sm",children:"Upload multiple released tracks to analyze your artistic growth and consistency over time. Get insights on quality progression, sonic identity, genre consistency, and recommendations for your next release."}),s.catalogAnalysisComplete&&s.catalogAnalysisData&&e.jsx("div",{className:"mt-4 p-3 rounded-lg bg-green-600/10 border border-green-600/30",children:e.jsxs("div",{className:"text-sm text-green-300",children:["âœ“ Last analysis: ",s.catalogAnalysisData.total_tracks," tracks â€¢ ",s.catalogAnalysisData.average_score.toFixed(0),"/100 avg score â€¢ ",s.catalogAnalysisData.sonic_identity.consistency_score.toFixed(0),"% consistency"]})})]}),e.jsx(N.Suspense,{fallback:e.jsx("div",{className:"text-surface-300",children:"Loading Catalog Analyzerâ€¦"}),children:e.jsx(_s,{onAnalysisComplete:pt})})]}),b==="grants"&&e.jsx(N.Suspense,{fallback:e.jsx("div",{className:"text-surface-300",children:"Loading Grantsâ€¦"}),children:e.jsx(bs,{profile:s.profile,assessment:s.assessment,savedGrants:s.savedGrants,applications:s.grantApplications,onSaveGrant:lt,onStartApplication:ct})}),b==="applications"&&e.jsx(N.Suspense,{fallback:e.jsx("div",{className:"text-surface-300",children:"Loading Applicationsâ€¦"}),children:e.jsx(vs,{applications:s.grantApplications,grants:He,onUpdateApplication:dt,onDeleteApplication:ut,onAddReminder:mt})}),b==="portfolio"&&!ce&&!me&&e.jsx(N.Suspense,{fallback:e.jsx("div",{className:"text-surface-300",children:"Loading Portfolioâ€¦"}),children:e.jsx(ws,{portfolio:r,onSelectArtist:be,onNewArtist:ee,onDeleteArtist:ve,onClose:()=>w("roadmap"),onCompareArtists:yt,onShowAnalytics:()=>pe(!0)})}),b==="portfolio"&&ce&&e.jsx(N.Suspense,{fallback:e.jsx("div",{className:"text-surface-300",children:"Loading Comparisonâ€¦"}),children:e.jsx(Ns,{artists:de.map(n=>r.artists.find(l=>l.id===n)).filter(Boolean),onClose:()=>Z(!1),onRemoveArtist:bt})}),b==="portfolio"&&me&&e.jsx(N.Suspense,{fallback:e.jsx("div",{className:"text-surface-300",children:"Loading Analyticsâ€¦"}),children:e.jsx(ks,{portfolio:r,onClose:()=>pe(!1)})}),b==="master-plan"&&e.jsx(N.Suspense,{fallback:e.jsx("div",{className:"text-surface-300",children:"Loading Master Planâ€¦"}),children:e.jsx(As,{profile:s.profile,projectConfig:s.project,budgetItems:s.budget,artistStage:s.profile.stage,estimatedDraw:s.estimatedDraw,genres:s.profile.genres.split(",").map(n=>n.trim()).filter(Boolean),onNavigate:n=>w(n)})}),b==="live"&&e.jsx(N.Suspense,{fallback:e.jsx("div",{className:"text-surface-300",children:"Loading Live Plannerâ€¦"}),children:e.jsx(Ss,{artistStage:s.profile.stage,genres:s.profile.genres.split(",").map(n=>n.trim()).filter(Boolean),estimatedDraw:s.estimatedDraw,onEstimatedDrawChange:n=>c(l=>({...l,estimatedDraw:n}))})}),b==="talent"&&e.jsx(N.Suspense,{fallback:e.jsx("div",{className:"text-surface-300",children:"Loading Talent Finderâ€¦"}),children:e.jsx(Cs,{profile:s.profile,project:s.project,budget:s.budget})}),b==="merch"&&e.jsx(N.Suspense,{fallback:e.jsx("div",{className:"text-surface-300",children:"Loading Merch Plannerâ€¦"}),children:e.jsx(Ts,{profile:s.profile,project:s.project,estimatedDraw:s.estimatedDraw,onAddToBudget:({description:n,totalCost:l})=>{c(u=>({...u,budget:[...u.budget,{id:j(),category:"Merch",description:n,qty:1,unitCost:Math.max(0,l||0),phase:"Growth",required:!1}]}))},onToast:C})}),b==="roadmap"&&e.jsxs(e.Fragment,{children:[s.roadmapGenerated&&s.catalogAnalysisData&&e.jsx("section",{className:"mb-6 rounded-2xl border border-accent-700 bg-accent-900/20 p-6 backdrop-blur",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-accent-600/20 flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"âœ¨"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-lg font-semibold text-accent-100 mb-2",children:"Smart Roadmap Generated"}),e.jsx("p",{className:"text-surface-300 text-sm leading-relaxed",children:ze(s.catalogAnalysisData,h).rationale}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-3 text-sm",children:[e.jsxs("div",{className:"px-3 py-1.5 rounded-lg bg-surface-800/50 border border-surface-700",children:[e.jsx("span",{className:"text-surface-300",children:"Project: "}),e.jsx("span",{className:"text-surface-100 font-medium",children:s.project.projectType})]}),e.jsxs("div",{className:"px-3 py-1.5 rounded-lg bg-surface-800/50 border border-surface-700",children:[e.jsx("span",{className:"text-surface-300",children:"Tracks: "}),e.jsx("span",{className:"text-surface-100 font-medium",children:s.project.units})]}),e.jsxs("div",{className:"px-3 py-1.5 rounded-lg bg-surface-800/50 border border-surface-700",children:[e.jsx("span",{className:"text-surface-300",children:"Timeline: "}),e.jsxs("span",{className:"text-surface-100 font-medium",children:[s.project.targetWeeks," weeks"]})]}),e.jsxs("div",{className:"px-3 py-1.5 rounded-lg bg-surface-800/50 border border-surface-700",children:[e.jsx("span",{className:"text-surface-300",children:"Est. Budget: "}),e.jsx("span",{className:"text-surface-100 font-medium",children:I(q.grand)})]})]}),e.jsx("p",{className:"mt-3 text-xs text-surface-200",children:"ðŸ’¡ These are smart defaults based on your data. Feel free to customize below!"})]})]})}),s.assessment&&e.jsxs("section",{className:"rounded-2xl border border-primary-700 bg-primary-900/20 p-6 backdrop-blur",children:[e.jsx("h2",{className:"mb-4 text-lg font-semibold text-primary-100",children:"Assessment Insights"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"bg-surface-800/50 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-surface-200 mb-2",children:"Genre Profile"}),e.jsx("div",{className:"space-y-2",children:(je=s.assessment.identity.primary_genres)==null?void 0:je.map(n=>e.jsx("span",{className:"inline-block bg-primary-500/20 text-primary-300 px-2 py-1 rounded text-xs mr-1",children:n},n))}),s.assessment.identity.subgenres_tags&&s.assessment.identity.subgenres_tags.length>0&&e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"text-xs text-surface-300 mb-1",children:"Subgenres:"}),s.assessment.identity.subgenres_tags.map(n=>e.jsx("span",{className:"inline-block bg-surface-700 text-surface-300 px-2 py-1 rounded text-xs mr-1",children:n},n))]})]}),e.jsxs("div",{className:"bg-surface-800/50 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-surface-200 mb-2",children:"Audio Profile"}),e.jsx("div",{className:"space-y-2 text-xs",children:s.assessment.audio_profile&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-surface-300",children:"Tempo:"}),e.jsxs("span",{className:"text-surface-200",children:[Math.round(s.assessment.audio_profile.tempo_bpm)," BPM"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-surface-300",children:"Danceability:"}),e.jsxs("span",{className:"text-surface-200",children:[Math.round(s.assessment.audio_profile.danceability*100),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-surface-300",children:"Energy:"}),e.jsxs("span",{className:"text-surface-200",children:[Math.round(s.assessment.audio_profile.energy*100),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-surface-300",children:"Valence:"}),e.jsxs("span",{className:"text-surface-200",children:[Math.round(s.assessment.audio_profile.valence*100),"%"]})]})]})})]}),e.jsxs("div",{className:"bg-surface-800/50 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-surface-200 mb-2",children:"Success Indicators"}),(()=>{const n=as(s.assessment.identity.primary_genres||[]),l=rs(s.assessment,n),u=ds(s.assessment,n);return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-xs text-surface-300",children:"Market Fit:"}),e.jsxs("div",{className:`text-xs font-medium ${l>.7?"text-green-400":l>.5?"text-yellow-400":"text-red-400"}`,children:[Math.round(l*100),"%"]})]}),u.length>0&&e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"text-xs text-surface-300 mb-1",children:"Top Recommendation:"}),e.jsx("div",{className:"text-xs text-surface-200 bg-surface-700/50 p-2 rounded",children:u[0]})]})]})})()]})]}),((_e=s.assessment.brand_narrative)==null?void 0:_e.themes)&&e.jsxs("div",{className:"mt-4 bg-surface-800/30 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-surface-200 mb-2",children:"Brand Themes"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.assessment.brand_narrative.themes.map(n=>e.jsx("span",{className:"bg-accent-500/20 text-accent-300 px-3 py-1 rounded-full text-sm",children:n},n))}),s.assessment.brand_narrative.positioning&&e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"text-xs text-surface-300 mb-1",children:"Positioning:"}),e.jsxs("div",{className:"text-sm text-surface-200 italic",children:['"',s.assessment.brand_narrative.positioning,'"']})]})]})]}),e.jsxs("section",{className:"rounded-2xl border border-surface-700 bg-surface-800/80 p-6 backdrop-blur",children:[e.jsx("h2",{className:"mb-4 text-lg font-semibold text-primary-100",children:"Profile"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-surface-300",children:"Artist / Project Name"}),e.jsx("input",{className:"w-full rounded-lg bg-surface-700/50 px-3 py-2 text-surface-100 placeholder-surface-500 focus:bg-surface-700 focus:ring-2 focus:ring-primary-500 transition-colors",value:s.profile.artistName,onChange:n=>c({...s,profile:{...s.profile,artistName:n.target.value}}),placeholder:"e.g., Super Star"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-surface-300",children:"Genres"}),e.jsx("input",{className:"w-full rounded-lg bg-surface-700/50 px-3 py-2 text-surface-100 placeholder-surface-500 focus:bg-surface-700 focus:ring-2 focus:ring-primary-500 transition-colors",value:s.profile.genres,onChange:n=>c({...s,profile:{...s.profile,genres:n.target.value}}),placeholder:"Soul, R&B, Hipâ€‘hop"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-surface-300",children:"Home base"}),e.jsx("input",{className:"w-full rounded-lg bg-surface-700/50 px-3 py-2 text-surface-100 placeholder-surface-500 focus:bg-surface-700 focus:ring-2 focus:ring-primary-500 transition-colors",value:s.profile.city,onChange:n=>c({...s,profile:{...s.profile,city:n.target.value}}),placeholder:"City, State"})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx("label",{className:"text-sm text-surface-300",children:"Elevator pitch"}),e.jsx("textarea",{rows:3,className:"w-full rounded-lg bg-surface-700/50 px-3 py-2 text-surface-100 placeholder-surface-500 focus:bg-surface-700 focus:ring-2 focus:ring-primary-500 transition-colors",value:s.profile.elevatorPitch,onChange:n=>c({...s,profile:{...s.profile,elevatorPitch:n.target.value}}),placeholder:"One or two sentences defining the sound, story, and audience."})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold",children:"Maturity selfâ€‘assessment"}),e.jsx("p",{className:"text-xs text-surface-200 mt-0.5",children:"Optional â€” used to calibrate timelines and budgets"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-md bg-surface-700/60 px-2 py-1 text-xs text-surface-200 border border-surface-600",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary-400"}),"Stage: ",s.profile.stage]}),e.jsx("button",{className:"text-xs rounded px-2 py-1 border border-primary-600 text-primary-100 hover:bg-primary-700/30 transition-colors",onClick:()=>{Q(!0)},children:"Refine assessment"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["craft","catalog","brand","team","audience","ops"].map(n=>e.jsxs("span",{className:"text-xs rounded-md border border-surface-700 bg-surface-800/60 px-2 py-1 text-surface-300",children:[n,": ",s.profile.stageScores[n],"/5"]},n))})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-surface-700/50",children:e.jsxs("button",{onClick:()=>{w("catalog-analyzer"),setTimeout(()=>{const n=document.getElementById("catalog-analysis");n&&n.scrollIntoView({behavior:"smooth",block:"start"})},100)},className:"w-full md:w-auto px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:["Continue to Catalog Analysis",e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})]}),at&&e.jsx(Mt,{initialAnswers:s.profile.stageScores,onCancel:()=>Q(!1),onFinish:n=>{c(m=>({...m,profile:{...m.profile,stageScores:{...m.profile.stageScores,...n}}}));const l={...s.profile,stageScores:{...s.profile.stageScores,...n}},u=Le(l);C(`Assessment saved â€” stage: ${u}`),Q(!1)}}),he&&e.jsx(Rt,{message:he}),e.jsxs("section",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6",children:[e.jsx("h2",{className:"mb-4 text-lg font-semibold",children:"Project"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm",children:"Project type"}),e.jsxs("select",{className:"w-full rounded-lg bg-slate-800 px-3 py-2",value:s.project.projectType,onChange:n=>c({...s,project:{...s.project,projectType:n.target.value}}),children:[e.jsx("option",{value:"EP",children:"EP"}),e.jsx("option",{value:"Album",children:"Album"}),e.jsx("option",{value:"Singles",children:"Singles"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm",children:"# Songs"}),e.jsx("input",{type:"number",min:1,className:"w-full rounded-lg bg-slate-800 px-3 py-2",value:s.project.units,onChange:n=>{const l=O(parseInt(n.target.value||"1"),1,30);c({...s,project:{...s.project,units:l},budget:z(l),tasks:$(l)})}})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm",children:"Total timeline (weeks)"}),e.jsx("input",{type:"number",min:6,className:"w-full rounded-lg bg-slate-800 px-3 py-2",value:s.project.targetWeeks,onChange:n=>c({...s,project:{...s.project,targetWeeks:O(parseInt(n.target.value||"6"),6,104)}})})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx("label",{className:"text-sm",children:"Target markets (comma separated)"}),e.jsx("input",{className:"w-full rounded-lg bg-slate-800 px-3 py-2",value:s.project.targetMarkets.join(", "),onChange:n=>c({...s,project:{...s.project,targetMarkets:n.target.value.split(",").map(l=>l.trim()).filter(Boolean)}}),placeholder:"DSP, TikTok/Shorts, Live, Sync"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm",children:"Grant support"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:s.project.hasGrant,onChange:n=>c({...s,project:{...s.project,hasGrant:n.target.checked}})}),e.jsx("input",{type:"number",min:0,className:"w-full rounded-lg bg-slate-800 px-3 py-2",value:s.project.grantAmount,onChange:n=>c({...s,project:{...s.project,grantAmount:Math.max(0,parseInt(n.target.value||"0"))}})})]})]})]}),e.jsxs("div",{className:"mt-4 rounded-xl bg-indigo-600/10 p-4",children:[e.jsx("div",{className:"text-sm text-indigo-300",children:"Current est. budget"}),e.jsxs("div",{className:"text-2xl font-semibold",children:[I(q.grand)," ",e.jsxs("span",{className:"text-sm text-slate-400",children:["(",I(Math.max(0,q.afterGrant))," after grants)"]})]})]})]}),e.jsx("section",{className:"space-y-4",children:K.map(n=>e.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold",children:n}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"rounded-lg border border-slate-700 px-2 py-1 text-xs",children:["Total: ",I(s.budget.filter(l=>l.phase===n).reduce((l,u)=>l+u.qty*u.unitCost,0))]}),e.jsx("button",{className:"rounded-lg border border-slate-700 px-3 py-2 text-sm hover:bg-slate-800",onClick:()=>rt(n),children:"Add item"})]})]}),e.jsx("div",{className:"grid gap-2",children:s.budget.filter(l=>l.phase===n).map(l=>e.jsxs("div",{className:"grid grid-cols-12 items-center gap-2 rounded-xl bg-slate-800/60 p-3",children:[e.jsx("input",{className:"col-span-2 rounded bg-slate-900 px-2 py-1",value:l.category,onChange:u=>c({...s,budget:s.budget.map(m=>m.id===l.id?{...m,category:u.target.value}:m)})}),e.jsx("input",{className:"col-span-5 rounded bg-slate-900 px-2 py-1",value:l.description,onChange:u=>c({...s,budget:s.budget.map(m=>m.id===l.id?{...m,description:u.target.value}:m)})}),e.jsx("input",{type:"number",min:1,className:"col-span-1 rounded bg-slate-900 px-2 py-1",value:l.qty,onChange:u=>c({...s,budget:s.budget.map(m=>m.id===l.id?{...m,qty:Math.max(1,parseInt(u.target.value||"1"))}:m)})}),e.jsx("input",{type:"number",min:0,className:"col-span-2 rounded bg-slate-900 px-2 py-1",value:l.unitCost,onChange:u=>c({...s,budget:s.budget.map(m=>m.id===l.id?{...m,unitCost:Math.max(0,parseInt(u.target.value||"0"))}:m)})}),e.jsx("div",{className:"col-span-1 text-right text-sm",children:I(l.qty*l.unitCost)}),e.jsx("div",{className:"col-span-1 flex justify-end",children:e.jsx("button",{className:"rounded-lg border border-slate-700 px-3 py-2 text-sm hover:bg-slate-800",onClick:()=>nt(l.id),children:"X"})})]},l.id))})]},n))}),e.jsx("style",{children:".fixdelbtn{display:none}"}),e.jsxs("section",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6",children:[e.jsx("h3",{className:"mb-3 font-semibold",children:"Phase board"}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:K.map(n=>e.jsxs("div",{className:"rounded-2xl border border-slate-800 p-3",children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:n}),e.jsx("button",{className:"rounded-lg border border-slate-700 px-2 py-1 text-xs hover:bg-slate-800",onClick:()=>it(n),children:"Add"})]}),e.jsx("div",{className:"space-y-2",children:s.tasks.filter(l=>l.phase===n).map(l=>e.jsxs("div",{className:"rounded-xl bg-slate-800/60 p-3",children:[e.jsx("input",{className:"w-full rounded bg-slate-900 px-2 py-1",value:l.title,onChange:u=>c({...s,tasks:s.tasks.map(m=>m.id===l.id?{...m,title:u.target.value}:m)})}),e.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-2 text-sm",children:[e.jsx("input",{className:"col-span-2 rounded bg-slate-900 px-2 py-1",placeholder:"Owner",value:l.owner,onChange:u=>c({...s,tasks:s.tasks.map(m=>m.id===l.id?{...m,owner:u.target.value}:m)})}),e.jsx("input",{type:"number",min:1,className:"rounded bg-slate-900 px-2 py-1",value:l.weeks,onChange:u=>c({...s,tasks:s.tasks.map(m=>m.id===l.id?{...m,weeks:Math.max(1,parseInt(u.target.value||"1"))}:m)})})]}),e.jsx("div",{className:"mt-2 flex justify-end",children:e.jsx("button",{className:"rounded-lg border border-slate-700 px-2 py-1 text-xs hover:bg-slate-800",onClick:()=>ot(l.id),children:"Delete"})})]},l.id))})]},n))})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6",children:[e.jsx("h3",{className:"mb-3 font-semibold",children:"Timeline (weeks)"}),e.jsx("div",{className:"h-72 w-full",children:e.jsx(ke,{width:"100%",height:"100%",children:e.jsxs(Ct,{data:G.map(n=>({name:n.phase,length:n.end-n.start})),children:[e.jsx(Se,{strokeDasharray:"3 3"}),e.jsx(Ae,{dataKey:"name"}),e.jsx(Ce,{}),e.jsx(Te,{}),e.jsx(Tt,{dataKey:"length"})]})})}),e.jsxs("div",{className:"text-sm text-slate-400",children:["Total span: ",G.length?G[G.length-1].end-G[0].start:0," weeks"]})]})]}),e.jsxs("section",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6",children:[e.jsx("h3",{className:"mb-3 font-semibold",children:"Budget by phase"}),e.jsx("div",{className:"h-64 w-full",children:e.jsx(ke,{width:"100%",height:"100%",children:e.jsxs(Pt,{data:K.map(n=>({phase:n,total:s.budget.filter(l=>l.phase===n).reduce((l,u)=>l+u.qty*u.unitCost,0)})),children:[e.jsx(Se,{strokeDasharray:"3 3"}),e.jsx(Ae,{dataKey:"phase"}),e.jsx(Ce,{}),e.jsx(Te,{}),e.jsx(Et,{type:"monotone",dataKey:"total"})]})})})]}),e.jsxs("section",{className:"rounded-2xl border border-slate-800 bg-slate-900/60 p-6",children:[e.jsx("h3",{className:"mb-3 text-lg font-semibold",children:"Reports"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"rounded-2xl bg-slate-800/60 p-4",children:[e.jsx("div",{className:"text-sm text-slate-400",children:"Est. Budget"}),e.jsx("div",{className:"text-2xl font-semibold",children:I(q.grand)})]}),e.jsxs("div",{className:"rounded-2xl bg-slate-800/60 p-4",children:[e.jsx("div",{className:"text-sm text-slate-400",children:"After Grants"}),e.jsx("div",{className:"text-2xl font-semibold",children:I(Math.max(0,q.afterGrant))})]}),e.jsxs("div",{className:"rounded-2xl bg-slate-800/60 p-4",children:[e.jsx("div",{className:"text-sm text-slate-400",children:"Stage"}),e.jsx("div",{className:"text-2xl font-semibold",children:s.profile.stage})]})]}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[e.jsx("button",{className:"rounded-lg border border-slate-700 px-3 py-2 text-sm hover:bg-slate-800",onClick:ye,children:"Export budget CSV"}),e.jsx("button",{className:"rounded-lg border border-slate-700 px-3 py-2 text-sm hover:bg-slate-800",onClick:xe,children:"Export full JSON"})]})]})]})]}):e.jsxs("section",{className:"relative overflow-hidden rounded-2xl border border-surface-700 banner-studio p-6 h-[85vh] flex flex-col",children:[e.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 bg-gradient-to-b from-surface-900/40 via-transparent to-surface-900/40"}),e.jsxs("div",{className:"relative h-full flex flex-col",children:[e.jsxs("div",{className:"mb-4 pb-4 border-b border-surface-700/50",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-lg md:text-xl font-semibold text-surface-50",children:"Strategic Planning"}),e.jsx("p",{className:"text-xs md:text-sm text-surface-200 mt-1",children:s.catalogAnalysisComplete?"Based on your catalog analysis, let's create a data-driven release plan":"Share your goals and constraints to build a customized project roadmap"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"w-10 h-10 rounded-lg bg-surface-700 border border-surface-600 flex items-center justify-center font-semibold text-surface-200 text-sm",children:[f.total,"/3"]}),e.jsxs("button",{onClick:U,className:"hidden md:flex text-sm text-surface-300 hover:text-surface-200 px-3 py-2 rounded-lg hover:bg-surface-700/50 transition-colors items-center gap-1",title:"Skip to roadmap generation",children:["Skip",e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),e.jsx("button",{onClick:U,className:"md:hidden mt-3 w-full text-center text-sm text-surface-300 hover:text-surface-200 py-2.5 rounded-lg hover:bg-surface-700/50 transition-colors border border-surface-700/50",title:"Skip to roadmap generation",children:"Skip to roadmap â†’"})]}),e.jsxs("div",{className:"flex-1 flex flex-col md:flex-row gap-4 min-h-0",children:[e.jsx("div",{className:"flex-1 flex flex-col min-w-0",children:e.jsx(Fe,{messages:h,onSendMessage:ge,className:"flex-1"})}),e.jsxs("div",{className:"hidden md:flex md:w-72 lg:w-80 bg-surface-800/50 rounded-xl border border-surface-700/50 p-4 flex-col flex-shrink-0 max-h-full overflow-y-auto",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-surface-200 mb-1",children:"Quick Topics"}),e.jsx("p",{className:"text-xs text-surface-300",children:"Click to add"})]}),e.jsx("div",{className:"space-y-2 flex-1",children:Ps.slice(0,8).map((n,l)=>e.jsx("button",{className:"w-full text-left text-xs px-3 py-2 rounded-lg bg-surface-700/30 hover:bg-primary-600/20 border border-surface-600/30 hover:border-primary-500/30 transition-all text-surface-300 hover:text-surface-100",onClick:()=>ge(n),children:n},l))}),e.jsxs("div",{className:"mt-4 pt-3 border-t border-surface-700/50",children:[e.jsxs("div",{className:"text-xs text-surface-300 mb-2",children:["Progress: ",e.jsxs("span",{className:"text-primary-400 font-semibold",children:[f.total," / 3"]})]}),e.jsx("div",{className:"w-full bg-surface-700 rounded-full h-1.5",children:e.jsx("div",{className:"bg-primary-500 h-1.5 rounded-full transition-all duration-500",style:{width:`${Math.min(100,f.total/3*100)}%`}})})]})]})]}),f.total>=3&&e.jsx("div",{className:"mt-6 bg-primary-600/10 border border-primary-500/30 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-primary-200",children:"Planning Complete"}),e.jsx("div",{className:"text-xs text-surface-200 mt-0.5",children:"Ready to generate your strategic roadmap"})]}),e.jsxs("button",{onClick:U,className:"px-5 py-2.5 bg-primary-600 hover:bg-primary-700 text-white rounded-lg text-sm font-medium transition-colors flex items-center gap-2",children:["Generate Roadmap",e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})}),f.total>=1&&f.total<3&&e.jsx("div",{className:"mt-4 bg-yellow-500/10 border border-yellow-500/30 rounded-xl p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-yellow-300",children:[3-f.total," more response",3-f.total!==1?"s":""," recommended for better recommendations."]}),e.jsx("button",{onClick:U,className:"px-3 py-1.5 bg-yellow-600/20 hover:bg-yellow-600/30 text-yellow-200 rounded-lg text-sm transition-colors",children:"Continue Anyway â†’"})]})})]})]})})]}):e.jsx(Lt,{onStart:()=>{c(n=>({...n,onboardingComplete:!0,lastActiveTab:"catalog-analyzer"})),w("catalog-analyzer"),v(!1)},onSkip:()=>{c(n=>({...n,onboardingComplete:!0})),v(!1)},hasExistingData:s.profile.artistName!==""||s.budget.length>0})]})}const ie="tester-id",ne="tester-metadata";function Ge(){const t=Date.now().toString(36),a=Math.random().toString(36).substring(2,15);return`tester-${t}-${a}`}function oe(){try{const t=localStorage.getItem(ie),a=localStorage.getItem(ne),i=new Date().toISOString(),r="1.4.0";if(t&&a){const o=JSON.parse(a);return o.lastVisit=i,o.sessionCount+=1,localStorage.setItem(ne,JSON.stringify(o)),o}else{const o=Ge(),d={id:o,firstVisit:i,lastVisit:i,sessionCount:1,version:r};return localStorage.setItem(ie,o),localStorage.setItem(ne,JSON.stringify(d)),d}}catch(t){return console.error("Failed to manage tester identity:",t),{id:Ge(),firstVisit:new Date().toISOString(),lastVisit:new Date().toISOString(),sessionCount:1,version:"1.4.0"}}}function Je(){try{return!localStorage.getItem(ie)}catch{return!0}}function Ls(){const[t,a]=y.useState(!1),[i,r]=y.useState(!1);if(y.useEffect(()=>{const d=Je();r(d);const s=oe();if(d||s.sessionCount<=2){a(!0);const c=setTimeout(()=>a(!1),8e3);return()=>clearTimeout(c)}},[]),!t)return null;const o=oe();return e.jsx("div",{className:"fixed top-4 right-4 z-50 max-w-md",children:e.jsx("div",{className:"rounded-xl border border-primary-500/30 bg-surface-800/95 backdrop-blur p-4 shadow-xl",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-primary-500/20 flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"ðŸ‘‹"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-semibold text-primary-100 mb-1",children:i?"Welcome to Testing!":"Welcome Back!"}),e.jsx("p",{className:"text-xs text-surface-300 leading-relaxed mb-2",children:i?e.jsx(e.Fragment,{children:"Your session data will be saved automatically. Test features over multiple daysâ€”we'll remember your progress!"}):e.jsxs(e.Fragment,{children:["Session ",o.sessionCount," â€¢ Testing since ",new Date(o.firstVisit).toLocaleDateString()]})}),e.jsx("div",{className:"flex items-center gap-2 text-xs text-surface-400",children:e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Anonymous ID: ",o.id.slice(-8)]})})]}),e.jsx("button",{onClick:()=>a(!1),className:"flex-shrink-0 text-surface-400 hover:text-surface-200 transition-colors","aria-label":"Dismiss",children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})})})}function zs(){return console.log("â„¹ï¸ Running in anonymous mode"),e.jsxs(e.Fragment,{children:[e.jsx(Ls,{}),e.jsx(Rs,{})]})}const le="fe434cc7ce2241938a9440d2026c4302",Ze="https://trentbecknell.github.io/soundsexpensive/",Os=["playlist-read-private","playlist-read-collaborative","user-library-read","user-read-email"].join(" ");async function ra(){const t=Be(16),a=Be(128);localStorage.setItem("spotify_auth_state",t),localStorage.setItem("spotify_code_verifier",a);const i=await Gs(a);return`https://accounts.spotify.com/authorize?${new URLSearchParams({client_id:le,response_type:"code",redirect_uri:Ze,state:t,scope:Os,code_challenge_method:"S256",code_challenge:i}).toString()}`}async function qs(t,a){const i=localStorage.getItem("spotify_auth_state"),r=localStorage.getItem("spotify_code_verifier");if(!i||a!==i)throw new Error("State mismatch - possible CSRF attack");if(!r)throw new Error("Code verifier not found");const o=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"authorization_code",code:t,redirect_uri:Ze,client_id:le,code_verifier:r})});if(!o.ok)throw new Error("Failed to exchange code for token");const d=await o.json();return localStorage.setItem("spotify_access_token",d.access_token),localStorage.setItem("spotify_refresh_token",d.refresh_token),localStorage.setItem("spotify_token_expiry",String(Date.now()+d.expires_in*1e3)),localStorage.removeItem("spotify_auth_state"),localStorage.removeItem("spotify_code_verifier"),d.access_token}async function Qe(){const t=localStorage.getItem("spotify_access_token"),a=localStorage.getItem("spotify_refresh_token"),i=localStorage.getItem("spotify_token_expiry");if(!t)return null;if(i&&Date.now()>=parseInt(i)){if(!a)return null;try{const r=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"refresh_token",refresh_token:a,client_id:le})});if(!r.ok)return localStorage.removeItem("spotify_access_token"),localStorage.removeItem("spotify_refresh_token"),localStorage.removeItem("spotify_token_expiry"),null;const o=await r.json();return localStorage.setItem("spotify_access_token",o.access_token),localStorage.setItem("spotify_token_expiry",String(Date.now()+o.expires_in*1e3)),o.access_token}catch(r){return console.error("Failed to refresh token:",r),null}}return t}async function na(t){const a=await Qe();if(!a)throw new Error("Not authenticated");const i=await fetch(`https://api.spotify.com/v1/playlists/${t}`,{headers:{Authorization:`Bearer ${a}`}});if(!i.ok)throw new Error(`Failed to fetch playlist: ${i.statusText}`);const r=await i.json(),o=r.tracks.items.filter(d=>d.track!==null).map(d=>({id:d.track.id,name:d.track.name,artists:d.track.artists.map(s=>s.name),album:d.track.album.name,duration_ms:d.track.duration_ms,preview_url:d.track.preview_url}));return{id:r.id,name:r.name,description:r.description||"",tracks:o,total_tracks:o.length}}async function ia(t){const a=await Qe();if(!a)throw new Error("Not authenticated");const i=[];for(let o=0;o<t.length;o+=100)i.push(t.slice(o,o+100));const r=[];for(const o of i){const d=await fetch(`https://api.spotify.com/v1/audio-features?ids=${o.join(",")}`,{headers:{Authorization:`Bearer ${a}`}});if(!d.ok)throw new Error(`Failed to fetch audio features: ${d.statusText}`);const s=await d.json();r.push(...s.audio_features.filter(c=>c!==null))}return r}function oa(t){return{tempo_bpm:t.tempo,danceability:t.danceability,energy:t.energy,valence:t.valence,acousticness:t.acousticness,instrumentalness:t.instrumentalness,speechiness:t.speechiness,loudness_db:t.loudness,duration_seconds:t.duration_ms/1e3,key:t.key,mode:t.mode===1?"major":"minor",key_confidence:1,dynamic_range_db:8,stereo_width:.7,peak_db:-1,rms_db:t.loudness+3,crest_factor:8}}function Be(t){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return crypto.getRandomValues(new Uint8Array(t)).reduce((r,o)=>r+a[o%a.length],"")}async function Gs(t){const i=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",i);return Bs(r)}function Bs(t){const a=new Uint8Array(t);let i="";for(const r of a)i+=String.fromCharCode(r);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Xe(){const[t,a]=y.useState("processing"),[i,r]=y.useState(null);return y.useEffect(()=>{(async()=>{try{const d=new URLSearchParams(window.location.search),s=d.get("code"),c=d.get("state"),p=d.get("error");if(p)throw new Error(`Spotify authorization failed: ${p}`);if(!s||!c)throw new Error("Missing authorization code or state");const x=localStorage.getItem("spotify_auth_state");if(c!==x)throw new Error("State mismatch - possible CSRF attack");await qs(s,c),a("success"),setTimeout(()=>{window.location.href="/soundsexpensive/#catalog-analyzer"},2e3)}catch(d){console.error("Spotify callback error:",d),r(d instanceof Error?d.message:"Unknown error"),a("error")}})()},[]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center p-6",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-lg p-8 max-w-md w-full",children:[t==="processing"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-2",children:"Connecting to Spotify..."}),e.jsx("p",{className:"text-gray-300 text-center",children:"Please wait while we complete the authentication."})]}),t==="success"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"rounded-full bg-green-500/20 p-3",children:e.jsx("svg",{className:"w-12 h-12 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),e.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-2",children:"Successfully Connected!"}),e.jsx("p",{className:"text-gray-300 text-center",children:"Redirecting you back to the Catalog Analyzer..."})]}),t==="error"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"rounded-full bg-red-500/20 p-3",children:e.jsx("svg",{className:"w-12 h-12 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),e.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-2",children:"Connection Failed"}),e.jsx("p",{className:"text-red-300 text-center mb-4",children:i}),e.jsx("button",{onClick:()=>window.location.href="/soundsexpensive/#catalog-analyzer",className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded transition",children:"Return to Catalog Analyzer"})]})]})})}function Fs(t,a,i,r){const o=!!(r||a);return{FORCE_ANON:o,ENABLE_CLERK:!o&&!a}}function Ws(){try{const t=window.location.search||"",a=window.location.hash||"",i=/[?&]anon=1(?!\d)/.test(t),r=a.includes("?")?a.substring(a.indexOf("?")):"",o=/[?&]anon=1(?!\d)/.test(r);return i||o?(localStorage.setItem("artist-roadmap-force-anon","1"),!0):localStorage.getItem("artist-roadmap-force-anon")==="1"}catch{return!1}}function $s(){try{const t=window.location.search||"",a=window.location.hash||"",i=a.includes("?")?a.substring(a.indexOf("?")):"",r=/[?&]nosw=1(?!\d)/.test(t),o=/[?&]nosw=1(?!\d)/.test(i);return r||o?(localStorage.setItem("artist-roadmap-nosw","1"),!0):localStorage.getItem("artist-roadmap-nosw")==="1"}catch{return!1}}const et=!0,tt=(()=>{try{return window.location.host||""}catch{return""}})(),Us=Ws(),{FORCE_ANON:Vs,ENABLE_CLERK:J}=Fs(tt,et,!0,Us);window.__AUTH_FLAGS__={FORCE_ANON:Vs,ENABLE_CLERK:J,HOST:tt,IS_PROD_BUILD:et};const R=oe(),st=Je();window.__TESTER__={id:R.id,sessionCount:R.sessionCount,isNewUser:st,firstVisit:R.firstVisit,lastVisit:R.lastVisit};console.log(st?`ðŸ‘‹ Welcome, tester ${R.id}! Your session data will be saved across visits.`:`ðŸ‘‹ Welcome back! Session ${R.sessionCount} â€¢ First visit: ${new Date(R.firstVisit).toLocaleDateString()}`);console.assert(!J,"[Auth] ENABLE_CLERK must be false on prod/public hosts");J||console.warn("[Auth] Running in anonymous mode. Clerk is disabled for this environment.");const Hs=window.location.pathname.includes("/callback")||window.location.search.includes("code=")&&window.location.search.includes("state="),Ks=N.lazy(()=>S(()=>import("./ClerkApp-kmCKT3FG.js"),__vite__mapDeps([20,1,2,3,4,5,6]))),Ys=()=>e.jsx(St,{children:e.jsxs(At,{children:[e.jsx(Ne,{path:"/callback",element:e.jsx(Xe,{})}),e.jsx(Ne,{path:"/*",element:e.jsx(zs,{})})]})});try{const t=document.getElementById("root");if(!t)throw new Error("Root element not found");class a extends N.Component{constructor(r){super(r),this.state={error:null}}static getDerivedStateFromError(r){return{error:r}}componentDidCatch(r,o){console.error("Runtime render error:",r,o)}render(){return this.state.error?e.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:16,background:"#0b1220"},children:e.jsxs("div",{style:{maxWidth:720,width:"100%",border:"1px solid #334155",borderRadius:12,background:"#0f172a",color:"#e2e8f0",padding:16},children:[e.jsx("div",{style:{fontSize:18,fontWeight:600,marginBottom:6},children:"Oops, something went wrong"}),e.jsx("div",{style:{fontSize:14,color:"#cbd5e1",marginBottom:8},children:"The app hit an unexpected error while rendering. Please copy the first error from the browser console and share it with the dev team."}),e.jsxs("div",{style:{fontSize:12,color:"#94a3b8"},children:["Location: ",location.href]})]})}):this.props.children}}kt(t).render(e.jsx(N.StrictMode,{children:e.jsx(a,{children:J?e.jsx(N.Suspense,{fallback:e.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#18181b",color:"#a1a1aa"},children:"Loadingâ€¦"}),children:e.jsx(Ks,{})}):Hs?e.jsx(Xe,{}):e.jsx(Ys,{})})}))}catch(t){console.error("App failed to start:",t);try{const a=document.createElement("div");a.style.position="fixed",a.style.inset="0",a.style.display="flex",a.style.alignItems="center",a.style.justifyContent="center",a.style.background="rgba(0,0,0,0.6)",a.style.color="white",a.style.fontFamily="system-ui, sans-serif",a.style.zIndex="9999",a.innerHTML=`<div style="max-width:700px;padding:20px;border:1px solid #444;border-radius:12px;background:#111"><div style="font-size:20px;font-weight:600;margin-bottom:8px;color:#e2e8f0">App failed to load</div><div style="font-size:14px;color:#cbd5e1;margin-bottom:8px">Please refresh the page. If the issue persists, open the browser console and share the error with the dev team.</div><div style="font-size:12px;color:#94a3b8">Location: ${location.href}</div></div>`,document.body.appendChild(a)}catch{}}try{const t=_t(),a="/soundsexpensive/";if("serviceWorker"in navigator)if($s()){console.warn("[SW] Disabled by nosw=1 flag. Unregistering existing service workers and clearing cachesâ€¦");try{navigator.serviceWorker.getRegistrations().then(o=>o.forEach(d=>d.unregister())),"caches"in window&&caches.keys().then(o=>Promise.all(o.map(d=>caches.delete(d)))).catch(()=>{})}catch{}}else navigator.serviceWorker.register(`${a}sw.js`).catch(()=>{})}catch{}export{Rs as A,He as G,Xe as S,Ls as T,ia as a,Qe as b,oa as c,ra as d,aa as e,na as f,ta as g,Rt as h,sa as s};
