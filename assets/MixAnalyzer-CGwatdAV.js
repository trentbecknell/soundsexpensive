import{r as t,h as V,j as e}from"./flags-CTfa8zv0.js";import{a as L,r as $,b as T,g as R,c as K,M as U}from"./workers-C2qbLtHH.js";function X({onAnalysisComplete:d,className:B=""}){var M,C,z,A,F;const[n,y]=t.useState(null),[u,I]=t.useState("Pop"),[o,E]=t.useState("not-sure"),[h,p]=t.useState(!1),[r,b]=t.useState(null),[_,m]=t.useState(null),[x,G]=t.useState(null),[i,j]=t.useState([]),[g,N]=t.useState([]),[P,v]=t.useState(!1),w=Object.keys(U),f=[{value:"rough-mix",label:"ðŸŽšï¸ Rough Mix",description:"Initial balance, basic levels"},{value:"mixing",label:"ðŸŽ›ï¸ Active Mixing",description:"EQ, compression, effects"},{value:"mix-review",label:"âœ… Mix Review",description:"Near-final, refinement"},{value:"pre-master",label:"ðŸŽ¯ Pre-Master",description:"Final mix, ready for mastering"},{value:"mastered",label:"âœ¨ Mastered",description:"After mastering"},{value:"not-sure",label:"â“ Not Sure",description:"Let us determine"}];t.useEffect(()=>{const s=localStorage.getItem("mix-analyzer-versions");if(s)try{j(JSON.parse(s))}catch(a){console.error("Failed to load versions:",a)}},[]),t.useEffect(()=>{i.length>0&&localStorage.setItem("mix-analyzer-versions",JSON.stringify(i))},[i]);const W=t.useCallback(s=>{var c;const a=(c=s.target.files)==null?void 0:c[0];if(!a)return;if(!["audio/mpeg","audio/mp3","audio/wav","audio/wave","audio/x-wav","audio/x-m4a","audio/m4a","audio/mp4","audio/aac","audio/ogg","audio/flac"].includes(a.type)&&!a.name.match(/\.(mp3|wav|aac|ogg|flac|m4a)$/i)){m("Please upload a valid audio file (MP3, WAV, M4A, AAC, OGG, FLAC)");return}if(a.size>500*1024*1024){m("File size must be less than 500MB. For best results, use high-quality WAV or FLAC files.");return}y(a),m(null),b(null)},[]),O=t.useCallback(async()=>{if(n){p(!0),m(null);try{let s;if(V("perf-slice")){const c=await L(n);s=await $({features:c,fileInfo:{name:n.name,size_bytes:n.size,format:n.type},targetGenre:u,mixingStage:o})}else s=await T(n,u,o);b(s),G(n);const a=R(s.issues);N(a);const l={id:`version-${Date.now()}`,version_number:i.length+1,analysis:s,checklist:a,uploaded_at:new Date().toISOString()};j(c=>[...c,l]),i.length>0&&v(!0),d==null||d(s)}catch(s){m(s instanceof Error?s.message:"Analysis failed. Please try again."),console.error("Analysis error:",s)}finally{p(!1)}}},[n,u,o,d,i.length]),k=t.useCallback(async s=>{if(I(s),x&&r){p(!0);try{let a;if(V("perf-slice")){const c=await L(x);a=await $({features:c,fileInfo:{name:x.name,size_bytes:x.size,format:x.type},targetGenre:s,mixingStage:o})}else a=await T(x,s,o);b(a);const l=R(a.issues);N(l),d==null||d(a)}catch(a){console.error("Re-analysis failed:",a),m(a instanceof Error?a.message:"Failed to re-analyze with new genre")}finally{p(!1)}}},[x,r,o,d]),D=s=>{N(a=>a.map(l=>l.id===s?{...l,completed:!l.completed}:l))},q=()=>{confirm("Clear all version history? This cannot be undone.")&&(j([]),localStorage.removeItem("mix-analyzer-versions"),v(!1))},H=s=>{switch(s){case"critical":return"text-red-400 bg-red-500/10 border-red-500/30";case"warning":return"text-yellow-400 bg-yellow-500/10 border-yellow-500/30";case"suggestion":return"text-blue-400 bg-blue-500/10 border-blue-500/30"}},S=s=>s>=90?"text-green-400":s>=80?"text-lime-400":s>=70?"text-yellow-400":s>=60?"text-orange-400":"text-red-400",J=s=>s>=.9?"bg-green-500":s>=.8?"bg-lime-500":s>=.7?"bg-yellow-500":s>=.6?"bg-orange-500":"bg-red-500";return e.jsxs("div",{className:`space-y-6 ${B}`,children:[e.jsxs("section",{className:"rounded-2xl border border-surface-700 bg-surface-800/80 p-6 backdrop-blur",children:[e.jsx("h2",{className:"mb-4 text-lg font-semibold text-primary-100",children:"Upload Your Mix"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-surface-300 mb-2",children:"Target Genre"}),e.jsx("select",{value:u,onChange:s=>k(s.target.value),className:"w-full rounded-lg bg-surface-700/50 px-3 py-2 text-surface-100 focus:ring-2 focus:ring-primary-500 transition-colors",children:w.map(s=>e.jsx("option",{value:s,children:s},s))}),e.jsx("p",{className:"mt-1 text-xs text-surface-400",children:r?"ðŸ’¡ Switching genre will re-analyze instantly":"Select your genre for accurate benchmarking"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-surface-300 mb-2",children:"Mixing Stage"}),e.jsx("select",{value:o,onChange:s=>E(s.target.value),className:"w-full rounded-lg bg-surface-700/50 px-3 py-2 text-surface-100 focus:ring-2 focus:ring-primary-500 transition-colors",children:f.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))}),e.jsx("p",{className:"mt-1 text-xs text-surface-400",children:(M=f.find(s=>s.value===o))==null?void 0:M.description})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"audio-upload",className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-surface-600 rounded-2xl cursor-pointer hover:border-primary-500 hover:bg-surface-700/30 transition-colors",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx("svg",{className:"w-12 h-12 mb-3 text-surface-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e.jsxs("p",{className:"mb-2 text-sm text-surface-300",children:[e.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),e.jsx("p",{className:"text-xs text-surface-400",children:"MP3, WAV, M4A (including Voice Memos), AAC, OGG, FLAC (Max 500MB)"}),e.jsx("p",{className:"text-xs text-surface-500 mt-1",children:"ðŸ’¡ High-quality WAV/FLAC files recommended for accurate analysis"})]}),e.jsx("input",{id:"audio-upload",type:"file",className:"hidden",accept:"audio/*,.mp3,.wav,.m4a,.aac,.ogg,.flac,.wma",onChange:W})]}),n&&e.jsxs("div",{className:"mt-4 flex items-center justify-between bg-surface-700/50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary-500/20 flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-primary-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M18 3a1 1 0 00-1.196-.98l-10 2A1 1 0 006 5v9.114A4.369 4.369 0 005 14c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V7.82l8-1.6v5.894A4.37 4.37 0 0015 12c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V3z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-surface-200",children:n.name}),e.jsxs("p",{className:"text-xs text-surface-400",children:[(n.size/1024/1024).toFixed(2)," MB"]})]})]}),e.jsx("button",{onClick:()=>y(null),className:"text-surface-400 hover:text-surface-200 transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}),_&&e.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-red-400",children:_})}),e.jsx("button",{onClick:O,disabled:!n||h,className:"w-full md:w-auto px-6 py-3 bg-primary-600 hover:bg-primary-700 disabled:bg-surface-700 disabled:text-surface-500 disabled:cursor-not-allowed text-primary-50 rounded-lg font-medium transition-colors",children:h?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Analyzing..."]}):"ðŸŽµ Analyze Mix"}),i.length>0&&e.jsxs("div",{className:"flex items-center justify-between text-sm text-surface-400 pt-2",children:[e.jsxs("span",{children:["Version history: ",i.length," upload",i.length>1?"s":""]}),e.jsx("button",{onClick:q,className:"text-red-400 hover:text-red-300 transition-colors",children:"Clear history"})]})]})]}),r&&i.length>1&&P&&e.jsxs("section",{className:"rounded-2xl border border-purple-700/50 bg-purple-900/20 p-6 backdrop-blur",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-purple-100",children:"ðŸ“Š Version Comparison"}),e.jsx("button",{onClick:()=>v(!1),className:"text-surface-400 hover:text-surface-200",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),(()=>{const s=i[i.length-2].analysis,a=K(s,r);return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-purple-500/10 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-purple-200",children:a.summary})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"bg-surface-800/50 rounded-lg p-4",children:[e.jsx("div",{className:"text-xs text-surface-400 mb-1",children:"Score Change"}),e.jsxs("div",{className:`text-2xl font-bold ${a.score_improvement>0?"text-green-400":a.score_improvement<0?"text-red-400":"text-surface-300"}`,children:[a.score_improvement>0?"+":"",a.score_improvement.toFixed(0)]}),e.jsxs("div",{className:"text-xs text-surface-400 mt-1",children:["v",i.length-1,": ",s.score.overall," â†’ v",i.length,": ",r.score.overall]})]}),a.improved_categories.length>0&&e.jsxs("div",{className:"bg-surface-800/50 rounded-lg p-4",children:[e.jsx("div",{className:"text-xs text-green-400 mb-2",children:"âœ“ Improved"}),e.jsx("div",{className:"space-y-1",children:a.improved_categories.map(l=>e.jsx("div",{className:"text-xs text-surface-300 capitalize",children:l.replace("_"," ")},l))})]}),a.regressed_categories.length>0&&e.jsxs("div",{className:"bg-surface-800/50 rounded-lg p-4",children:[e.jsx("div",{className:"text-xs text-red-400 mb-2",children:"âš  Watch"}),e.jsx("div",{className:"space-y-1",children:a.regressed_categories.map(l=>e.jsx("div",{className:"text-xs text-surface-300 capitalize",children:l.replace("_"," ")},l))})]})]})]})})()]}),r&&e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"rounded-2xl border border-surface-700 bg-surface-800/80 p-6 backdrop-blur",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-primary-100 mb-1",children:"Analysis Complete"}),e.jsx("p",{className:"text-sm text-surface-400",children:r.file_info.name}),e.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[e.jsx("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-blue-500/10 border border-blue-500/30 rounded-full",children:e.jsx("span",{className:"text-xs text-blue-300",children:((C=f.find(s=>s.value===r.mixing_stage))==null?void 0:C.label)||r.mixing_stage})}),e.jsx("div",{className:"inline-flex items-center gap-1 bg-surface-900/50 rounded-full p-1",children:w.map(s=>e.jsx("button",{onClick:()=>k(s),disabled:h,className:`px-3 py-1 text-xs rounded-full transition-all ${u===s?"bg-primary-500 text-white font-medium":"text-surface-400 hover:text-surface-200 hover:bg-surface-800"} ${h?"opacity-50 cursor-not-allowed":""}`,children:s},s))})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-5xl font-bold ${S(r.score.overall)}`,children:r.score.overall}),e.jsx("div",{className:"text-sm text-surface-400 mt-1",children:"Overall Score"})]})]}),e.jsx("div",{className:"bg-surface-900/50 rounded-xl p-4",children:e.jsx("p",{className:"text-sm text-surface-200 leading-relaxed",children:r.overall_assessment})})]}),g.length>0&&e.jsxs("section",{className:"rounded-2xl border border-blue-700/50 bg-blue-900/20 p-6 backdrop-blur",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-100",children:"âœ“ Action Checklist"}),e.jsxs("div",{className:"text-sm text-surface-400",children:[g.filter(s=>s.completed).length," / ",g.length," completed"]})]}),e.jsx("div",{className:"space-y-3",children:g.map(s=>e.jsx("div",{className:`bg-surface-800/50 rounded-lg p-4 transition-opacity ${s.completed?"opacity-60":""}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("input",{type:"checkbox",checked:s.completed,onChange:()=>D(s.id),className:"mt-1 w-5 h-5 rounded border-surface-600 bg-surface-700 text-blue-500 focus:ring-2 focus:ring-blue-500 cursor-pointer"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:`text-sm font-medium capitalize ${s.completed?"line-through text-surface-400":"text-surface-200"}`,children:s.title}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${s.priority==="high"?"bg-red-500/20 text-red-300":s.priority==="medium"?"bg-yellow-500/20 text-yellow-300":"bg-surface-600 text-surface-300"}`,children:s.priority})]}),s.notes&&e.jsx("p",{className:`text-sm ${s.completed?"text-surface-500":"text-surface-400"}`,children:s.notes})]})]})},s.id))})]}),e.jsxs("section",{className:"rounded-2xl border border-surface-700 bg-surface-800/80 p-6 backdrop-blur",children:[e.jsx("h3",{className:"text-lg font-semibold text-primary-100 mb-4",children:"Score Breakdown"}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Object.entries(r.score.breakdown).map(([s,a])=>e.jsxs("div",{className:"bg-surface-900/50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-surface-300 capitalize",children:s.replace("_"," ")}),e.jsx("span",{className:`text-lg font-semibold ${S(a*100)}`,children:Math.round(a*100)})]}),e.jsx("div",{className:"w-full bg-surface-700 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all ${J(a)}`,style:{width:`${a*100}%`}})})]},s))})]}),r.strengths.length>0&&e.jsxs("section",{className:"rounded-2xl border border-green-700/50 bg-green-900/20 p-6 backdrop-blur",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-100 mb-4",children:"âœ¨ Strengths"}),e.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:r.strengths.map((s,a)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm text-green-200",children:[e.jsx("span",{className:"mt-0.5",children:"â€¢"}),e.jsx("span",{children:s})]},a))})]}),r.stage_appropriate_tips.length>0&&e.jsxs("section",{className:"rounded-2xl border border-blue-700/50 bg-blue-900/20 p-6 backdrop-blur",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-100 mb-4",children:["ðŸ’¡ Tips for ",((z=f.find(s=>s.value===r.mixing_stage))==null?void 0:z.label)||"Your Stage"]}),e.jsx("div",{className:"space-y-2",children:r.stage_appropriate_tips.map((s,a)=>e.jsxs("div",{className:"flex items-start gap-3 text-sm text-blue-200",children:[e.jsxs("span",{className:"text-blue-400 font-semibold flex-shrink-0",children:[a+1,"."]}),e.jsx("span",{children:s})]},a))})]}),r.issues.length>0&&e.jsxs("section",{className:"rounded-2xl border border-surface-700 bg-surface-800/80 p-6 backdrop-blur",children:[e.jsxs("h3",{className:"text-lg font-semibold text-primary-100 mb-4",children:["ðŸ” Diagnostic Issues (",r.issues.length,")"]}),e.jsx("div",{className:"space-y-4",children:r.issues.map((s,a)=>e.jsxs("div",{className:`border rounded-xl p-4 ${H(s.severity)}`,children:[e.jsx("div",{className:"flex items-start justify-between mb-2",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-1",children:s.title}),e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx("span",{className:"px-2 py-0.5 bg-surface-800/50 rounded capitalize",children:s.severity}),e.jsx("span",{className:"px-2 py-0.5 bg-surface-800/50 rounded capitalize",children:s.category.replace("_"," ")})]})]})}),e.jsx("p",{className:"text-sm mb-3 opacity-90",children:s.description}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-2 mb-3 text-xs",children:[e.jsxs("div",{className:"bg-surface-800/50 rounded px-3 py-2",children:[e.jsx("span",{className:"opacity-70",children:"Current: "}),e.jsx("span",{className:"font-medium",children:s.current_value})]}),s.target_value&&e.jsxs("div",{className:"bg-surface-800/50 rounded px-3 py-2",children:[e.jsx("span",{className:"opacity-70",children:"Target: "}),e.jsx("span",{className:"font-medium",children:s.target_value})]})]}),e.jsxs("div",{className:"space-y-1 mb-3",children:[e.jsx("p",{className:"text-xs font-medium opacity-70",children:"Recommendations:"}),e.jsx("ul",{className:"text-xs space-y-1",children:s.recommendations.map((l,c)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"mt-0.5",children:"â€¢"}),e.jsx("span",{children:l})]},c))})]}),s.technical_details&&e.jsxs("details",{className:"text-xs",children:[e.jsx("summary",{className:"cursor-pointer opacity-70 hover:opacity-100",children:"Technical Details"}),e.jsx("p",{className:"mt-2 opacity-80",children:s.technical_details})]})]},a))})]}),e.jsxs("section",{className:"rounded-2xl border border-primary-700 bg-primary-900/20 p-6 backdrop-blur",children:[e.jsx("h3",{className:"text-lg font-semibold text-primary-100 mb-4",children:"ðŸŽ¯ Next Steps"}),e.jsx("div",{className:"space-y-2",children:r.next_steps.map((s,a)=>e.jsxs("div",{className:"flex items-start gap-3 text-sm text-surface-200",children:[e.jsxs("span",{className:"text-primary-400 font-semibold",children:[a+1,"."]}),e.jsx("span",{children:s})]},a))})]}),r.similar_reference_tracks&&r.similar_reference_tracks.length>0&&e.jsxs("section",{className:"rounded-2xl border border-surface-700 bg-surface-800/80 p-6 backdrop-blur",children:[e.jsxs("h3",{className:"text-lg font-semibold text-primary-100 mb-4",children:["ðŸŽ§ Reference Tracks for ",r.benchmarks_used.genre]}),e.jsx("div",{className:"grid gap-2 md:grid-cols-2 lg:grid-cols-3",children:r.similar_reference_tracks.map((s,a)=>e.jsxs("div",{className:"bg-surface-700/50 rounded-lg px-4 py-3 text-sm text-surface-200 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-primary-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M18 3a1 1 0 00-1.196-.98l-10 2A1 1 0 006 5v9.114A4.369 4.369 0 005 14c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V7.82l8-1.6v5.894A4.37 4.37 0 0015 12c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V3z"})}),e.jsx("span",{children:s})]},a))}),e.jsx("p",{className:"mt-4 text-xs text-surface-400",children:"A/B compare your mix with these tracks to identify differences in loudness, frequency balance, and stereo width."})]}),r.regional_analysis&&e.jsxs("section",{className:"rounded-2xl border border-green-700/50 bg-green-900/20 p-6 backdrop-blur",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-100 mb-4",children:"ðŸŒ Target Markets & Regions"}),e.jsx("div",{className:"bg-surface-800/50 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-surface-400 mb-1",children:"Global Appeal Score"}),e.jsxs("div",{className:`text-3xl font-bold ${r.regional_analysis.global_appeal_score>=75?"text-green-400":r.regional_analysis.global_appeal_score>=60?"text-yellow-400":"text-orange-400"}`,children:[r.regional_analysis.global_appeal_score,"/100"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-surface-400 mb-1",children:"Recommended Territories"}),e.jsx("div",{className:"text-sm text-surface-200",children:r.regional_analysis.recommended_territories.slice(0,3).join(", ")})]})]})}),r.regional_analysis.market_strategy_insights.length>0&&e.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 mb-6",children:e.jsx("div",{className:"space-y-2",children:r.regional_analysis.market_strategy_insights.map((s,a)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm text-blue-200",children:[e.jsx("span",{className:"mt-0.5",children:"â†’"}),e.jsx("span",{children:s})]},a))})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-md font-semibold text-green-200 mb-3",children:"ðŸŽ¯ Primary Target Markets"}),e.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:r.regional_analysis.primary_markets.map((s,a)=>e.jsxs("div",{className:"bg-surface-800/50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-sm font-medium text-surface-200",children:s.region}),e.jsx("span",{className:`text-lg font-bold ${s.match_score>=80?"text-green-400":s.match_score>=65?"text-yellow-400":"text-orange-400"}`,children:s.match_score})]}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-surface-400",children:"Genre Fit"}),e.jsx("span",{className:"text-surface-300",children:s.match_factors.genre_fit})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-surface-400",children:"Sonic Fit"}),e.jsx("span",{className:"text-surface-300",children:s.match_factors.sonic_fit})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-surface-400",children:"Market Size"}),e.jsx("span",{className:"text-surface-300",children:s.match_factors.market_opportunity})]})]}),s.strengths.length>0&&e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"text-xs text-green-400 mb-1",children:"âœ“ Strengths"}),s.strengths.slice(0,2).map((l,c)=>e.jsxs("div",{className:"text-xs text-surface-300 mb-1",children:["â€¢ ",l]},c))]}),s.recommended_strategy.length>0&&e.jsxs("div",{className:"border-t border-surface-700 pt-2 mt-2",children:[e.jsx("div",{className:"text-xs text-blue-400 mb-1",children:"ðŸ“‹ Strategy"}),e.jsx("div",{className:"text-xs text-surface-400",children:s.recommended_strategy[0]})]})]},s.region))})]}),e.jsxs("details",{className:"border-t border-surface-700 pt-4",children:[e.jsx("summary",{className:"cursor-pointer text-sm font-medium text-surface-300 hover:text-surface-100 transition-colors",children:"View Secondary Markets â†’"}),e.jsx("div",{className:"grid gap-3 md:grid-cols-3 mt-4",children:r.regional_analysis.secondary_markets.map(s=>e.jsxs("div",{className:"bg-surface-900/30 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs font-medium text-surface-300",children:s.region}),e.jsx("span",{className:"text-sm font-bold text-surface-400",children:s.match_score})]}),s.considerations.length>0&&e.jsx("div",{className:"text-xs text-surface-500",children:s.considerations[0]})]},s.region))})]}),r.regional_analysis.playlist_targeting.length>0&&e.jsxs("div",{className:"border-t border-surface-700 pt-4 mt-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-green-200 mb-3",children:"ðŸŽµ Playlist Targeting Strategy"}),e.jsx("div",{className:"grid gap-3 md:grid-cols-3",children:r.regional_analysis.playlist_targeting.map(s=>e.jsxs("div",{className:"bg-surface-900/30 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs font-medium text-surface-300 mb-2",children:s.region}),e.jsx("div",{className:"space-y-1",children:s.playlist_types.slice(0,3).map((a,l)=>e.jsxs("div",{className:"text-xs text-surface-400",children:["â€¢ ",a]},l))})]},s.region))})]})]}),((A=r.regional_analysis)==null?void 0:A.subregional_analysis)&&r.regional_analysis.subregional_analysis.length>0&&e.jsxs("section",{className:"rounded-2xl border border-purple-700/50 bg-purple-900/20 p-6 backdrop-blur",children:[e.jsxs("h3",{className:"text-lg font-semibold text-purple-100 mb-4",children:["ðŸŽ¯ ",r.regional_analysis.subregional_analysis[0].country," - City-Level Targeting"]}),e.jsx("p",{className:"text-sm text-surface-300 mb-6",children:r.regional_analysis.subregional_analysis[0].market_overview}),e.jsx("div",{className:"space-y-4",children:r.regional_analysis.subregional_analysis[0].top_subregions.map((s,a)=>e.jsxs("div",{className:`bg-surface-800/50 rounded-lg p-5 border ${a===0?"border-purple-500/50":"border-surface-700"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"text-lg font-semibold text-surface-100",children:s.region}),a===0&&e.jsx("span",{className:"text-xs bg-purple-500/20 text-purple-300 px-2 py-1 rounded-full",children:"Top Match"})]}),e.jsx("div",{className:"text-xs text-surface-400 mt-1",children:s.strengths[0]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-2xl font-bold ${s.match_score>=85?"text-green-400":s.match_score>=70?"text-yellow-400":"text-orange-400"}`,children:s.match_score}),e.jsx("div",{className:"text-xs text-surface-400",children:"Match"})]})]}),s.key_venues.length>0&&e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-xs font-medium text-purple-300 mb-2",children:"ðŸŽª Key Venues"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.key_venues.map(l=>e.jsx("span",{className:"text-xs bg-surface-700/50 text-surface-300 px-2 py-1 rounded",children:l},l))})]}),s.recommended_actions.length>0&&e.jsxs("div",{className:"border-t border-surface-700 pt-3 mt-3",children:[e.jsx("div",{className:"text-xs font-medium text-blue-300 mb-2",children:"ðŸ“‹ Recommended Actions"}),e.jsx("div",{className:"space-y-2",children:s.recommended_actions.map((l,c)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm text-surface-300",children:[e.jsx("span",{className:"text-blue-400 mt-0.5",children:"â†’"}),e.jsx("span",{children:l})]},c))})]})]},s.region))}),e.jsx("div",{className:"mt-4 p-4 bg-purple-500/10 border border-purple-500/30 rounded-lg",children:e.jsxs("p",{className:"text-xs text-purple-200",children:["ðŸ’¡ ",e.jsx("strong",{children:"Pro Tip:"})," Focus your initial marketing budget on the top 2-3 cities. Build momentum locally before expanding to other markets."]})})]}),e.jsxs("details",{className:"rounded-2xl border border-surface-700 bg-surface-800/80 backdrop-blur",children:[e.jsx("summary",{className:"cursor-pointer p-6 hover:bg-surface-700/30 transition-colors",children:e.jsx("span",{className:"text-lg font-semibold text-primary-100",children:"ðŸ“Š Technical Analysis Data"})}),e.jsx("div",{className:"px-6 pb-6 space-y-4",children:e.jsxs("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3 text-sm",children:[e.jsxs("div",{className:"bg-surface-900/50 rounded p-3",children:[e.jsx("span",{className:"text-surface-400",children:"Tempo:"}),e.jsxs("span",{className:"ml-2 text-surface-200 font-medium",children:[Math.round(r.audio_features.tempo_bpm)," BPM"]})]}),e.jsxs("div",{className:"bg-surface-900/50 rounded p-3",children:[e.jsx("span",{className:"text-surface-400",children:"Loudness:"}),e.jsxs("span",{className:"ml-2 text-surface-200 font-medium",children:[r.audio_features.loudness_db.toFixed(1)," LUFS"]})]}),e.jsxs("div",{className:"bg-surface-900/50 rounded p-3",children:[e.jsx("span",{className:"text-surface-400",children:"Dynamic Range:"}),e.jsxs("span",{className:"ml-2 text-surface-200 font-medium",children:[(F=r.audio_features.dynamic_range_db)==null?void 0:F.toFixed(1)," dB"]})]}),e.jsxs("div",{className:"bg-surface-900/50 rounded p-3",children:[e.jsx("span",{className:"text-surface-400",children:"Stereo Width:"}),e.jsxs("span",{className:"ml-2 text-surface-200 font-medium",children:[((r.audio_features.stereo_width||0)*100).toFixed(0),"%"]})]}),e.jsxs("div",{className:"bg-surface-900/50 rounded p-3",children:[e.jsx("span",{className:"text-surface-400",children:"Duration:"}),e.jsxs("span",{className:"ml-2 text-surface-200 font-medium",children:[Math.floor(r.audio_features.duration_seconds/60),":",String(Math.floor(r.audio_features.duration_seconds%60)).padStart(2,"0")]})]}),e.jsxs("div",{className:"bg-surface-900/50 rounded p-3",children:[e.jsx("span",{className:"text-surface-400",children:"Energy:"}),e.jsxs("span",{className:"ml-2 text-surface-200 font-medium",children:[(r.audio_features.energy*100).toFixed(0),"%"]})]})]})})]})]})]})}export{X as default};
